import{r as PM,a as VV,b as p,R as k,c as md,d as OM,e as G_,N as qV,u as zn,f as K_,L as Mi,g as Jd,h as Lt,H as WV,i as HV,j as Zr}from"./router-5OZGE9xN.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var hg={exports:{}},cc={};var nN;function GV(){if(nN)return cc;nN=1;var e=PM(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,u){var d,f={},h=null,m=null;u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(m=c.ref);for(d in c)n.call(c,d)&&!i.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:t,type:l,key:h,ref:m,props:f,_owner:a.current}}return cc.Fragment=r,cc.jsx=s,cc.jsxs=s,cc}var aN;function KV(){return aN||(aN=1,hg.exports=GV()),hg.exports}var o=KV(),Qd={},iN;function YV(){if(iN)return Qd;iN=1;var e=VV();return Qd.createRoot=e.createRoot,Qd.hydrateRoot=e.hydrateRoot,Qd}var XV=YV();const ZV=1,JV=1e6;let mg=0;function QV(){return mg=(mg+1)%Number.MAX_SAFE_INTEGER,mg.toString()}const pg=new Map,sN=e=>{if(pg.has(e))return;const t=setTimeout(()=>{pg.delete(e),$c({type:"REMOVE_TOAST",toastId:e})},JV);pg.set(e,t)},eq=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ZV)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?sN(r):e.toasts.forEach(n=>{sN(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},If=[];let $f={toasts:[]};function $c(e){$f=eq($f,e),If.forEach(t=>{t($f)})}function tq({...e}){const t=QV(),r=a=>$c({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>$c({type:"DISMISS_TOAST",toastId:t});return $c({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function pd(){const[e,t]=p.useState($f);return p.useEffect(()=>(If.push(t),()=>{const r=If.indexOf(t);r>-1&&If.splice(r,1)}),[e]),{...e,toast:tq,dismiss:r=>$c({type:"DISMISS_TOAST",toastId:r})}}function ce(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function oN(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function za(...e){return t=>{let r=!1;const n=e.map(a=>{const i=oN(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():oN(e[a],null)}}}}function Fe(...e){return p.useCallback(za(...e),e)}function rq(e,t){const r=p.createContext(t),n=i=>{const{children:s,...l}=i,c=p.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:s})};n.displayName=e+"Provider";function a(i){const s=p.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Fr(e,t=[]){let r=[];function n(i,s){const l=p.createContext(s),c=r.length;r=[...r,s];const u=f=>{const{scope:h,children:m,...v}=f,g=h?.[e]?.[c]||l,y=p.useMemo(()=>v,Object.values(v));return o.jsx(g.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(f,h){const m=h?.[e]?.[c]||l,v=p.useContext(m);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>p.createContext(s));return function(l){const c=l?.[e]||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,nq(a,...t)]}function nq(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function lN(e){const t=aq(e),r=p.forwardRef((n,a)=>{const{children:i,...s}=n,l=p.Children.toArray(i),c=l.find(sq);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function aq(e){const t=p.forwardRef((r,n)=>{const{children:a,...i}=r;if(p.isValidElement(a)){const s=lq(a),l=oq(i,a.props);return a.type!==p.Fragment&&(l.ref=n?za(n,s):s),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iq=Symbol("radix.slottable");function sq(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iq}function oq(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function lq(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function gd(e){const t=e+"CollectionProvider",[r,n]=Fr(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:y,children:x}=g,b=k.useRef(null),w=k.useRef(new Map).current;return o.jsx(a,{scope:y,itemMap:w,collectionRef:b,children:x})};s.displayName=t;const l=e+"CollectionSlot",c=lN(l),u=k.forwardRef((g,y)=>{const{scope:x,children:b}=g,w=i(l,x),j=Fe(y,w.collectionRef);return o.jsx(c,{ref:j,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=lN(d),m=k.forwardRef((g,y)=>{const{scope:x,children:b,...w}=g,j=k.useRef(null),_=Fe(y,j),S=i(d,x);return k.useEffect(()=>(S.itemMap.set(j,{ref:j,...w}),()=>{S.itemMap.delete(j)})),o.jsx(h,{[f]:"",ref:_,children:b})});m.displayName=d;function v(g){const y=i(e+"CollectionConsumer",g);return k.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((S,N)=>w.indexOf(S.ref.current)-w.indexOf(N.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:s,Slot:u,ItemSlot:m},v,n]}function cq(e){const t=uq(e),r=p.forwardRef((n,a)=>{const{children:i,...s}=n,l=p.Children.toArray(i),c=l.find(fq);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function uq(e){const t=p.forwardRef((r,n)=>{const{children:a,...i}=r;if(p.isValidElement(a)){const s=mq(a),l=hq(i,a.props);return a.type!==p.Fragment&&(l.ref=n?za(n,s):s),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dq=Symbol("radix.slottable");function fq(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dq}function hq(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function mq(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var pq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ce=pq.reduce((e,t)=>{const r=cq(`Primitive.${t}`),n=p.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Y_(e,t){e&&md.flushSync(()=>e.dispatchEvent(t))}function Qt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>t.current?.(...r),[])}function gq(e,t=globalThis?.document){const r=Qt(e);p.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var yq="DismissableLayer",u0="dismissableLayer.update",vq="dismissableLayer.pointerDownOutside",xq="dismissableLayer.focusOutside",cN,kM=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),io=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:l,...c}=e,u=p.useContext(kM),[d,f]=p.useState(null),h=d?.ownerDocument??globalThis?.document,[,m]=p.useState({}),v=Fe(t,N=>f(N)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(y),b=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=b>=x,_=wq(N=>{const T=N.target,C=[...u.branches].some(A=>A.contains(T));!j||C||(a?.(N),s?.(N),N.defaultPrevented||l?.())},h),S=_q(N=>{const T=N.target;[...u.branches].some(A=>A.contains(T))||(i?.(N),s?.(N),N.defaultPrevented||l?.())},h);return gq(N=>{b===u.layers.size-1&&(n?.(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(cN=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),uN(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=cN)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),uN())},[d,u]),p.useEffect(()=>{const N=()=>m({});return document.addEventListener(u0,N),()=>document.removeEventListener(u0,N)},[]),o.jsx(Ce.div,{...c,ref:v,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:ce(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ce(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ce(e.onPointerDownCapture,_.onPointerDownCapture)})});io.displayName=yq;var bq="DismissableLayerBranch",RM=p.forwardRef((e,t)=>{const r=p.useContext(kM),n=p.useRef(null),a=Fe(t,n);return p.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(Ce.div,{...e,ref:a})});RM.displayName=bq;function wq(e,t=globalThis?.document){const r=Qt(e),n=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){MM(vq,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function _q(e,t=globalThis?.document){const r=Qt(e),n=p.useRef(!1);return p.useEffect(()=>{const a=i=>{i.target&&!n.current&&MM(xq,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function uN(){const e=new CustomEvent(u0);document.dispatchEvent(e)}function MM(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Y_(a,i):a.dispatchEvent(i)}var jq=io,Sq=RM,ar=globalThis?.document?p.useLayoutEffect:()=>{},Nq="Portal",Fl=p.forwardRef((e,t)=>{const{container:r,...n}=e,[a,i]=p.useState(!1);ar(()=>i(!0),[]);const s=r||a&&globalThis?.document?.body;return s?OM.createPortal(o.jsx(Ce.div,{...n,ref:t}),s):null});Fl.displayName=Nq;function Cq(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var Sr=e=>{const{present:t,children:r}=e,n=Tq(t),a=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),i=Fe(n.ref,Eq(a));return typeof r=="function"||n.isPresent?p.cloneElement(a,{ref:i}):null};Sr.displayName="Presence";function Tq(e){const[t,r]=p.useState(),n=p.useRef(null),a=p.useRef(e),i=p.useRef("none"),s=e?"mounted":"unmounted",[l,c]=Cq(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=ef(n.current);i.current=l==="mounted"?u:"none"},[l]),ar(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=ef(u);e?c("MOUNT"):m==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),ar(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=ef(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&g&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(i.current=ef(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function ef(e){return e?.animationName||"none"}function Eq(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Aq=G_[" useInsertionEffect ".trim().toString()]||ar;function $n({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,s]=Pq({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{if(l){const f=Oq(d)?d(e):d;f!==e&&s.current?.(f)}else i(d)},[l,e,i,s]);return[c,u]}function Pq({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),a=p.useRef(r),i=p.useRef(t);return Aq(()=>{i.current=t},[t]),p.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function Oq(e){return typeof e=="function"}var DM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),kq="VisuallyHidden",Rm=p.forwardRef((e,t)=>o.jsx(Ce.span,{...e,ref:t,style:{...DM,...e.style}}));Rm.displayName=kq;var Rq=Rm,X_="ToastProvider",[Z_,Mq,Dq]=gd("Toast"),[IM]=Fr("Toast",[Dq]),[Iq,Mm]=IM(X_),$M=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:s}=e,[l,c]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${X_}\`. Expected non-empty \`string\`.`),o.jsx(Z_.Provider,{scope:t,children:o.jsx(Iq,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};$M.displayName=X_;var LM="ToastViewport",$q=["F8"],d0="toast.viewportPause",f0="toast.viewportResume",FM=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=$q,label:a="Notifications ({hotkey})",...i}=e,s=Mm(LM,r),l=Mq(r),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=Fe(t,f,s.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=s.toastCount>0;p.useEffect(()=>{const y=x=>{n.length!==0&&n.every(w=>x[w]||x.code===w)&&f.current?.focus()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),p.useEffect(()=>{const y=c.current,x=f.current;if(v&&y&&x){const b=()=>{if(!s.isClosePausedRef.current){const S=new CustomEvent(d0);x.dispatchEvent(S),s.isClosePausedRef.current=!0}},w=()=>{if(s.isClosePausedRef.current){const S=new CustomEvent(f0);x.dispatchEvent(S),s.isClosePausedRef.current=!1}},j=S=>{!y.contains(S.relatedTarget)&&w()},_=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",b),y.addEventListener("focusout",j),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",_),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",j),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",_),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[v,s.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:y})=>{const b=l().map(w=>{const j=w.ref.current,_=[j,...Xq(j)];return y==="forwards"?_:_.reverse()});return(y==="forwards"?b.reverse():b).flat()},[l]);return p.useEffect(()=>{const y=f.current;if(y){const x=b=>{const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const _=document.activeElement,S=b.shiftKey;if(b.target===y&&S){u.current?.focus();return}const C=g({tabbingDirection:S?"backwards":"forwards"}),A=C.findIndex(P=>P===_);gg(C.slice(A+1))?b.preventDefault():S?u.current?.focus():d.current?.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[l,g]),o.jsxs(Sq,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&o.jsx(h0,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});gg(y)}}),o.jsx(Z_.Slot,{scope:r,children:o.jsx(Ce.ol,{tabIndex:-1,...i,ref:h})}),v&&o.jsx(h0,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});gg(y)}})]})});FM.displayName=LM;var BM="ToastFocusProxy",h0=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=Mm(BM,r);return o.jsx(Rm,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:s=>{const l=s.relatedTarget;!i.viewport?.contains(l)&&n()}})});h0.displayName=BM;var yd="Toast",Lq="toast.swipeStart",Fq="toast.swipeMove",Bq="toast.swipeCancel",zq="toast.swipeEnd",zM=p.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...s}=e,[l,c]=$n({prop:n,defaultProp:a??!0,onChange:i,caller:yd});return o.jsx(Sr,{present:r||l,children:o.jsx(qq,{open:l,...s,ref:t,onClose:()=>c(!1),onPause:Qt(e.onPause),onResume:Qt(e.onResume),onSwipeStart:ce(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ce(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ce(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ce(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});zM.displayName=yd;var[Uq,Vq]=IM(yd,{onClose(){}}),qq=p.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:s,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=e,g=Mm(yd,r),[y,x]=p.useState(null),b=Fe(t,O=>x(O)),w=p.useRef(null),j=p.useRef(null),_=a||g.duration,S=p.useRef(0),N=p.useRef(_),T=p.useRef(0),{onToastAdd:C,onToastRemove:A}=g,P=Qt(()=>{y?.contains(document.activeElement)&&g.viewport?.focus(),s()}),E=p.useCallback(O=>{!O||O===1/0||(window.clearTimeout(T.current),S.current=new Date().getTime(),T.current=window.setTimeout(P,O))},[P]);p.useEffect(()=>{const O=g.viewport;if(O){const M=()=>{E(N.current),u?.()},D=()=>{const I=new Date().getTime()-S.current;N.current=N.current-I,window.clearTimeout(T.current),c?.()};return O.addEventListener(d0,D),O.addEventListener(f0,M),()=>{O.removeEventListener(d0,D),O.removeEventListener(f0,M)}}},[g.viewport,_,c,u,E]),p.useEffect(()=>{i&&!g.isClosePausedRef.current&&E(_)},[i,_,g.isClosePausedRef,E]),p.useEffect(()=>(C(),()=>A()),[C,A]);const R=p.useMemo(()=>y?KM(y):null,[y]);return g.viewport?o.jsxs(o.Fragment,{children:[R&&o.jsx(Wq,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:R}),o.jsx(Uq,{scope:r,onClose:P,children:md.createPortal(o.jsx(Z_.ItemSlot,{scope:r,children:o.jsx(jq,{asChild:!0,onEscapeKeyDown:ce(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||P(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Ce.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ce(e.onKeyDown,O=>{O.key==="Escape"&&(l?.(O.nativeEvent),O.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:ce(e.onPointerDown,O=>{O.button===0&&(w.current={x:O.clientX,y:O.clientY})}),onPointerMove:ce(e.onPointerMove,O=>{if(!w.current)return;const M=O.clientX-w.current.x,D=O.clientY-w.current.y,I=!!j.current,F=["left","right"].includes(g.swipeDirection),$=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,V=F?$(0,M):0,X=F?0:$(0,D),Y=O.pointerType==="touch"?10:2,q={x:V,y:X},oe={originalEvent:O,delta:q};I?(j.current=q,tf(Fq,f,oe,{discrete:!1})):dN(q,g.swipeDirection,Y)?(j.current=q,tf(Lq,d,oe,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(M)>Y||Math.abs(D)>Y)&&(w.current=null)}),onPointerUp:ce(e.onPointerUp,O=>{const M=j.current,D=O.target;if(D.hasPointerCapture(O.pointerId)&&D.releasePointerCapture(O.pointerId),j.current=null,w.current=null,M){const I=O.currentTarget,F={originalEvent:O,delta:M};dN(M,g.swipeDirection,g.swipeThreshold)?tf(zq,m,F,{discrete:!0}):tf(Bq,h,F,{discrete:!0}),I.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Wq=e=>{const{__scopeToast:t,children:r,...n}=e,a=Mm(yd,t),[i,s]=p.useState(!1),[l,c]=p.useState(!1);return Kq(()=>s(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Fl,{asChild:!0,children:o.jsx(Rm,{...n,children:i&&o.jsxs(o.Fragment,{children:[a.label," ",r]})})})},Hq="ToastTitle",UM=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Ce.div,{...n,ref:t})});UM.displayName=Hq;var Gq="ToastDescription",VM=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Ce.div,{...n,ref:t})});VM.displayName=Gq;var qM="ToastAction",WM=p.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(GM,{altText:r,asChild:!0,children:o.jsx(J_,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${qM}\`. Expected non-empty \`string\`.`),null)});WM.displayName=qM;var HM="ToastClose",J_=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=Vq(HM,r);return o.jsx(GM,{asChild:!0,children:o.jsx(Ce.button,{type:"button",...n,ref:t,onClick:ce(e.onClick,a.onClose)})})});J_.displayName=HM;var GM=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return o.jsx(Ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function KM(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Yq(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const s=n.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...KM(n))}}),t}function tf(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Y_(a,i):a.dispatchEvent(i)}var dN=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function Kq(e=()=>{}){const t=Qt(e);ar(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Yq(e){return e.nodeType===e.ELEMENT_NODE}function Xq(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function gg(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Zq=$M,YM=FM,XM=zM,ZM=UM,JM=VM,QM=WM,eD=J_;function tD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=tD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function it(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=tD(e))&&(n&&(n+=" "),n+=t);return n}const fN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,hN=it,Dm=(e,t)=>r=>{var n;if(t?.variants==null)return hN(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(u=>{const d=r?.[u],f=i?.[u];if(d===null)return null;const h=fN(d)||fN(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[g,y]=v;return Array.isArray(y)?y.includes({...i,...l}[g]):{...i,...l}[g]===y})?[...u,f,h]:u},[]);return hN(e,s,c,r?.class,r?.className)};const Jq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();var Qq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eW=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...l},c)=>p.createElement("svg",{ref:c,...Qq,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:rD("lucide",a),...l},[...s.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));const ue=(e,t)=>{const r=p.forwardRef(({className:n,...a},i)=>p.createElement(eW,{ref:i,iconNode:t,className:rD(`lucide-${Jq(e)}`,n),...a}));return r.displayName=`${e}`,r};const tW=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],nD=ue("Apple",tW);const rW=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Zc=ue("Archive",rW);const nW=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Q_=ue("ArrowLeft",nW);const aW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Yf=ue("ArrowRight",aW);const iW=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],aD=ue("ArrowUpDown",iW);const sW=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],iD=ue("Banknote",sW);const oW=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],sD=ue("BellRing",oW);const lW=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],qi=ue("Bell",lW);const cW=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],oD=ue("Building2",cW);const uW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],dW=ue("CalendarDays",uW);const fW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]],hW=ue("CalendarPlus",fW);const mW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gt=ue("Calendar",mW);const pW=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Lf=ue("Camera",pW);const gW=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],m0=ue("ChartColumn",gW);const yW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ln=ue("Check",yW);const vW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],il=ue("ChevronDown",vW);const xW=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],lD=ue("ChevronLeft",xW);const bW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Im=ue("ChevronRight",bW);const wW=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],cD=ue("ChevronUp",wW);const _W=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],jW=ue("Chrome",_W);const SW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vd=ue("CircleAlert",SW);const NW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$i=ue("CircleCheckBig",NW);const CW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Vs=ue("CircleCheck",CW);const TW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],EW=ue("Circle",TW);const AW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],$m=ue("Clock",AW);const PW=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Xf=ue("Coins",PW);const OW=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],uD=ue("Copy",OW);const kW=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],fn=ue("CreditCard",kW);const RW=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],er=ue("Crown",RW);const MW=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],$r=ue("Download",MW);const DW=[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]],IW=ue("Euro",DW);const $W=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],p0=ue("ExternalLink",$W);const LW=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],FW=ue("EyeOff",LW);const BW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ai=ue("Eye",BW);const zW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],UW=ue("FileJson",zW);const VW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],qW=ue("FileSpreadsheet",VW);const WW=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],dD=ue("Filter",WW);const HW=[["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],GW=ue("FolderMinus",HW);const KW=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],YW=ue("FolderOpen",KW);const XW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ZW=ue("Globe",XW);const JW=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],QW=ue("Hand",JW);const e6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],t6=ue("History",e6);const r6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],fD=ue("House",r6);const n6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Zf=ue("Image",n6);const a6=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],mN=ue("Key",a6);const i6=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],s6=ue("Link2",i6);const o6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Vt=ue("LoaderCircle",o6);const l6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],pN=ue("LockOpen",l6);const c6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],g0=ue("Lock",c6);const u6=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],d6=ue("LogIn",u6);const f6=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],y0=ue("LogOut",f6);const h6=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Jc=ue("Mail",h6);const m6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],p6=ue("MapPin",m6);const g6=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],y6=ue("Maximize2",g6);const v6=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],gN=ue("MessageCircle",v6);const x6=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],b6=ue("Mic",x6);const w6=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],_6=ue("Monitor",w6);const j6=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],v0=ue("Paperclip",j6);const S6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],xd=ue("Pencil",S6);const N6=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],C6=ue("Phone",N6);const T6=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],E6=ue("Play",T6);const A6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Bl=ue("Plus",A6);const P6=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Jf=ue("Printer",P6);const O6=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],hD=ue("Receipt",O6);const k6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Qf=ue("RefreshCw",k6);const R6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],yN=ue("RotateCcw",R6);const M6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],e1=ue("Save",M6);const D6=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],mD=ue("Search",D6);const I6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$6=ue("Send",I6);const L6=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Lc=ue("Settings",L6);const F6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],x0=ue("ShieldCheck",F6);const B6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ko=ue("Shield",B6);const z6=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],sl=ue("Smartphone",z6);const U6=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],eh=ue("Sparkles",U6);const V6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Lm=ue("Square",V6);const q6=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],W6=ue("Table2",q6);const H6=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],vN=ue("Tag",H6);const G6=[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]],K6=ue("TestTubeDiagonal",G6);const Y6=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]],X6=ue("ToggleLeft",Y6);const Z6=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]],J6=ue("ToggleRight",Z6);const Q6=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Lr=ue("Trash2",Q6);const e8=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],bd=ue("TrendingDown",e8);const t8=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],wd=ue("TrendingUp",t8);const r8=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pD=ue("TriangleAlert",r8);const n8=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],qs=ue("Upload",n8);const a8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],th=ue("User",a8);const i8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],gD=ue("Users",i8);const s8=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Ws=ue("Volume2",s8);const o8=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Qc=ue("VolumeX",o8);const l8=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],eu=ue("Wallet",l8);const c8=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],xN=ue("Wrench",c8);const u8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ma=ue("X",u8);const d8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],f8=ue("Zap",d8),t1="-",h8=e=>{const t=p8(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const l=s.split(t1);return l[0]===""&&l.length!==1&&l.shift(),yD(l,t)||m8(s)},getConflictingClassGroupIds:(s,l)=>{const c=r[s]||[];return l&&n[s]?[...c,...n[s]]:c}}},yD=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?yD(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(t1);return t.validators.find(({validator:s})=>s(i))?.classGroupId},bN=/^\[(.+)\]$/,m8=e=>{if(bN.test(e)){const t=bN.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},p8=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return y8(Object.entries(e.classGroups),r).forEach(([i,s])=>{b0(s,n,i,t)}),n},b0=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:wN(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(g8(a)){b0(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{b0(s,wN(t,i),r,n)})})},wN=(e,t)=>{let r=e;return t.split(t1).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},g8=e=>e.isThemeGetter,y8=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,l])=>[t+s,l])):i);return[r,a]}):e,v8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},vD="!",x8=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,s=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let x=l[y];if(u===0){if(x===a&&(n||l.slice(y,y+i)===t)){c.push(l.slice(d,y)),d=y+i;continue}if(x==="/"){f=y;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(vD),v=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:s}):s},b8=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},w8=e=>({cache:v8(e.cacheSize),parseClassName:x8(e),...h8(e)}),_8=/\s+/,j8=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],s=e.trim().split(_8);let l="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let v=!!m,g=n(v?h.substring(0,m):h);if(!g){if(!v){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}v=!1}const y=b8(d).join(":"),x=f?y+vD:y,b=x+g;if(i.includes(b))continue;i.push(b);const w=a(g,v);for(let j=0;j<w.length;++j){const _=w[j];i.push(x+_)}l=u+(l.length>0?" "+l:l)}return l};function S8(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=xD(t))&&(n&&(n+=" "),n+=r);return n}const xD=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=xD(e[n]))&&(r&&(r+=" "),r+=t);return r};function N8(e,...t){let r,n,a,i=s;function s(c){const u=t.reduce((d,f)=>f(d),e());return r=w8(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=j8(c,r);return a(c,d),d}return function(){return i(S8.apply(null,arguments))}}const Ft=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},bD=/^\[(?:([a-z-]+):)?(.+)\]$/i,C8=/^\d+\/\d+$/,T8=new Set(["px","full","screen"]),E8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,P8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,O8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,k8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ga=e=>Yo(e)||T8.has(e)||C8.test(e),Ni=e=>zl(e,"length",B8),Yo=e=>!!e&&!Number.isNaN(Number(e)),yg=e=>zl(e,"number",Yo),uc=e=>!!e&&Number.isInteger(Number(e)),R8=e=>e.endsWith("%")&&Yo(e.slice(0,-1)),Xe=e=>bD.test(e),Ci=e=>E8.test(e),M8=new Set(["length","size","percentage"]),D8=e=>zl(e,M8,wD),I8=e=>zl(e,"position",wD),$8=new Set(["image","url"]),L8=e=>zl(e,$8,U8),F8=e=>zl(e,"",z8),dc=()=>!0,zl=(e,t,r)=>{const n=bD.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},B8=e=>A8.test(e)&&!P8.test(e),wD=()=>!1,z8=e=>O8.test(e),U8=e=>k8.test(e),V8=()=>{const e=Ft("colors"),t=Ft("spacing"),r=Ft("blur"),n=Ft("brightness"),a=Ft("borderColor"),i=Ft("borderRadius"),s=Ft("borderSpacing"),l=Ft("borderWidth"),c=Ft("contrast"),u=Ft("grayscale"),d=Ft("hueRotate"),f=Ft("invert"),h=Ft("gap"),m=Ft("gradientColorStops"),v=Ft("gradientColorStopPositions"),g=Ft("inset"),y=Ft("margin"),x=Ft("opacity"),b=Ft("padding"),w=Ft("saturate"),j=Ft("scale"),_=Ft("sepia"),S=Ft("skew"),N=Ft("space"),T=Ft("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Xe,t],E=()=>[Xe,t],R=()=>["",Ga,Ni],O=()=>["auto",Yo,Xe],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Xe],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Yo,Xe];return{cacheSize:500,separator:":",theme:{colors:[dc],spacing:[Ga,Ni],blur:["none","",Ci,Xe],brightness:X(),borderColor:[e],borderRadius:["none","","full",Ci,Xe],borderSpacing:E(),borderWidth:R(),contrast:X(),grayscale:$(),hueRotate:X(),invert:$(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[R8,Ni],inset:P(),margin:P(),opacity:X(),padding:E(),saturate:X(),scale:X(),sepia:$(),skew:X(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",Xe]}],container:["container"],columns:[{columns:[Ci]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Xe]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",uc,Xe]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Xe]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",uc,Xe]}],"grid-cols":[{"grid-cols":[dc]}],"col-start-end":[{col:["auto",{span:["full",uc,Xe]},Xe]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[dc]}],"row-start-end":[{row:["auto",{span:[uc,Xe]},Xe]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Xe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Xe,t]}],"min-w":[{"min-w":[Xe,t,"min","max","fit"]}],"max-w":[{"max-w":[Xe,t,"none","full","min","max","fit","prose",{screen:[Ci]},Ci]}],h:[{h:[Xe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Xe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Xe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Xe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ci,Ni]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yg]}],"font-family":[{font:[dc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Xe]}],"line-clamp":[{"line-clamp":["none",Yo,yg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ga,Xe]}],"list-image":[{"list-image":["none",Xe]}],"list-style-type":[{list:["none","disc","decimal",Xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ga,Ni]}],"underline-offset":[{"underline-offset":["auto",Ga,Xe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),I8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",D8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},L8]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:D()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[Ga,Xe]}],"outline-w":[{outline:[Ga,Ni]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ga,Ni]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ci,F8]}],"shadow-color":[{shadow:[dc]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ci,Xe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Xe]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",Xe]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",Xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[uc,Xe]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Xe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ga,Ni,yg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},q8=N8(V8);function J(...e){return q8(it(e))}const W8=Zq,_D=p.forwardRef(({className:e,...t},r)=>o.jsx(YM,{ref:r,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));_D.displayName=YM.displayName;const H8=Dm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),jD=p.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(XM,{ref:n,className:J(H8({variant:t}),e),...r}));jD.displayName=XM.displayName;const G8=p.forwardRef(({className:e,...t},r)=>o.jsx(QM,{ref:r,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));G8.displayName=QM.displayName;const SD=p.forwardRef(({className:e,...t},r)=>o.jsx(eD,{ref:r,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(ma,{className:"h-4 w-4"})}));SD.displayName=eD.displayName;const ND=p.forwardRef(({className:e,...t},r)=>o.jsx(ZM,{ref:r,className:J("text-sm font-semibold",e),...t}));ND.displayName=ZM.displayName;const CD=p.forwardRef(({className:e,...t},r)=>o.jsx(JM,{ref:r,className:J("text-sm opacity-90",e),...t}));CD.displayName=JM.displayName;function K8(){const{toasts:e}=pd();return o.jsxs(W8,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return o.jsxs(jD,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(ND,{children:r}),n&&o.jsx(CD,{children:n})]}),a,o.jsx(SD,{})]},t)}),o.jsx(_D,{})]})}var Y8=(e,t,r,n,a,i,s,l)=>{let c=document.documentElement,u=["light","dark"];function d(m){(Array.isArray(e)?e:[e]).forEach(v=>{let g=v==="class",y=g&&i?a.map(x=>i[x]||x):a;g?(c.classList.remove(...y),c.classList.add(i&&i[m]?i[m]:m)):c.setAttribute(v,m)}),f(m)}function f(m){l&&u.includes(m)&&(c.style.colorScheme=m)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)d(n);else try{let m=localStorage.getItem(t)||r,v=s&&m==="system"?h():m;d(v)}catch{}},X8=p.createContext(void 0),Z8={setTheme:e=>{},themes:[]},J8=()=>{var e;return(e=p.useContext(X8))!=null?e:Z8};p.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:s,themes:l,nonce:c,scriptProps:u})=>{let d=JSON.stringify([r,t,i,e,l,s,n,a]).slice(1,-1);return p.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${Y8.toString()})(${d})`}})});var Q8=e=>{switch(e){case"success":return rH;case"info":return aH;case"warning":return nH;case"error":return iH;default:return null}},eH=Array(12).fill(0),tH=({visible:e,className:t})=>k.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},k.createElement("div",{className:"sonner-spinner"},eH.map((r,n)=>k.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),rH=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nH=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),aH=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),iH=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),sH=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},k.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),k.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),oH=()=>{let[e,t]=k.useState(document.hidden);return k.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},w0=1,lH=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:w0++,i=this.toasts.find(l=>l.id===a),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:s,title:r}):l):this.addToast({title:r,...n,dismissible:s,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,s=n.then(async c=>{if(i=["resolve",c],k.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(uH(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>s.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=t?.id||w0++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Jr=new lH,cH=(e,t)=>{let r=t?.id||w0++;return Jr.addToast({title:e,...t,id:r}),r},uH=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",dH=cH,fH=()=>Jr.toasts,hH=()=>Jr.getActiveToasts(),W=Object.assign(dH,{success:Jr.success,info:Jr.info,warning:Jr.warning,error:Jr.error,custom:Jr.custom,message:Jr.message,promise:Jr.promise,dismiss:Jr.dismiss,loading:Jr.loading},{getHistory:fH,getToasts:hH});function mH(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}mH(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function rf(e){return e.label!==void 0}var pH=3,gH="32px",yH="16px",_N=4e3,vH=356,xH=14,bH=20,wH=200;function Hn(...e){return e.filter(Boolean).join(" ")}function _H(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var jH=e=>{var t,r,n,a,i,s,l,c,u,d,f;let{invert:h,toast:m,unstyled:v,interacting:g,setHeights:y,visibleToasts:x,heights:b,index:w,toasts:j,expanded:_,removeToast:S,defaultRichColors:N,closeButton:T,style:C,cancelButtonStyle:A,actionButtonStyle:P,className:E="",descriptionClassName:R="",duration:O,position:M,gap:D,loadingIcon:I,expandByDefault:F,classNames:$,icons:V,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:Y}=e,[q,oe]=k.useState(null),[me,xe]=k.useState(null),[te,Se]=k.useState(!1),[re,ae]=k.useState(!1),[Q,K]=k.useState(!1),[Te,Z]=k.useState(!1),[G,se]=k.useState(!1),[be,Ie]=k.useState(0),[Ye,et]=k.useState(0),L=k.useRef(m.duration||O||_N),U=k.useRef(null),H=k.useRef(null),fe=w===0,de=w+1<=x,ne=m.type,B=m.dismissible!==!1,le=m.className||"",ge=m.descriptionClassName||"",Oe=k.useMemo(()=>b.findIndex(qe=>qe.toastId===m.id)||0,[b,m.id]),Ze=k.useMemo(()=>{var qe;return(qe=m.closeButton)!=null?qe:T},[m.closeButton,T]),Be=k.useMemo(()=>m.duration||O||_N,[m.duration,O]),Kt=k.useRef(0),Ct=k.useRef(0),_i=k.useRef(0),wa=k.useRef(null),[hs,lc]=M.split("-"),Ve=k.useMemo(()=>b.reduce((qe,ht,Rt)=>Rt>=Oe?qe:qe+ht.height,0),[b,Oe]),at=oH(),Ue=m.invert||h,rt=ne==="loading";Ct.current=k.useMemo(()=>Oe*D+Ve,[Oe,Ve]),k.useEffect(()=>{L.current=Be},[Be]),k.useEffect(()=>{Se(!0)},[]),k.useEffect(()=>{let qe=H.current;if(qe){let ht=qe.getBoundingClientRect().height;return et(ht),y(Rt=>[{toastId:m.id,height:ht,position:m.position},...Rt]),()=>y(Rt=>Rt.filter(Br=>Br.toastId!==m.id))}},[y,m.id]),k.useLayoutEffect(()=>{if(!te)return;let qe=H.current,ht=qe.style.height;qe.style.height="auto";let Rt=qe.getBoundingClientRect().height;qe.style.height=ht,et(Rt),y(Br=>Br.find(zr=>zr.toastId===m.id)?Br.map(zr=>zr.toastId===m.id?{...zr,height:Rt}:zr):[{toastId:m.id,height:Rt,position:m.position},...Br])},[te,m.title,m.description,y,m.id]);let Yt=k.useCallback(()=>{ae(!0),Ie(Ct.current),y(qe=>qe.filter(ht=>ht.toastId!==m.id)),setTimeout(()=>{S(m)},wH)},[m,S,y,Ct]);k.useEffect(()=>{if(m.promise&&ne==="loading"||m.duration===1/0||m.type==="loading")return;let qe;return _||g||Y&&at?(()=>{if(_i.current<Kt.current){let ht=new Date().getTime()-Kt.current;L.current=L.current-ht}_i.current=new Date().getTime()})():L.current!==1/0&&(Kt.current=new Date().getTime(),qe=setTimeout(()=>{var ht;(ht=m.onAutoClose)==null||ht.call(m,m),Yt()},L.current)),()=>clearTimeout(qe)},[_,g,m,ne,Y,at,Yt]),k.useEffect(()=>{m.delete&&Yt()},[Yt,m.delete]);function tt(){var qe,ht,Rt;return V!=null&&V.loading?k.createElement("div",{className:Hn($?.loader,(qe=m?.classNames)==null?void 0:qe.loader,"sonner-loader"),"data-visible":ne==="loading"},V.loading):I?k.createElement("div",{className:Hn($?.loader,(ht=m?.classNames)==null?void 0:ht.loader,"sonner-loader"),"data-visible":ne==="loading"},I):k.createElement(tH,{className:Hn($?.loader,(Rt=m?.classNames)==null?void 0:Rt.loader),visible:ne==="loading"})}return k.createElement("li",{tabIndex:0,ref:H,className:Hn(E,le,$?.toast,(t=m?.classNames)==null?void 0:t.toast,$?.default,$?.[ne],(r=m?.classNames)==null?void 0:r[ne]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:N,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":te,"data-promise":!!m.promise,"data-swiped":G,"data-removed":re,"data-visible":de,"data-y-position":hs,"data-x-position":lc,"data-index":w,"data-front":fe,"data-swiping":Q,"data-dismissible":B,"data-type":ne,"data-invert":Ue,"data-swipe-out":Te,"data-swipe-direction":me,"data-expanded":!!(_||F&&te),style:{"--index":w,"--toasts-before":w,"--z-index":j.length-w,"--offset":`${re?be:Ct.current}px`,"--initial-height":F?"auto":`${Ye}px`,...C,...m.style},onDragEnd:()=>{K(!1),oe(null),wa.current=null},onPointerDown:qe=>{rt||!B||(U.current=new Date,Ie(Ct.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(K(!0),wa.current={x:qe.clientX,y:qe.clientY}))},onPointerUp:()=>{var qe,ht,Rt,Br;if(Te||!B)return;wa.current=null;let zr=Number(((qe=H.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ji=Number(((ht=H.current)==null?void 0:ht.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ms=new Date().getTime()-((Rt=U.current)==null?void 0:Rt.getTime()),Wn=q==="x"?zr:ji,Si=Math.abs(Wn)/ms;if(Math.abs(Wn)>=bH||Si>.11){Ie(Ct.current),(Br=m.onDismiss)==null||Br.call(m,m),xe(q==="x"?zr>0?"right":"left":ji>0?"down":"up"),Yt(),Z(!0),se(!1);return}K(!1),oe(null)},onPointerMove:qe=>{var ht,Rt,Br,zr;if(!wa.current||!B||((ht=window.getSelection())==null?void 0:ht.toString().length)>0)return;let ji=qe.clientY-wa.current.y,ms=qe.clientX-wa.current.x,Wn=(Rt=e.swipeDirections)!=null?Rt:_H(M);!q&&(Math.abs(ms)>1||Math.abs(ji)>1)&&oe(Math.abs(ms)>Math.abs(ji)?"x":"y");let Si={x:0,y:0};q==="y"?(Wn.includes("top")||Wn.includes("bottom"))&&(Wn.includes("top")&&ji<0||Wn.includes("bottom")&&ji>0)&&(Si.y=ji):q==="x"&&(Wn.includes("left")||Wn.includes("right"))&&(Wn.includes("left")&&ms<0||Wn.includes("right")&&ms>0)&&(Si.x=ms),(Math.abs(Si.x)>0||Math.abs(Si.y)>0)&&se(!0),(Br=H.current)==null||Br.style.setProperty("--swipe-amount-x",`${Si.x}px`),(zr=H.current)==null||zr.style.setProperty("--swipe-amount-y",`${Si.y}px`)}},Ze&&!m.jsx?k.createElement("button",{"aria-label":X,"data-disabled":rt,"data-close-button":!0,onClick:rt||!B?()=>{}:()=>{var qe;Yt(),(qe=m.onDismiss)==null||qe.call(m,m)},className:Hn($?.closeButton,(a=m?.classNames)==null?void 0:a.closeButton)},(i=V?.close)!=null?i:sH):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:k.createElement(k.Fragment,null,ne||m.icon||m.promise?k.createElement("div",{"data-icon":"",className:Hn($?.icon,(s=m?.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||tt():null,m.type!=="loading"?m.icon||V?.[ne]||Q8(ne):null):null,k.createElement("div",{"data-content":"",className:Hn($?.content,(l=m?.classNames)==null?void 0:l.content)},k.createElement("div",{"data-title":"",className:Hn($?.title,(c=m?.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?k.createElement("div",{"data-description":"",className:Hn(R,ge,$?.description,(u=m?.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&rf(m.cancel)?k.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||A,onClick:qe=>{var ht,Rt;rf(m.cancel)&&B&&((Rt=(ht=m.cancel).onClick)==null||Rt.call(ht,qe),Yt())},className:Hn($?.cancelButton,(d=m?.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&rf(m.action)?k.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||P,onClick:qe=>{var ht,Rt;rf(m.action)&&((Rt=(ht=m.action).onClick)==null||Rt.call(ht,qe),!qe.defaultPrevented&&Yt())},className:Hn($?.actionButton,(f=m?.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function jN(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function SH(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,s=i?"--mobile-offset":"--offset",l=i?yH:gH;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${s}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=l:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var NH=p.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:s,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:v=pH,toastOptions:g,dir:y=jN(),gap:x=xH,loadingIcon:b,icons:w,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:_}=e,[S,N]=k.useState([]),T=k.useMemo(()=>Array.from(new Set([n].concat(S.filter(Y=>Y.position).map(Y=>Y.position)))),[S,n]),[C,A]=k.useState([]),[P,E]=k.useState(!1),[R,O]=k.useState(!1),[M,D]=k.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=k.useRef(null),F=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=k.useRef(null),V=k.useRef(!1),X=k.useCallback(Y=>{N(q=>{var oe;return(oe=q.find(me=>me.id===Y.id))!=null&&oe.delete||Jr.dismiss(Y.id),q.filter(({id:me})=>me!==Y.id)})},[]);return k.useEffect(()=>Jr.subscribe(Y=>{if(Y.dismiss){N(q=>q.map(oe=>oe.id===Y.id?{...oe,delete:!0}:oe));return}setTimeout(()=>{OM.flushSync(()=>{N(q=>{let oe=q.findIndex(me=>me.id===Y.id);return oe!==-1?[...q.slice(0,oe),{...q[oe],...Y},...q.slice(oe+1)]:[Y,...q]})})})}),[]),k.useEffect(()=>{if(d!=="system"){D(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window>"u")return;let Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:q})=>{D(q?"dark":"light")})}catch{Y.addListener(({matches:oe})=>{try{D(oe?"dark":"light")}catch(me){console.error(me)}})}},[d]),k.useEffect(()=>{S.length<=1&&E(!1)},[S]),k.useEffect(()=>{let Y=q=>{var oe,me;a.every(xe=>q[xe]||q.code===xe)&&(E(!0),(oe=I.current)==null||oe.focus()),q.code==="Escape"&&(document.activeElement===I.current||(me=I.current)!=null&&me.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[a]),k.useEffect(()=>{if(I.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,V.current=!1)}},[I.current]),k.createElement("section",{ref:t,"aria-label":`${j} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((Y,q)=>{var oe;let[me,xe]=Y.split("-");return S.length?k.createElement("ol",{key:Y,dir:y==="auto"?jN():y,tabIndex:-1,ref:I,className:l,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":me,"data-lifted":P&&S.length>1&&!i,"data-x-position":xe,style:{"--front-toast-height":`${((oe=C[0])==null?void 0:oe.height)||0}px`,"--width":`${vH}px`,"--gap":`${x}px`,...m,...SH(c,u)},onBlur:te=>{V.current&&!te.currentTarget.contains(te.relatedTarget)&&(V.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||V.current||(V.current=!0,$.current=te.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{R||E(!1)},onDragEnd:()=>E(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},S.filter(te=>!te.position&&q===0||te.position===Y).map((te,Se)=>{var re,ae;return k.createElement(jH,{key:te.id,icons:w,index:Se,toast:te,defaultRichColors:f,duration:(re=g?.duration)!=null?re:h,className:g?.className,descriptionClassName:g?.descriptionClassName,invert:r,visibleToasts:v,closeButton:(ae=g?.closeButton)!=null?ae:s,interacting:R,position:Y,style:g?.style,unstyled:g?.unstyled,classNames:g?.classNames,cancelButtonStyle:g?.cancelButtonStyle,actionButtonStyle:g?.actionButtonStyle,removeToast:X,toasts:S.filter(Q=>Q.position==te.position),heights:C.filter(Q=>Q.position==te.position),setHeights:A,expandByDefault:i,gap:x,loadingIcon:b,expanded:P,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const CH=({...e})=>{const{theme:t="system"}=J8();return o.jsx(NH,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var TH=G_[" useId ".trim().toString()]||(()=>{}),EH=0;function hn(e){const[t,r]=p.useState(TH());return ar(()=>{r(n=>n??String(EH++))},[e]),t?`radix-${t}`:""}const AH=["top","right","bottom","left"],Wi=Math.min,ln=Math.max,rh=Math.round,nf=Math.floor,Pa=e=>({x:e,y:e}),PH={left:"right",right:"left",bottom:"top",top:"bottom"},OH={start:"end",end:"start"};function _0(e,t,r){return ln(e,Wi(t,r))}function li(e,t){return typeof e=="function"?e(t):e}function ci(e){return e.split("-")[0]}function Ul(e){return e.split("-")[1]}function r1(e){return e==="x"?"y":"x"}function n1(e){return e==="y"?"height":"width"}const kH=new Set(["top","bottom"]);function Ta(e){return kH.has(ci(e))?"y":"x"}function a1(e){return r1(Ta(e))}function RH(e,t,r){r===void 0&&(r=!1);const n=Ul(e),a=a1(e),i=n1(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=nh(s)),[s,nh(s)]}function MH(e){const t=nh(e);return[j0(e),t,j0(t)]}function j0(e){return e.replace(/start|end/g,t=>OH[t])}const SN=["left","right"],NN=["right","left"],DH=["top","bottom"],IH=["bottom","top"];function $H(e,t,r){switch(e){case"top":case"bottom":return r?t?NN:SN:t?SN:NN;case"left":case"right":return t?DH:IH;default:return[]}}function LH(e,t,r,n){const a=Ul(e);let i=$H(ci(e),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),t&&(i=i.concat(i.map(j0)))),i}function nh(e){return e.replace(/left|right|bottom|top/g,t=>PH[t])}function FH(e){return{top:0,right:0,bottom:0,left:0,...e}}function TD(e){return typeof e!="number"?FH(e):{top:e,right:e,bottom:e,left:e}}function ah(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function CN(e,t,r){let{reference:n,floating:a}=e;const i=Ta(t),s=a1(t),l=n1(s),c=ci(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Ul(t)){case"start":m[s]-=h*(r&&u?-1:1);break;case"end":m[s]+=h*(r&&u?-1:1);break}return m}async function BH(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:s,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=li(t,e),v=TD(m),y=l[h?f==="floating"?"reference":"floating":f],x=ah(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},_=ah(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-_.top+v.top)/j.y,bottom:(_.bottom-x.bottom+v.bottom)/j.y,left:(x.left-_.left+v.left)/j.x,right:(_.right-x.right+v.right)/j.x}}const zH=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,l=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=CN(u,n,c),h=n,m={},v=0;for(let y=0;y<l.length;y++){var g;const{name:x,fn:b}=l[y],{x:w,y:j,data:_,reset:S}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:{...s,detectOverflow:(g=s.detectOverflow)!=null?g:BH},elements:{reference:e,floating:t}});d=w??d,f=j??f,m={...m,[x]:{...m[x],..._}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=CN(u,h,c)),y=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}},UH=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:s,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=li(e,t)||{};if(u==null)return{};const f=TD(d),h={x:r,y:n},m=a1(a),v=n1(m),g=await s.getDimensions(u),y=m==="y",x=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",j=i.reference[v]+i.reference[m]-h[m]-i.floating[v],_=h[m]-i.reference[m],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let N=S?S[w]:0;(!N||!await(s.isElement==null?void 0:s.isElement(S)))&&(N=l.floating[w]||i.floating[v]);const T=j/2-_/2,C=N/2-g[v]/2-1,A=Wi(f[x],C),P=Wi(f[b],C),E=A,R=N-g[v]-P,O=N/2-g[v]/2+T,M=_0(E,O,R),D=!c.arrow&&Ul(a)!=null&&O!==M&&i.reference[v]/2-(O<E?A:P)-g[v]/2<0,I=D?O<E?O-E:O-R:0;return{[m]:h[m]+I,data:{[m]:M,centerOffset:O-M-I,...D&&{alignmentOffset:I}},reset:D}}}),VH=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=li(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=ci(a),b=Ta(l),w=ci(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(w||!g?[nh(l)]:MH(l)),S=v!=="none";!h&&S&&_.push(...LH(l,g,v,j));const N=[l,..._],T=await c.detectOverflow(t,y),C=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(T[x]),f){const O=RH(a,s,j);C.push(T[O[0]],T[O[1]])}if(A=[...A,{placement:a,overflows:C}],!C.every(O=>O<=0)){var P,E;const O=(((P=i.flip)==null?void 0:P.index)||0)+1,M=N[O];if(M&&(!(f==="alignment"?b!==Ta(M):!1)||A.every(F=>Ta(F.placement)===b?F.overflows[0]>0:!0)))return{data:{index:O,overflows:A},reset:{placement:M}};let D=(E=A.filter(I=>I.overflows[0]<=0).sort((I,F)=>I.overflows[1]-F.overflows[1])[0])==null?void 0:E.placement;if(!D)switch(m){case"bestFit":{var R;const I=(R=A.filter(F=>{if(S){const $=Ta(F.placement);return $===b||$==="y"}return!0}).map(F=>[F.placement,F.overflows.filter($=>$>0).reduce(($,V)=>$+V,0)]).sort((F,$)=>F[1]-$[1])[0])==null?void 0:R[0];I&&(D=I);break}case"initialPlacement":D=l;break}if(a!==D)return{reset:{placement:D}}}return{}}}};function TN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function EN(e){return AH.some(t=>e[t]>=0)}const qH=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:a="referenceHidden",...i}=li(e,t);switch(a){case"referenceHidden":{const s=await n.detectOverflow(t,{...i,elementContext:"reference"}),l=TN(s,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:EN(l)}}}case"escaped":{const s=await n.detectOverflow(t,{...i,altBoundary:!0}),l=TN(s,r.floating);return{data:{escapedOffsets:l,escaped:EN(l)}}}default:return{}}}}},ED=new Set(["left","top"]);async function WH(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=ci(r),l=Ul(r),c=Ta(r)==="y",u=ED.has(s)?-1:1,d=i&&c?-1:1,f=li(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(m=l==="end"?v*-1:v),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const HH=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:s,middlewareData:l}=t,c=await WH(t,e);return s===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:s}}}}},GH=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a,platform:i}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:c={fn:x=>{let{x:b,y:w}=x;return{x:b,y:w}}},...u}=li(e,t),d={x:r,y:n},f=await i.detectOverflow(t,u),h=Ta(ci(a)),m=r1(h);let v=d[m],g=d[h];if(s){const x=m==="y"?"top":"left",b=m==="y"?"bottom":"right",w=v+f[x],j=v-f[b];v=_0(w,v,j)}if(l){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=g+f[x],j=g-f[b];g=_0(w,g,j)}const y=c.fn({...t,[m]:v,[h]:g});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[m]:s,[h]:l}}}}}},KH=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:s}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=li(e,t),d={x:r,y:n},f=Ta(a),h=r1(f);let m=d[h],v=d[f];const g=li(l,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=h==="y"?"height":"width",j=i.reference[h]-i.floating[w]+y.mainAxis,_=i.reference[h]+i.reference[w]-y.mainAxis;m<j?m=j:m>_&&(m=_)}if(u){var x,b;const w=h==="y"?"width":"height",j=ED.has(ci(a)),_=i.reference[f]-i.floating[w]+(j&&((x=s.offset)==null?void 0:x[f])||0)+(j?0:y.crossAxis),S=i.reference[f]+i.reference[w]+(j?0:((b=s.offset)==null?void 0:b[f])||0)-(j?y.crossAxis:0);v<_?v=_:v>S&&(v=S)}return{[h]:m,[f]:v}}}},YH=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:s,elements:l}=t,{apply:c=()=>{},...u}=li(e,t),d=await s.detectOverflow(t,u),f=ci(a),h=Ul(a),m=Ta(a)==="y",{width:v,height:g}=i.floating;let y,x;f==="top"||f==="bottom"?(y=f,x=h===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,y=h==="end"?"top":"bottom");const b=g-d.top-d.bottom,w=v-d.left-d.right,j=Wi(g-d[y],b),_=Wi(v-d[x],w),S=!t.middlewareData.shift;let N=j,T=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=b),S&&!h){const A=ln(d.left,0),P=ln(d.right,0),E=ln(d.top,0),R=ln(d.bottom,0);m?T=v-2*(A!==0||P!==0?A+P:ln(d.left,d.right)):N=g-2*(E!==0||R!==0?E+R:ln(d.top,d.bottom))}await c({...t,availableWidth:T,availableHeight:N});const C=await s.getDimensions(l.floating);return v!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function Fm(){return typeof window<"u"}function Vl(e){return AD(e)?(e.nodeName||"").toLowerCase():"#document"}function mn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ua(e){var t;return(t=(AD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function AD(e){return Fm()?e instanceof Node||e instanceof mn(e).Node:!1}function pa(e){return Fm()?e instanceof Element||e instanceof mn(e).Element:!1}function Da(e){return Fm()?e instanceof HTMLElement||e instanceof mn(e).HTMLElement:!1}function AN(e){return!Fm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof mn(e).ShadowRoot}const XH=new Set(["inline","contents"]);function _d(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ga(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!XH.has(a)}const ZH=new Set(["table","td","th"]);function JH(e){return ZH.has(Vl(e))}const QH=[":popover-open",":modal"];function Bm(e){return QH.some(t=>{try{return e.matches(t)}catch{return!1}})}const e9=["transform","translate","scale","rotate","perspective"],t9=["transform","translate","scale","rotate","perspective","filter"],r9=["paint","layout","strict","content"];function i1(e){const t=s1(),r=pa(e)?ga(e):e;return e9.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||t9.some(n=>(r.willChange||"").includes(n))||r9.some(n=>(r.contain||"").includes(n))}function n9(e){let t=Hi(e);for(;Da(t)&&!ol(t);){if(i1(t))return t;if(Bm(t))return null;t=Hi(t)}return null}function s1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const a9=new Set(["html","body","#document"]);function ol(e){return a9.has(Vl(e))}function ga(e){return mn(e).getComputedStyle(e)}function zm(e){return pa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Hi(e){if(Vl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||AN(e)&&e.host||Ua(e);return AN(t)?t.host:t}function PD(e){const t=Hi(e);return ol(t)?e.ownerDocument?e.ownerDocument.body:e.body:Da(t)&&_d(t)?t:PD(t)}function tu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=PD(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),s=mn(a);if(i){const l=S0(s);return t.concat(s,s.visualViewport||[],_d(a)?a:[],l&&r?tu(l):[])}return t.concat(a,tu(a,[],r))}function S0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function OD(e){const t=ga(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Da(e),i=a?e.offsetWidth:r,s=a?e.offsetHeight:n,l=rh(r)!==i||rh(n)!==s;return l&&(r=i,n=s),{width:r,height:n,$:l}}function o1(e){return pa(e)?e:e.contextElement}function Xo(e){const t=o1(e);if(!Da(t))return Pa(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=OD(t);let s=(i?rh(r.width):r.width)/n,l=(i?rh(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const i9=Pa(0);function kD(e){const t=mn(e);return!s1()||!t.visualViewport?i9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function s9(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==mn(e)?!1:t}function Hs(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=o1(e);let s=Pa(1);t&&(n?pa(n)&&(s=Xo(n)):s=Xo(e));const l=s9(i,r,n)?kD(i):Pa(0);let c=(a.left+l.x)/s.x,u=(a.top+l.y)/s.y,d=a.width/s.x,f=a.height/s.y;if(i){const h=mn(i),m=n&&pa(n)?mn(n):n;let v=h,g=S0(v);for(;g&&n&&m!==v;){const y=Xo(g),x=g.getBoundingClientRect(),b=ga(g),w=x.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,j=x.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=w,u+=j,v=mn(g),g=S0(v)}}return ah({width:d,height:f,x:c,y:u})}function Um(e,t){const r=zm(e).scrollLeft;return t?t.left+r:Hs(Ua(e)).left+r}function RD(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Um(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function o9(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",s=Ua(n),l=t?Bm(t.floating):!1;if(n===s||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Pa(1);const d=Pa(0),f=Da(n);if((f||!f&&!i)&&((Vl(n)!=="body"||_d(s))&&(c=zm(n)),Da(n))){const m=Hs(n);u=Xo(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=s&&!f&&!i?RD(s,c):Pa(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function l9(e){return Array.from(e.getClientRects())}function c9(e){const t=Ua(e),r=zm(e),n=e.ownerDocument.body,a=ln(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ln(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+Um(e);const l=-r.scrollTop;return ga(n).direction==="rtl"&&(s+=ln(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:l}}const PN=25;function u9(e,t){const r=mn(e),n=Ua(e),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,l=0,c=0;if(a){i=a.width,s=a.height;const d=s1();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=Um(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,v=Math.abs(n.clientWidth-f.clientWidth-m);v<=PN&&(i-=v)}else u<=PN&&(i+=u);return{width:i,height:s,x:l,y:c}}const d9=new Set(["absolute","fixed"]);function f9(e,t){const r=Hs(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Da(e)?Xo(e):Pa(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:s,height:l,x:c,y:u}}function ON(e,t,r){let n;if(t==="viewport")n=u9(e,r);else if(t==="document")n=c9(Ua(e));else if(pa(t))n=f9(t,r);else{const a=kD(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ah(n)}function MD(e,t){const r=Hi(e);return r===t||!pa(r)||ol(r)?!1:ga(r).position==="fixed"||MD(r,t)}function h9(e,t){const r=t.get(e);if(r)return r;let n=tu(e,[],!1).filter(l=>pa(l)&&Vl(l)!=="body"),a=null;const i=ga(e).position==="fixed";let s=i?Hi(e):e;for(;pa(s)&&!ol(s);){const l=ga(s),c=i1(s);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&d9.has(a.position)||_d(s)&&!c&&MD(e,s))?n=n.filter(d=>d!==s):a=l,s=Hi(s)}return t.set(e,n),n}function m9(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[...r==="clippingAncestors"?Bm(t)?[]:h9(t,this._c):[].concat(r),n],l=s[0],c=s.reduce((u,d)=>{const f=ON(t,d,a);return u.top=ln(f.top,u.top),u.right=Wi(f.right,u.right),u.bottom=Wi(f.bottom,u.bottom),u.left=ln(f.left,u.left),u},ON(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function p9(e){const{width:t,height:r}=OD(e);return{width:t,height:r}}function g9(e,t,r){const n=Da(t),a=Ua(t),i=r==="fixed",s=Hs(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Pa(0);function u(){c.x=Um(a)}if(n||!n&&!i)if((Vl(t)!=="body"||_d(a))&&(l=zm(t)),n){const m=Hs(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?RD(a,l):Pa(0),f=s.left+l.scrollLeft-c.x-d.x,h=s.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:s.width,height:s.height}}function vg(e){return ga(e).position==="static"}function kN(e,t){if(!Da(e)||ga(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ua(e)===r&&(r=r.ownerDocument.body),r}function DD(e,t){const r=mn(e);if(Bm(e))return r;if(!Da(e)){let a=Hi(e);for(;a&&!ol(a);){if(pa(a)&&!vg(a))return a;a=Hi(a)}return r}let n=kN(e,t);for(;n&&JH(n)&&vg(n);)n=kN(n,t);return n&&ol(n)&&vg(n)&&!i1(n)?r:n||n9(e)||r}const y9=async function(e){const t=this.getOffsetParent||DD,r=this.getDimensions,n=await r(e.floating);return{reference:g9(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function v9(e){return ga(e).direction==="rtl"}const x9={convertOffsetParentRelativeRectToViewportRelativeRect:o9,getDocumentElement:Ua,getClippingRect:m9,getOffsetParent:DD,getElementRects:y9,getClientRects:l9,getDimensions:p9,getScale:Xo,isElement:pa,isRTL:v9};function ID(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function b9(e,t){let r=null,n;const a=Ua(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const v=nf(f),g=nf(a.clientWidth-(d+h)),y=nf(a.clientHeight-(f+m)),x=nf(d),w={rootMargin:-v+"px "+-g+"px "+-y+"px "+-x+"px",threshold:ln(0,Wi(1,c))||1};let j=!0;function _(S){const N=S[0].intersectionRatio;if(N!==c){if(!j)return s();N?s(!1,N):n=setTimeout(()=>{s(!1,1e-7)},1e3)}N===1&&!ID(u,e.getBoundingClientRect())&&s(),j=!1}try{r=new IntersectionObserver(_,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,w)}r.observe(e)}return s(!0),i}function w9(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=o1(e),d=a||i?[...u?tu(u):[],...tu(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=u&&l?b9(u,r):null;let h=-1,m=null;s&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let v,g=c?Hs(e):null;c&&y();function y(){const x=Hs(e);g&&!ID(g,x)&&r(),g=x,v=requestAnimationFrame(y)}return r(),()=>{var x;d.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f?.(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const _9=HH,j9=GH,S9=VH,N9=YH,C9=qH,RN=UH,T9=KH,E9=(e,t,r)=>{const n=new Map,a={platform:x9,...r},i={...a.platform,_c:n};return zH(e,t,{...a,platform:i})};var A9=typeof document<"u",P9=function(){},Ff=A9?p.useLayoutEffect:P9;function ih(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ih(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!ih(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function $D(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function MN(e,t){const r=$D(e);return Math.round(t*r)/r}function xg(e){const t=p.useRef(e);return Ff(()=>{t.current=e}),t}function O9(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(n);ih(h,n)||m(n);const[v,g]=p.useState(null),[y,x]=p.useState(null),b=p.useCallback(F=>{F!==S.current&&(S.current=F,g(F))},[]),w=p.useCallback(F=>{F!==N.current&&(N.current=F,x(F))},[]),j=i||v,_=s||y,S=p.useRef(null),N=p.useRef(null),T=p.useRef(d),C=c!=null,A=xg(c),P=xg(a),E=xg(u),R=p.useCallback(()=>{if(!S.current||!N.current)return;const F={placement:t,strategy:r,middleware:h};P.current&&(F.platform=P.current),E9(S.current,N.current,F).then($=>{const V={...$,isPositioned:E.current!==!1};O.current&&!ih(T.current,V)&&(T.current=V,md.flushSync(()=>{f(V)}))})},[h,t,r,P,E]);Ff(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const O=p.useRef(!1);Ff(()=>(O.current=!0,()=>{O.current=!1}),[]),Ff(()=>{if(j&&(S.current=j),_&&(N.current=_),j&&_){if(A.current)return A.current(j,_,R);R()}},[j,_,R,A,C]);const M=p.useMemo(()=>({reference:S,floating:N,setReference:b,setFloating:w}),[b,w]),D=p.useMemo(()=>({reference:j,floating:_}),[j,_]),I=p.useMemo(()=>{const F={position:r,left:0,top:0};if(!D.floating)return F;const $=MN(D.floating,d.x),V=MN(D.floating,d.y);return l?{...F,transform:"translate("+$+"px, "+V+"px)",...$D(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:V}},[r,l,D.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:R,refs:M,elements:D,floatingStyles:I}),[d,R,M,D,I])}const k9=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?RN({element:n.current,padding:a}).fn(r):{}:n?RN({element:n,padding:a}).fn(r):{}}}},R9=(e,t)=>({..._9(e),options:[e,t]}),M9=(e,t)=>({...j9(e),options:[e,t]}),D9=(e,t)=>({...T9(e),options:[e,t]}),I9=(e,t)=>({...S9(e),options:[e,t]}),$9=(e,t)=>({...N9(e),options:[e,t]}),L9=(e,t)=>({...C9(e),options:[e,t]}),F9=(e,t)=>({...k9(e),options:[e,t]});var B9="Arrow",LD=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return o.jsx(Ce.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});LD.displayName=B9;var z9=LD;function l1(e){const[t,r]=p.useState(void 0);return ar(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,l=u.blockSize}else s=e.offsetWidth,l=e.offsetHeight;r({width:s,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var c1="Popper",[FD,ts]=Fr(c1),[U9,BD]=FD(c1),zD=e=>{const{__scopePopper:t,children:r}=e,[n,a]=p.useState(null);return o.jsx(U9,{scope:t,anchor:n,onAnchorChange:a,children:r})};zD.displayName=c1;var UD="PopperAnchor",VD=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=BD(UD,r),s=p.useRef(null),l=Fe(t,s),c=p.useRef(null);return p.useEffect(()=>{const u=c.current;c.current=n?.current||s.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:o.jsx(Ce.div,{...a,ref:l})});VD.displayName=UD;var u1="PopperContent",[V9,q9]=FD(u1),qD=p.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=e,y=BD(u1,r),[x,b]=p.useState(null),w=Fe(t,te=>b(te)),[j,_]=p.useState(null),S=l1(j),N=S?.width??0,T=S?.height??0,C=n+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],E=P.length>0,R={padding:A,boundary:P.filter(H9),altBoundary:E},{refs:O,floatingStyles:M,placement:D,isPositioned:I,middlewareData:F}=O9({strategy:"fixed",placement:C,whileElementsMounted:(...te)=>w9(...te,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[R9({mainAxis:a+T,alignmentAxis:s}),c&&M9({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?D9():void 0,...R}),c&&I9({...R}),$9({...R,apply:({elements:te,rects:Se,availableWidth:re,availableHeight:ae})=>{const{width:Q,height:K}=Se.reference,Te=te.floating.style;Te.setProperty("--radix-popper-available-width",`${re}px`),Te.setProperty("--radix-popper-available-height",`${ae}px`),Te.setProperty("--radix-popper-anchor-width",`${Q}px`),Te.setProperty("--radix-popper-anchor-height",`${K}px`)}}),j&&F9({element:j,padding:l}),G9({arrowWidth:N,arrowHeight:T}),h&&L9({strategy:"referenceHidden",...R})]}),[$,V]=GD(D),X=Qt(v);ar(()=>{I&&X?.()},[I,X]);const Y=F.arrow?.x,q=F.arrow?.y,oe=F.arrow?.centerOffset!==0,[me,xe]=p.useState();return ar(()=>{x&&xe(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:I?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[F.transformOrigin?.x,F.transformOrigin?.y].join(" "),...F.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(V9,{scope:r,placedSide:$,onArrowChange:_,arrowX:Y,arrowY:q,shouldHideArrow:oe,children:o.jsx(Ce.div,{"data-side":$,"data-align":V,...g,ref:w,style:{...g.style,animation:I?void 0:"none"}})})})});qD.displayName=u1;var WD="PopperArrow",W9={top:"bottom",right:"left",bottom:"top",left:"right"},HD=p.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=q9(WD,n),s=W9[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(z9,{...a,ref:r,style:{...a.style,display:"block"}})})});HD.displayName=WD;function H9(e){return e!==null}var G9=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,s=a.arrow?.centerOffset!==0,l=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[u,d]=GD(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(a.arrow?.x??0)+l/2,m=(a.arrow?.y??0)+c/2;let v="",g="";return u==="bottom"?(v=s?f:`${h}px`,g=`${-c}px`):u==="top"?(v=s?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=s?f:`${m}px`):u==="left"&&(v=`${n.floating.width+c}px`,g=s?f:`${m}px`),{data:{x:v,y:g}}}});function GD(e){const[t,r="center"]=e.split("-");return[t,r]}var Vm=zD,jd=VD,qm=qD,Wm=HD,K9=Symbol("radix.slottable");function Y9(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=K9,t}var[Hm]=Fr("Tooltip",[ts]),Gm=ts(),KD="TooltipProvider",X9=700,N0="tooltip.open",[Z9,d1]=Hm(KD),YD=e=>{const{__scopeTooltip:t,delayDuration:r=X9,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,s=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(Z9,{scope:t,isOpenDelayedRef:s,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};YD.displayName=KD;var ru="Tooltip",[J9,Km]=Hm(ru),XD=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:s,delayDuration:l}=e,c=d1(ru,e.__scopeTooltip),u=Gm(t),[d,f]=p.useState(null),h=hn(),m=p.useRef(0),v=s??c.disableHoverableContent,g=l??c.delayDuration,y=p.useRef(!1),[x,b]=$n({prop:n,defaultProp:a??!1,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(N0))):c.onClose(),i?.(N)},caller:ru}),w=p.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),j=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y.current=!1,b(!0)},[b]),_=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b(!1)},[b]),S=p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,b(!0),m.current=0},g)},[g,b]);return p.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),o.jsx(Vm,{...u,children:o.jsx(J9,{scope:t,contentId:h,open:x,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?S():j()},[c.isOpenDelayedRef,S,j]),onTriggerLeave:p.useCallback(()=>{v?_():(window.clearTimeout(m.current),m.current=0)},[_,v]),onOpen:j,onClose:_,disableHoverableContent:v,children:r})})};XD.displayName=ru;var C0="TooltipTrigger",ZD=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Km(C0,r),i=d1(C0,r),s=Gm(r),l=p.useRef(null),c=Fe(t,l,a.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(jd,{asChild:!0,...s,children:o.jsx(Ce.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:ce(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:ce(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:ce(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ce(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:ce(e.onBlur,a.onClose),onClick:ce(e.onClick,a.onClose)})})});ZD.displayName=C0;var Q9="TooltipPortal",[UCe,e7]=Hm(Q9,{forceMount:void 0}),ll="TooltipContent",JD=p.forwardRef((e,t)=>{const r=e7(ll,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,s=Km(ll,e.__scopeTooltip);return o.jsx(Sr,{present:n||s.open,children:s.disableHoverableContent?o.jsx(QD,{side:a,...i,ref:t}):o.jsx(t7,{side:a,...i,ref:t})})}),t7=p.forwardRef((e,t)=>{const r=Km(ll,e.__scopeTooltip),n=d1(ll,e.__scopeTooltip),a=p.useRef(null),i=Fe(t,a),[s,l]=p.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=p.useCallback(()=>{l(null),f(!1)},[f]),m=p.useCallback((v,g)=>{const y=v.currentTarget,x={x:v.clientX,y:v.clientY},b=s7(x,y.getBoundingClientRect()),w=o7(x,b),j=l7(g.getBoundingClientRect()),_=u7([...w,...j]);l(_),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const v=y=>m(y,d),g=y=>m(y,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[c,d,m,h]),p.useEffect(()=>{if(s){const v=g=>{const y=g.target,x={x:g.clientX,y:g.clientY},b=c?.contains(y)||d?.contains(y),w=!c7(x,s);b?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,s,u,h]),o.jsx(QD,{...e,ref:i})}),[r7,n7]=Hm(ru,{isInside:!1}),a7=Y9("TooltipContent"),QD=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:s,...l}=e,c=Km(ll,r),u=Gm(r),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(N0,d),()=>document.removeEventListener(N0,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{h.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(io,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(qm,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(a7,{children:n}),o.jsx(r7,{scope:r,isInside:!0,children:o.jsx(Rq,{id:c.contentId,role:"tooltip",children:a||n})})]})})});JD.displayName=ll;var eI="TooltipArrow",i7=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Gm(r);return n7(eI,r).isInside?null:o.jsx(Wm,{...a,...n,ref:t})});i7.displayName=eI;function s7(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function o7(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function l7(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function c7(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const l=t[i],c=t[s],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function u7(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),d7(t)}function d7(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],s=r[r.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var f7=YD,h7=XD,m7=ZD,tI=JD;const p7=f7,fc=h7,hc=m7,Oo=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(tI,{ref:n,sideOffset:t,className:J("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Oo.displayName=tI.displayName;var ql=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},g7={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},y7=class{#e=g7;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Cs=new y7;function v7(e){setTimeout(e,0)}var Gs=typeof window>"u"||"Deno"in globalThis;function Vr(){}function x7(e,t){return typeof e=="function"?e(t):e}function T0(e){return typeof e=="number"&&e>=0&&e!==1/0}function rI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function zi(e,t){return typeof e=="function"?e(t):e}function An(e,t){return typeof e=="function"?e(t):e}function DN(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:l}=e;if(s){if(n){if(t.queryHash!==f1(s,t.options))return!1}else if(!nu(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function IN(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ks(t.options.mutationKey)!==Ks(i))return!1}else if(!nu(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function f1(e,t){return(t?.queryKeyHashFn||Ks)(e)}function Ks(e){return JSON.stringify(e,(t,r)=>E0(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function nu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>nu(e[r],t[r])):!1}var b7=Object.prototype.hasOwnProperty;function nI(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=$N(e)&&$N(t);if(!n&&!(E0(e)&&E0(t)))return t;const i=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),l=s.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:s[d],h=e[f],m=t[f];if(h===m){c[f]=h,(n?d<i:b7.call(e,f))&&u++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){c[f]=m;continue}const v=nI(h,m,r+1);c[f]=v,v===h&&u++}return i===l&&u===i?e:c}function sh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function $N(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function E0(e){if(!LN(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!LN(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function LN(e){return Object.prototype.toString.call(e)==="[object Object]"}function w7(e){return new Promise(t=>{Cs.setTimeout(t,e)})}function A0(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?nI(e,t):t}function _7(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function j7(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var h1=Symbol();function aI(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===h1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function m1(e,t){return typeof e=="function"?e(...t):!!e}function S7(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??=t(),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var N7=class extends ql{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Gs&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},p1=new N7;function P0(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var C7=v7;function T7(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=C7;const i=l=>{t?e.push(l):a(()=>{r(l)})},s=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||s()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var xr=T7(),E7=class extends ql{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Gs&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},oh=new E7;function A7(e){return Math.min(1e3*2**e,3e4)}function iI(e){return(e??"online")==="online"?oh.isOnline():!0}var O0=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function sI(e){let t=!1,r=0,n;const a=P0(),i=()=>a.status!=="pending",s=g=>{if(!i()){const y=new O0(g);h(y),e.onCancel?.(y)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>p1.isFocused()&&(e.networkMode==="always"||oh.isOnline())&&e.canRun(),d=()=>iI(e.networkMode)&&e.canRun(),f=g=>{i()||(n?.(),a.resolve(g))},h=g=>{i()||(n?.(),a.reject(g))},m=()=>new Promise(g=>{n=y=>{(i()||u())&&g(y)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),v=()=>{if(i())return;let g;const y=r===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{if(i())return;const b=e.retry??(Gs?0:3),w=e.retryDelay??A7,j=typeof w=="function"?w(r,x):w,_=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,x);if(t||!_){h(x);return}r++,e.onFail?.(r,x),w7(j).then(()=>u()?void 0:m()).then(()=>{t?h(x):v()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(n?.(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():m().then(v),a)}}var oI=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),T0(this.gcTime)&&(this.#e=Cs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Gs?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Cs.clearTimeout(this.#e),this.#e=void 0)}},P7=class extends oI{#e;#t;#r;#a;#n;#s;#o;constructor(e){super(),this.#o=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=BN(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=BN(this.options);t.data!==void 0&&(this.setState(FN(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=A0(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Vr).catch(Vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>An(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===h1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>zi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!rI(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},a=()=>{const l=aI(this.options,t),u=(()=>{const d={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(d),d})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},s=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return n(l),l})();this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#i({type:"fetch",meta:s.fetchOptions?.meta}),this.#n=sI({initialPromise:t?.initialPromise,fn:s.fetchFn,onCancel:l=>{l instanceof O0&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(l,c)=>{this.#i({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0});try{const l=await this.#n.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof O0){if(l.silent)return this.#n.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#i({type:"error",error:l}),this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...lI(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,...FN(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),xr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function lI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function FN(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function BN(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var O7=class extends ql{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#o=P0(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#a=void 0;#n;#s;#o;#i;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),zN(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return k0(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return k0(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof An(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),t._defaulted&&!sh(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&UN(this.#t,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#t!==r||An(this.options.enabled,this.#t)!==An(t.enabled,this.#t)||zi(this.options.staleTime,this.#t)!==zi(t.staleTime,this.#t))&&this.#g();const a=this.#y();n&&(this.#t!==r||An(this.options.enabled,this.#t)!==An(t.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return R7(this,r)&&(this.#a=r,this.#s=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#_();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Vr)),t}#g(){this.#b();const e=zi(this.options.staleTime,this.#t);if(Gs||this.#a.isStale||!T0(e))return;const r=rI(this.#a.dataUpdatedAt,e)+1;this.#c=Cs.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(Gs||An(this.options.enabled,this.#t)===!1||!T0(this.#l)||this.#l===0)&&(this.#u=Cs.setInterval(()=>{(this.options.refetchIntervalInBackground||p1.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#b(){this.#c&&(Cs.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Cs.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,a=this.#a,i=this.#n,s=this.#s,c=e!==r?e.state:this.#r,{state:u}=e;let d={...u},f=!1,h;if(t._optimisticResults){const T=this.hasListeners(),C=!T&&zN(e,t),A=T&&UN(e,r,t,n);(C||A)&&(d={...d,...lI(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:v,status:g}=d;h=d.data;let y=!1;if(t.placeholderData!==void 0&&h===void 0&&g==="pending"){let T;a?.isPlaceholderData&&t.placeholderData===s?.placeholderData?(T=a.data,y=!0):T=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,T!==void 0&&(g="success",h=A0(a?.data,T,t),f=!0)}if(t.select&&h!==void 0&&!y)if(a&&h===i?.data&&t.select===this.#p)h=this.#f;else try{this.#p=t.select,h=t.select(h),h=A0(a?.data,h,t),this.#f=h,this.#i=null}catch(T){this.#i=T}this.#i&&(m=this.#i,h=this.#f,v=Date.now(),g="error");const x=d.fetchStatus==="fetching",b=g==="pending",w=g==="error",j=b&&x,_=h!==void 0,N={status:g,fetchStatus:d.fetchStatus,isPending:b,isSuccess:g==="success",isError:w,isInitialLoading:j,isLoading:j,data:h,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:w&&!_,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&_,isStale:g1(e,t),refetch:this.refetch,promise:this.#o,isEnabled:An(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const T=N.data!==void 0,C=N.status==="error"&&!T,A=R=>{C?R.reject(N.error):T&&R.resolve(N.data)},P=()=>{const R=this.#o=N.promise=P0();A(R)},E=this.#o;switch(E.status){case"pending":e.queryHash===r.queryHash&&A(E);break;case"fulfilled":(C||N.data!==E.value)&&P();break;case"rejected":(!C||N.error!==E.reason)&&P();break}}return N}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#s=this.options,this.#n.data!==void 0&&(this.#h=this.#t),sh(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(s=>{const l=s;return this.#a[l]!==e[l]&&i.has(l)})};this.#j({listeners:r()})}#_(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#j(e){xr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function k7(e,t){return An(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function zN(e,t){return k7(e,t)||e.state.data!==void 0&&k0(e,t,t.refetchOnMount)}function k0(e,t,r){if(An(t.enabled,e)!==!1&&zi(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&g1(e,t)}return!1}function UN(e,t,r,n){return(e!==t||An(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&g1(e,r)}function g1(e,t){return An(t.enabled,e)!==!1&&e.isStaleByTime(zi(t.staleTime,e))}function R7(e,t){return!sh(e.getCurrentResult(),t)}function VN(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const f=v=>{S7(v,()=>t.signal,()=>d=!0)},h=aI(t.options,t.fetchOptions),m=async(v,g,y)=>{if(d)return Promise.reject();if(g==null&&v.pages.length)return Promise.resolve(v);const b=(()=>{const S={client:t.client,queryKey:t.queryKey,pageParam:g,direction:y?"backward":"forward",meta:t.options.meta};return f(S),S})(),w=await h(b),{maxPages:j}=t.options,_=y?j7:_7;return{pages:_(v.pages,w,j),pageParams:_(v.pageParams,g,j)}};if(a&&i.length){const v=a==="backward",g=v?M7:qN,y={pages:i,pageParams:s},x=g(n,y);l=await m(y,x,v)}else{const v=e??i.length;do{const g=c===0?s[0]??n.initialPageParam:qN(n,l);if(c>0&&g==null)break;l=await m(l,g),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function qN(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function M7(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var D7=class extends oI{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||cI(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=sI({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#n({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",a=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:a}),this.#r.config.onMutate&&await this.#r.config.onMutate(e,this,r);const s=await this.options.onMutate?.(e,r);s!==this.state.context&&this.#n({type:"pending",context:s,variables:e,isPaused:a})}const i=await this.#a.start();return await this.#r.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#n({type:"success",data:i}),i}catch(i){try{await this.#r.config.onError?.(i,e,this.state.context,this,r)}catch(s){Promise.reject(s)}try{await this.options.onError?.(i,e,this.state.context,r)}catch(s){Promise.reject(s)}try{await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r)}catch(s){Promise.reject(s)}try{await this.options.onSettled?.(void 0,i,e,this.state.context,r)}catch(s){Promise.reject(s)}throw this.#n({type:"error",error:i}),i}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),xr.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function cI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var I7=class extends ql{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new D7({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=af(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=af(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=af(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=af(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){xr.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>IN(t,r))}findAll(e={}){return this.getAll().filter(t=>IN(e,t))}notify(e){xr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return xr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Vr))))}};function af(e){return e.options.scope?.id}var $7=class extends ql{#e;#t=void 0;#r;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),sh(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ks(r.mutationKey)!==Ks(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#s(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#s()}mutate(t,r){return this.#a=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??cI();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){xr.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#a.onSuccess?.(t.data,r,n,a)}catch(i){Promise.reject(i)}try{this.#a.onSettled?.(t.data,null,r,n,a)}catch(i){Promise.reject(i)}}else if(t?.type==="error"){try{this.#a.onError?.(t.error,r,n,a)}catch(i){Promise.reject(i)}try{this.#a.onSettled?.(void 0,t.error,r,n,a)}catch(i){Promise.reject(i)}}}this.listeners.forEach(r=>{r(this.#t)})})}},L7=class extends ql{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,a=t.queryHash??f1(n,t);let i=this.get(a);return i||(i=new P7({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){xr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>DN(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>DN(e,r)):t}notify(e){xr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){xr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){xr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},F7=class{#e;#t;#r;#a;#n;#s;#o;#i;constructor(e={}){this.#e=e.queryCache||new L7,this.#t=e.mutationCache||new I7,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=p1.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=oh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(zi(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(n.queryHash)?.state.data,s=x7(t,i);if(s!==void 0)return this.#e.build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return xr.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;xr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return xr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=xr.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Vr).catch(Vr)}invalidateQueries(e,t={}){return xr.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=xr.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Vr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Vr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(zi(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vr).catch(Vr)}fetchInfiniteQuery(e){return e.behavior=VN(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vr).catch(Vr)}ensureInfiniteQueryData(e){return e.behavior=VN(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return oh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(Ks(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{nu(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(Ks(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{nu(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=f1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===h1&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},uI=p.createContext(void 0),va=e=>{const t=p.useContext(uI);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},B7=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(uI.Provider,{value:e,children:t})),dI=p.createContext(!1),z7=()=>p.useContext(dI);dI.Provider;function U7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var V7=p.createContext(U7()),q7=()=>p.useContext(V7),W7=(e,t,r)=>{const n=r?.state.error&&typeof e.throwOnError=="function"?m1(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},H7=e=>{p.useEffect(()=>{e.clearReset()},[e])},G7=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||m1(r,[e.error,n])),K7=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Y7=(e,t)=>e.isLoading&&e.isFetching&&!t,X7=(e,t)=>e?.suspense&&t.isPending,WN=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Z7(e,t,r){const n=z7(),a=q7(),i=va(),s=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(s);const l=i.getQueryCache().get(s.queryHash);s._optimisticResults=n?"isRestoring":"optimistic",K7(s),W7(s,a,l),H7(a);const c=!i.getQueryCache().get(s.queryHash),[u]=p.useState(()=>new t(i,s)),d=u.getOptimisticResult(s),f=!n&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(h=>{const m=f?u.subscribe(xr.batchCalls(h)):Vr;return u.updateResult(),m},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),p.useEffect(()=>{u.setOptions(s)},[s,u]),X7(s,d))throw WN(s,u,a);if(G7({result:d,errorResetBoundary:a,throwOnError:s.throwOnError,query:l,suspense:s.suspense}))throw d.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(s,d),s.experimental_prefetchInRender&&!Gs&&Y7(d,n)&&(c?WN(s,u,a):l?.promise)?.catch(Vr).finally(()=>{u.updateResult()}),s.notifyOnChangeProps?d:u.trackResult(d)}function Gi(e,t){return Z7(e,O7)}function Dr(e,t){const r=va(),[n]=p.useState(()=>new $7(r,e));p.useEffect(()=>{n.setOptions(e)},[n,e]);const a=p.useSyncExternalStore(p.useCallback(s=>n.subscribe(xr.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=p.useCallback((s,l)=>{n.mutate(s,l).catch(Vr)},[n]);if(a.error&&m1(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}var Sa=function(){return Sa=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Sa.apply(this,arguments)};function Wl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function J7(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function Q7(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const eG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class y1 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class tG extends y1{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class HN extends y1{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class GN extends y1{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var R0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(R0||(R0={}));class rG{constructor(t,{headers:r={},customFetch:n,region:a=R0.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=eG(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return J7(this,arguments,void 0,function*(r,n={}){var a;let i,s;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const v=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?g=JSON.stringify(u):g=u;let y=d;f&&(s=new AbortController,i=setTimeout(()=>s.abort(),f),d?(y=s.signal,d.addEventListener("abort",()=>s.abort())):y=s.signal);const x=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:g,signal:y}).catch(_=>{throw new tG(_)}),b=x.headers.get("x-relay-error");if(b&&b==="true")throw new HN(x);if(!x.ok)throw new GN(x);let w=((a=x.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return w==="application/json"?j=yield x.json():w==="application/octet-stream"||w==="application/pdf"?j=yield x.blob():w==="text/event-stream"?j=x:w==="multipart/form-data"?j=yield x.formData():j=yield x.text(),{data:j,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof GN||l instanceof HN?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var nG=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},aG=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let s=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var m;const x=await i.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=x:l=JSON.parse(x))}const g=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),y=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&y&&y.length>1&&(c=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(s={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var v;const g=await i.text();try{s=JSON.parse(g),Array.isArray(s)&&i.status===404&&(l=[],s=null,u=200,d="OK")}catch{i.status===404&&g===""?(u=204,d="No Content"):s={message:g}}if(s&&r.isMaybeSingle&&(!(s==null||(v=s.details)===null||v===void 0)&&v.includes("0 rows"))&&(s=null,u=200,d="OK"),s&&r.shouldThrowOnError)throw new nG(s)}return{error:s,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var s;let l="",c="",u="";const d=i?.cause;if(d){var f,h,m,v;const x=(f=d?.message)!==null&&f!==void 0?f:"",b=(h=d?.code)!==null&&h!==void 0?h:"";l=`${(m=i?.name)!==null&&m!==void 0?m:"FetchError"}: ${i?.message}`,l+=`

Caused by: ${(v=d?.name)!==null&&v!==void 0?v:"Error"}: ${x}`,b&&(l+=` (${b})`),d?.stack&&(l+=`
${d.stack}`)}else{var g;l=(g=i?.stack)!==null&&g!==void 0?g:""}const y=this.url.toString().length;return i?.name==="AbortError"||i?.code==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",y>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${y} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(d?.name==="HeadersOverflowError"||d?.code==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",y>this.urlLengthLimit&&(c+=`. Your request URL is ${y} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:l,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},iG=class extends aG{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var s;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const KN=new RegExp("[,()]");var ko=class extends iG{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&KN.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&KN.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},sG=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:a=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const s=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",s),n&&c.append("Prefer",`count=${n}`),new ko({method:a,url:l,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:i,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),r||s.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new ko({method:a,url:i,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const s="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new ko({method:s,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new ko({method:n,url:a,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new ko({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function oG(e,t){if(au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lG(e){var t=oG(e,"string");return au(t)=="symbol"?t:t+""}function cG(e,t,r){return(t=lG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(r),!0).forEach(function(n){cG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var uG=class fI{constructor(t,{headers:r={},schema:n,fetch:a,timeout:i,urlLengthLimit:s=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=s;const l=a??globalThis.fetch;i!==void 0&&i>0?this.fetch=(c,u)=>{const d=new AbortController,f=setTimeout(()=>d.abort(),i),h=u?.signal;if(h){if(h.aborted)return clearTimeout(f),l(c,u);const m=()=>{clearTimeout(f),d.abort()};return h.addEventListener("abort",m,{once:!0}),l(c,sf(sf({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(f),h.removeEventListener("abort",m)})}return l(c,sf(sf({},u),{},{signal:d.signal})).finally(()=>clearTimeout(f))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new sG(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new fI(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var s;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{c.searchParams.append(m,v)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new ko({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}};class dG{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const fG="2.95.2",hG=`realtime-js/${fG}`,mG="1.0.0",hI="2.0.0",XN=hI,M0=1e4,pG=1e3,gG=100;var Oi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Oi||(Oi={}));var yr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(yr||(yr={}));var ea;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ea||(ea={}));var D0;(function(e){e.websocket="websocket"})(D0||(D0={}));var Ss;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ss||(Ss={}));class yG{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var a,i;const s=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+s.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(m),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,c.length),v.setUint8(g++,l.length),v.setUint8(g++,s.length),v.setUint8(g++,u.length),v.setUint8(g++,f.length),v.setUint8(g++,r),Array.from(c,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(l,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(s,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(u,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(f,x=>v.setUint8(g++,x.charCodeAt(0)));var y=new Uint8Array(m.byteLength+n.byteLength);return y.set(new Uint8Array(m),0),y.set(new Uint8Array(n),m.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,s,l,c]=n;return r({join_ref:a,ref:i,topic:s,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,a)}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+s));c=c+s;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,v={type:this.BROADCAST_EVENT,event:d,payload:m};return s>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class mI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Mt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Mt||(Mt={}));const ZN=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=vG(s,e,t,a),i),{}):{}},vG=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a?.type,s=r[e];return i&&!n.includes(i)?pI(i,s):I0(s)},pI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return _G(t,r)}switch(e){case Mt.bool:return xG(t);case Mt.float4:case Mt.float8:case Mt.int2:case Mt.int4:case Mt.int8:case Mt.numeric:case Mt.oid:return bG(t);case Mt.json:case Mt.jsonb:return wG(t);case Mt.timestamp:return jG(t);case Mt.abstime:case Mt.date:case Mt.daterange:case Mt.int4range:case Mt.int8range:case Mt.money:case Mt.reltime:case Mt.text:case Mt.time:case Mt.timestamptz:case Mt.timetz:case Mt.tsrange:case Mt.tstzrange:return I0(t);default:return I0(t)}},I0=e=>e,xG=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},bG=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wG=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},_G=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(l=>pI(t,l))}return e},jG=e=>typeof e=="string"?e.replace(" ","T"):e,gI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class bg{constructor(t,r,n={},a=M0){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var JN;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(JN||(JN={}));class Fc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fc.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=Fc.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Fc.syncDiff(this.state,a,i,s),l())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),v=d.filter(y=>m.indexOf(y.presence_ref)<0),g=f.filter(y=>h.indexOf(y.presence_ref)<0);v.length>0&&(l[u]=v),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(s,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var QN;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(QN||(QN={}));var Bc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bc||(Bc={}));var Ja;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ja||(Ja={}));class Fo{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=yr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new bg(this,ea.join,this.params,this.timeout),this.rejoinTimer=new mI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=yr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ea.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new Fc(this),this.broadcastEndpointURL=gI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==yr.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Bc.PRESENCE]&&this.bindings[Bc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t?.(Ja.CHANNEL_ERROR,m)),this._onClose(()=>t?.(Ja.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t?.(Ja.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(v=g?.length)!==null&&v!==void 0?v:0,x=[];for(let b=0;b<y;b++){const w=g[b],{filter:{event:j,schema:_,table:S,filter:N}}=w,T=m&&m[b];if(T&&T.event===j&&Fo.isFilterValueEqual(T.schema,_)&&Fo.isFilterValueEqual(T.table,S)&&Fo.isFilterValueEqual(T.filter,N))x.push(Object.assign(Object.assign({},w),{id:T.id}));else{this.unsubscribe(),this.state=yr.errored,t?.(Ja.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Ja.SUBSCRIBED);return}}).receive("error",m=>{this.state=yr.errored,t?.(Ja.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ja.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===yr.joined&&t===Bc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=yr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ea.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new bg(this,ea.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new bg(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>gG){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ea;if(n&&[l,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var v,g,y;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(g=m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(m=>m.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(m=>{var v,g,y,x,b,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in m){const j=m.id,_=(v=m.filter)===null||v===void 0?void 0:v.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(_==="*"||_?.toLocaleLowerCase()===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const j=(b=(x=m?.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((w=r?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===s}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:g,table:y,commit_timestamp:x,type:b,errors:w}=v;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:x,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===yr.closed}_isJoined(){return this.state===yr.joined}_isJoining(){return this.state===yr.joining}_isLeaving(){return this.state===yr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Fo.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ea.close,{},t)}_onError(t){this._on(ea.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ZN(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ZN(t.columns,t.old_record)),r}}const wg=()=>{},of={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},SG=[1e3,2e3,5e3,1e4],NG=1e4,CG=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class TG{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=M0,this.transport=null,this.heartbeatIntervalMs=of.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wg,this.ref=0,this.reconnectTimer=null,this.vsn=XN,this.logger=wg,this.conn=null,this.sendBuffer=[],this.serializer=new yG,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${D0.websocket}`,this.httpEndpoint=gI(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dG.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Oi.connecting:return Ss.Connecting;case Oi.open:return Ss.Open;case Oi.closing:return Ss.Closing;default:return Ss.Closed}}isConnected(){return this.connectionState()===Ss.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Fo(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(pG,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},of.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:s}=r,l=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Oi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Oi.open||this.conn.readyState===Oi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ea.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([CG],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:hG};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(ea.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new mI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},of.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,l,c,u,d,f,h,m;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:M0,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:of.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:wg,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:XN,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t?.reconnectAfterMs)!==null&&u!==void 0?u:(v=>SG[v-1]||NG),this.vsn){case mG:this.encode=(d=t?.encode)!==null&&d!==void 0?d:((v,g)=>g(JSON.stringify(v))),this.decode=(f=t?.decode)!==null&&f!==void 0?f:((v,g)=>g(JSON.parse(v)));break;case hI:this.encode=(h=t?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var iu=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function EG(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function AG(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function PG(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:s}){const l=EG(e.baseUrl,n,a),c=await AG(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...s},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,v=m?.error;throw new iu(v?.message??`Request failed with status ${u.status}`,{status:u.status,icebergType:v?.type,icebergCode:v?.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function lf(e){return e.join("")}var OG=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:lf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${lf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${lf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${lf(e.namespace)}`}),!0}catch(t){if(t instanceof iu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof iu&&r.status===409)return;throw r}}};function po(e){return e.join("")}var kG=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${po(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${po(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${po(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${po(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${po(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${po(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof iu&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof iu&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},RG=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=PG({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new OG(this.client,t),this.tableOps=new kG(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Ym=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Xm(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var cf=class extends Ym{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},yI=class extends Ym{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const MG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),DG=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$0=e=>{if(Array.isArray(e))return e.map(r=>$0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=$0(n)}),t},IG=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function $G(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LG(e){var t=$G(e,"string");return su(t)=="symbol"?t:t+""}function FG(e,t,r){return(t=LG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(r),!0).forEach(function(n){FG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const tC=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},BG=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e,i=a.status||500;if(typeof a.json=="function")a.json().then(s=>{const l=s?.statusCode||s?.code||i+"";t(new cf(tC(s),i,l,n))}).catch(()=>{if(n==="vectors"){const s=i+"";t(new cf(a.statusText||`HTTP ${i} error`,i,s,n))}else{const s=i+"";t(new cf(a.statusText||`HTTP ${i} error`,i,s,n))}});else{const s=i+"";t(new cf(a.statusText||`HTTP ${i} error`,i,s,n))}}else t(new yI(tC(e),e,n))},zG=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!n?ze(ze({},a),r):(DG(n)?(a.headers=ze({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),ze(ze({},a),r))};async function mc(e,t,r,n,a,i,s){return new Promise((l,c)=>{e(r,zG(t,n,a,i)).then(u=>{if(!u.ok)throw u;if(n?.noResolveJson)return u;if(s==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>BG(u,c,n,s))})}function vI(e="storage"){return{get:async(t,r,n,a)=>mc(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,i)=>mc(t,"POST",r,a,i,n,e),put:async(t,r,n,a,i)=>mc(t,"PUT",r,a,i,n,e),head:async(t,r,n,a)=>mc(t,"HEAD",r,ze(ze({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,i)=>mc(t,"DELETE",r,a,i,n,e)}}const UG=vI("storage"),{get:ou,post:Qn,put:L0,head:VG,remove:v1}=UG,cn=vI("vectors");var Hl=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=MG(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xm(r))return{data:null,error:r};throw r}}},qG=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Xm(t))return{data:null,error:t};throw t}}};let xI;xI=Symbol.toStringTag;var WG=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[xI]="BlobDownloadBuilder",this.promise=null}asStream(){return new qG(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Xm(t))return{data:null,error:t};throw t}}};const HG={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var GG=class extends Hl{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let i;const s=ze(ze({},rC),n);let l=ze(ze({},a.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),n?.headers&&(l=ze(ze({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?L0:Qn)(a.fetch,`${a.url}/object/${d}`,i,ze({headers:l},s?.duplex?{duplex:s.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),s=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${s}`);return l.searchParams.set("token",t),a.handleOperation(async()=>{let c;const u=ze({upsert:rC.upsert},n),d=ze(ze({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await L0(a.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=ze({},r.headers);t?.upsert&&(a["x-upsert"]="true");const i=await Qn(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(r.url+i.url),l=s.searchParams.get("token");if(!l)throw new Ym("No token returned by API");return{signedUrl:s.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Qn(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Qn(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),i=await Qn(n.fetch,`${n.url}/object/sign/${a}`,ze({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${s}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await Qn(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(s=>ze(ze({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${i}`):null}))})}download(e,t){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(t?.transform||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),s=()=>ou(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new WG(s,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>$0(await ou(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await VG(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xm(n)&&n instanceof yI){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof t?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(t?.transform||{});s!==""&&n.push(s);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await v1(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=ze(ze(ze({},HG),t),{},{prefix:e||""});return await Qn(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=ze({},e);return await Qn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const KG="2.95.2",Sd={"X-Client-Info":`storage-js/${KG}`};var YG=class extends Hl{constructor(e,t={},r,n){const a=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const i=a.href.replace(/\/$/,""),s=ze(ze({},Sd),t);super(i,s,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await ou(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ou(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Qn(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await L0(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Qn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await v1(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},XG=class extends Hl{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=ze(ze({},Sd),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Qn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await ou(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await v1(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!IG(e))throw new Ym("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new RG({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const s=a[i];return typeof s!="function"?s:async(...l)=>{try{return{data:await s.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},ZG=class extends Hl{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=ze(ze({},Sd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await cn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await cn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await cn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await cn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},JG=class extends Hl{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=ze(ze({},Sd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await cn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await cn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await cn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await cn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await cn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},QG=class extends Hl{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=ze(ze({},Sd),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await cn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await cn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await cn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await cn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},eK=class extends QG{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new tK(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},tK=class extends ZG{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,ze(ze({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,ze(ze({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new rK(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},rK=class extends JG{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,ze(ze({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,ze(ze({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,ze(ze({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,ze(ze({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,ze(ze({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},nK=class extends YG{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new GG(this.url,this.headers,e,this.fetch)}get vectors(){return new eK(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new XG(this.url+"/iceberg",this.headers,this.fetch)}};const bI="2.95.2",Ro=30*1e3,F0=3,_g=F0*Ro,aK="http://localhost:9999",iK="supabase.auth.token",sK={"X-Client-Info":`gotrue-js/${bI}`},B0="X-Supabase-Api-Version",wI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lK=600*1e3;class lu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class cK extends lu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function uK(e){return Pe(e)&&e.name==="AuthApiError"}class Ns extends lu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class yi extends lu{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class rn extends yi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jg(e){return Pe(e)&&e.name==="AuthSessionMissingError"}class go extends yi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class uf extends yi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class df extends yi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dK(e){return Pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class nC extends yi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fK extends yi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class z0 extends yi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Sg(e){return Pe(e)&&e.name==="AuthRetryableFetchError"}class aC extends yi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class U0 extends yi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const lh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),iC=` 	
\r=`.split(""),hK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<iC.length;t+=1)e[iC[t].charCodeAt(0)]=-2;for(let t=0;t<lh.length;t+=1)e[lh[t].charCodeAt(0)]=t;return e})();function sC(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(lh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(lh[n]),t.queuedBits-=6}}function _I(e,t,r){const n=hK[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function oC(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{gK(s,n,r)};for(let s=0;s<e.length;s+=1)_I(e.charCodeAt(s),a,i);return t.join("")}function mK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function pK(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}mK(n,t)}}function gK(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Zo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)_I(e.charCodeAt(a),r,n);return new Uint8Array(t)}function yK(e){const t=[];return pK(e,r=>t.push(r)),new Uint8Array(t)}function Ts(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>sC(a,r,n)),sC(null,r,n),t.join("")}function vK(e){return Math.round(Date.now()/1e3)+e}function xK(){return Symbol("auth-callback")}const Tr=()=>typeof window<"u"&&typeof document<"u",ps={tested:!1,writable:!1},jI=()=>{if(!Tr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ps.tested)return ps.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ps.tested=!0,ps.writable=!0}catch{ps.tested=!0,ps.writable=!1}return ps.writable};function bK(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const SI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Mo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},gs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Cr=async(e,t)=>{await e.removeItem(t)};class Zm{constructor(){this.promise=new Zm.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Zm.promiseConstructor=Promise;function ff(e){const t=e.split(".");if(t.length!==3)throw new U0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!oK.test(t[n]))throw new U0("JWT not in base64url format");return{header:JSON.parse(oC(t[0])),payload:JSON.parse(oC(t[1])),signature:Zo(t[2]),raw:{header:t[0],payload:t[1]}}}async function _K(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function jK(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function SK(e){return("0"+e.toString(16)).substr(-2)}function NK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,SK).join("")}async function CK(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function TK(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await CK(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yo(e,t,r=!1){const n=NK();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Mo(e,`${t}-code-verifier`,a);const i=await TK(n);return[i,n===i?"plain":"s256"]}const EK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function AK(e){const t=e.headers.get(B0);if(!t||!t.match(EK))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function PK(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function OK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vo(e){if(!kK.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ng(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function RK(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function lC(e){return JSON.parse(JSON.stringify(e))}const xs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),MK=[502,503,504];async function cC(e){var t;if(!wK(e))throw new z0(xs(e),0);if(MK.includes(e.status))throw new z0(xs(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ns(xs(i),i)}let n;const a=AK(e);if(a&&a.getTime()>=wI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new aC(xs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new rn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new aC(xs(r),e.status,r.weak_password.reasons);throw new cK(xs(r),e.status||500,n)}const DK=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Le(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[B0]||(i[B0]=wI["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await IK(e,t,r+l,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function IK(e,t,r,n,a,i){const s=DK(t,n,a,i);let l;try{l=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new z0(xs(c),0)}if(l.ok||await cC(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await cC(c)}}function Xn(e){var t;let r=null;FK(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=vK(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function uC(e){const t=Xn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Di(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $K(e){return{data:e,error:null}}function LK(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=Wl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function dC(e){return e}function FK(e){return e.access_token&&e.refresh_token&&e.expires_in}const Cg=["global","local","others"];class BK{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=SI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Cg[0]){if(Cg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cg.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Di})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Wl(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:LK,redirectTo:r?.redirectTo})}catch(r){if(Pe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Di})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:dC});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Pe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){vo(t);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Di})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){vo(t);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Di})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){vo(t);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Di})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){vo(t.userId);try{const{data:r,error:n}=await Le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){vo(t.userId),vo(t.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:dC});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Pe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}}function fC(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const xo={debug:!!(globalThis&&jI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class NI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class zK extends NI{}async function UK(e,t,r){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),xo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zK(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function VK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function CI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function qK(e){return parseInt(e,16)}function WK(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function HK(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:s,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=CI(e.address),v=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",y=`${v} wants you to sign in with your Ethereum account:
${m}

${g}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}x+=b}return`${y}
${x}`}class ur extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class ch extends ur{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function GK({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ur({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ur({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ur({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ur({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ur({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ur({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ur({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ur({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(TI(s)){if(i.rp.id!==s)return new ur({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ur({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ur({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ur({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ur({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function KK({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ur({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ur({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(TI(n)){if(r.rpId!==n)return new ur({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ur({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ur({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ur({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class YK{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const XK=new YK;function ZK(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Wl(e,["challenge","user","excludeCredentials"]),i=Zo(t).buffer,s=Object.assign(Object.assign({},r),{id:Zo(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:s});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Zo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function JK(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Wl(e,["challenge","allowCredentials"]),a=Zo(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const l=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},l),{id:Zo(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function QK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ts(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ts(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function eY(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ts(new Uint8Array(a.authenticatorData)),clientDataJSON:Ts(new Uint8Array(a.clientDataJSON)),signature:Ts(new Uint8Array(a.signature)),userHandle:a.userHandle?Ts(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function TI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function hC(){var e,t;return!!(Tr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function tY(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ch("Browser returned unexpected credential type",t)}:{data:null,error:new ch("Empty credential response",t)}}catch(t){return{data:null,error:GK({error:t,options:e})}}}async function rY(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ch("Browser returned unexpected credential type",t)}:{data:null,error:new ch("Empty credential response",t)}}catch(t){return{data:null,error:KK({error:t,options:e})}}}const nY={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},aY={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function uh(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const s=a[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(t(s)){const l=n[i];t(l)?n[i]=uh(l,s):n[i]=uh(s)}else n[i]=s}return n}function iY(e,t){return uh(nY,e,t||{})}function sY(e,t){return uh(aY,e,t||{})}class oY{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){var s;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=a??XK.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const m=(await this.client.getUser()).data.user,v=((s=m?.user_metadata)===null||s===void 0?void 0:s.name)||m?.email||m?.id||"User";d.name=`${d.id}:${v}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=iY(l.webauthn.credential_options.publicKey,i?.create),{data:f,error:h}=await tY({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=sY(l.webauthn.credential_options.publicKey,i?.request),{data:f,error:h}=await rY(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return Pe(l)?{data:null,error:l}:{data:null,error:new Ns("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new lu("rpId is required for WebAuthn authentication")};try{if(!hC())return{data:null,error:new Ns("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!s)return{data:null,error:l};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return Pe(s)?{data:null,error:s}:{data:null,error:new Ns("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new lu("rpId is required for WebAuthn registration")};try{if(!hC())return{data:null,error:new Ns("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return Pe(s)?{data:null,error:s}:{data:null,error:new Ns("Unexpected error in register",s)}}}}VK();const lY={url:aK,storageKey:iK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function mC(e,t,r){return await r()}const bo={};class cu{get jwks(){var t,r;return(r=(t=bo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){bo[this.storageKey]=Object.assign(Object.assign({},bo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=bo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){bo[this.storageKey]=Object.assign(Object.assign({},bo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},lY),t);if(this.storageKey=i.storageKey,this.instanceID=(r=cu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,cu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Tr()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new BK({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=SI(i.fetch),this.lock=i.lock||mC,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Tr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=UK:this.lock=mC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oY(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:jI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fC(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=fC(this.memoryStorage)),Tr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s);try{await this._notifyAllSubscribers(s.data.event,s.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(s=>{this._debug("#initialize()","error",s)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${bI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Tr()&&(r=bK(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Tr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),dK(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:s,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Pe(r)?this._returnResult({error:r}):this._returnResult({error:new Ns("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Xn}),{data:s,error:l}=i;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await yo(this.storage,this.storageKey)),i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:f,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:v},xform:Xn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h?.data)!==null&&n!==void 0?n:{},channel:(a=h?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Xn})}else throw new uf("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l||!s)return await Cr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:l}=t;r=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:uC})}else if("phone"in t){const{phone:i,password:s,options:l}=t;r=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:uC})}else throw new uf("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new go;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,s,l,c,u,d,f,h;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:g,wallet:y,statement:x,options:b}=t;let w;if(Tr())if(typeof y=="object")w=y;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const j=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href),_=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=CI(_[0]);let N=(n=b?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const C=await w.request({method:"eth_chainId"});N=qK(C)}const T={domain:j.host,address:S,statement:x,uri:j.href,version:"1",chainId:N,nonce:(a=b?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(s=(i=b?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=b?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b?.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=HK(T),v=await w.request({method:"personal_sign",params:[WK(m),S]})}try{const{data:g,error:y}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Xn});if(y)throw y;if(!g||!g.session||!g.user){const x=new go;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if(Pe(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,a,i,s,l,c,u,d,f,h,m;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:y,wallet:x,statement:b,options:w}=t;let j;if(Tr())if(typeof x=="object")j=x;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const _=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),b?{statement:b}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)v=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),g=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(n=w?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:y,error:x}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Ts(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Xn});if(x)throw x;if(!y||!y.session||!y.user){const b=new go;return this._returnResult({data:{user:null,session:null},error:b})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:x})}catch(y){if(Pe(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const r=await gs(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new fK;const{data:i,error:s}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Xn});if(await Cr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const l=new go;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Pe(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,l=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Xn}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new go;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await yo(this.storage,this.storageKey));const{error:f}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c?.data)!==null&&a!==void 0?a:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(s=c?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new uf("You must provide either an email or phone number.")}catch(l){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Pe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Xn});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,s;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await yo(this.storage,this.storageKey));const u=await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:$K});return!((i=u.data)===null||i===void 0)&&i.url&&Tr()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Pe(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new rn;const{error:a}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await Le(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:l}=await Le(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:l})}throw new uf("You must provide either an email or phone number and a type")}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<_g:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await gs(this.userStorage,this.storageKey+"-user");s?.user?t.user=s.user:t.user=Ng()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=RK(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Di}):await this._useSession(async r=>{var n,a,i;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rn}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Di})})}catch(r){if(Pe(r))return jg(r)&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new rn;const s=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await yo(this.storage,this.storageKey));const{data:u,error:d}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:Di});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Pe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new rn;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=ff(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Pe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:l}=r;if(l)throw l;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new rn;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Tr())throw new df("No browser detected.");if(t.error||t.error_description||t.error_code)throw new df(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new nC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new df("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new nC("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!s||!u)throw new df("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Ro&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(n){if(Pe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await gs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i&&!jg(i))return this._returnResult({error:i});const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(uK(l)&&(l.status===404||l.status===401||l.status===403)||jg(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=xK(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await yo(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Pe(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Tr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(Pe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:s,provider:l,token:c,access_token:u,nonce:d}=t,f=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Xn}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new go}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(a){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await jK(async a=>(a>0&&await _K(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xn})),(a,i)=>{const s=200*Math.pow(2,a);return i&&Sg(i)&&Date.now()+s-n<Ro})}catch(n){if(this._debug(r,"error",n),Pe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Tr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await gs(this.storage,this.storageKey);if(a&&this.userStorage){let s=await gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await Mo(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s?.user)!==null&&t!==void 0?t:Ng()}else if(a&&!a.user&&!a.user){const s=await gs(this.storage,this.storageKey+"-user");s&&s?.user?(a.user=s.user,await Cr(this.storage,this.storageKey+"-user"),await Mo(this.storage,this.storageKey,a)):a.user=Ng()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<_g;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${_g}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),Sg(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(a.access_token);!l&&s?.user?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new rn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Zm;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new rn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Pe(i)){const s={data:null,error:i};return Sg(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Cr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Mo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=lC(a);await Mo(this.storage,this.storageKey,i)}else{const a=lC(r);await Mo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Cr(this.storage,this.storageKey),await Cr(this.storage,this.storageKey+"-code-verifier"),await Cr(this.storage,this.storageKey+"-user"),this.userStorage&&await Cr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Tr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ro);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Ro);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ro}ms, refresh threshold is ${F0} ticks`),a<=F0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof NI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await yo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(l.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c?.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?QK(t.webauthn.credential_response):eY(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ZK(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:JK(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,i;if(t)try{const{payload:m}=ff(t);let v=null;m.aal&&(v=m.aal);let g=v;const{data:{user:y},error:x}=await this.getUser(t);if(x)return this._returnResult({data:null,error:x});((n=(r=y?.factors)===null||r===void 0?void 0:r.filter(j=>j.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const w=m.amr||[];return{data:{currentLevel:v,nextLevel:g,currentAuthenticationMethods:w},error:null}}catch(m){if(Pe(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=ff(s.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(a=s.user.factors)===null||a===void 0?void 0:a.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Le(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new rn})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new rn});const s=await Le(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Tr()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new rn});const s=await Le(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Tr()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new rn})})}catch(t){if(Pe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new rn})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+lK>a)return n;const{data:i,error:s}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});n=m.session.access_token}const{header:a,payload:i,signature:s,raw:{header:l,payload:c}}=ff(n);r?.allowExpired||PK(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:s},error:null}}const d=OK(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,yK(`${l}.${c}`)))throw new U0("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}}cu.nextInstanceID={};const cY=cu,uY="2.95.2";let Tc="";typeof Deno<"u"?Tc="deno":typeof document<"u"?Tc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tc="react-native":Tc="node";const dY={"X-Client-Info":`supabase-js-${Tc}/${uY}`},fY={headers:dY},hY={schema:"public"},mY={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pY={};function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function gY(e,t){if(uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yY(e){var t=gY(e,"string");return uu(t)=="symbol"?t:t+""}function vY(e,t,r){return(t=yY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(r),!0).forEach(function(n){vY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const xY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bY=()=>Headers,wY=(e,t,r)=>{const n=xY(r),a=bY();return async(i,s)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(s?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Xt(Xt({},s),{},{headers:u}))}};function _Y(e){return e.endsWith("/")?e:e+"/"}function jY(e,t){var r,n;const{db:a,auth:i,realtime:s,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Xt(Xt({},c),a),auth:Xt(Xt({},u),i),realtime:Xt(Xt({},d),s),storage:{},global:Xt(Xt(Xt({},f),l),{},{headers:Xt(Xt({},(r=f?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function SY(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_Y(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var NY=class extends cY{constructor(e){super(e)}},CY=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=SY(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const s=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:hY,realtime:pY,auth:Xt(Xt({},mY),{},{storageKey:s}),global:fY},c=jY(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=wY(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Xt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new uG(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new nK(this.storageUrl.href,this.headers,this.fetch,r?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new rG(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:s,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new NY({url:this.authUrl.href,headers:Xt(Xt({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:s,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new TG(this.realtimeUrl.href,Xt(Xt({},e),{},{params:Xt(Xt({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const TY=(e,t,r)=>new CY(e,t,r);function EY(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}EY()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const AY="https://tbqreletxtzaosvyyvnv.supabase.co",PY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRicXJlbGV0eHR6YW9zdnl5dm52Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk1MjMxMTUsImV4cCI6MjA4NTA5OTExNX0.YEebUpOgECWpfzY2k9HtRaRMqYnvfiW7z4QIstTjJs0",ie=TY(AY,PY,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),EI=p.createContext(void 0);function OY({children:e}){const[t,r]=p.useState(null),[n,a]=p.useState(null),[i,s]=p.useState(!0);p.useEffect(()=>{const{data:{subscription:d}}=ie.auth.onAuthStateChange((f,h)=>{a(h),r(h?.user??null),s(!1)});return ie.auth.getSession().then(({data:{session:f}})=>{a(f),r(f?.user??null),s(!1)}),()=>d.unsubscribe()},[]);const l=async(d,f,h)=>{const m=`${window.location.origin}/`,{error:v}=await ie.auth.signUp({email:d,password:f,options:{emailRedirectTo:m,data:{full_name:h,plan:"free",tier:"free"}}});return{error:v}},c=async(d,f)=>{const{error:h}=await ie.auth.signInWithPassword({email:d,password:f});return{error:h}},u=async()=>{await ie.auth.signOut()};return o.jsx(EI.Provider,{value:{user:t,session:n,loading:i,signUp:l,signIn:c,signOut:u},children:e})}function vt(){const e=p.useContext(EI);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const AI=p.createContext(void 0);function kY({children:e}){const[t,r]=p.useState(!1),[n,a]=p.useState(!1),[i,s]=p.useState(!0),{user:l}=vt(),c=async()=>{if(!l){r(!1),s(!1);return}try{const{data:h,error:m}=await ie.rpc("is_admin",{_user_id:l.id});m?(console.error("Error checking admin status:",m),r(!1)):r(h===!0)}catch(h){console.error("Error:",h),r(!1)}s(!1)},u=async()=>{try{const{data:h,error:m}=await ie.rpc("get_guest_mode");m?(console.error("Error fetching guest mode:",m),a(!1)):a(h===!0)}catch(h){console.error("Error:",h),a(!1)}},d=async()=>{if(t)try{const h=!n,{error:m}=await ie.from("app_settings").update({value:{enabled:h},updated_at:new Date().toISOString(),updated_by:l?.id}).eq("key","guest_mode");if(m)throw console.error("Error toggling guest mode:",m),m;a(h)}catch(h){throw console.error("Error:",h),h}},f=async()=>{await Promise.all([c(),u()])};return p.useEffect(()=>{c(),u()},[l]),o.jsx(AI.Provider,{value:{isAdmin:t,guestModeEnabled:n,loading:i,toggleGuestMode:d,refetch:f},children:e})}function so(){const e=p.useContext(AI);if(e===void 0)throw new Error("useAdmin must be used within an AdminProvider");return e}const PI=p.createContext(null);function RY({children:e}){const{user:t}=vt(),[r,n]=p.useState(null),[a,i]=p.useState(!0),s=p.useCallback(f=>{if(!f)return null;const{data:h}=ie.storage.from("profile-avatars").getPublicUrl(f);return`${h.publicUrl}?t=${Date.now()}`},[]),l=p.useCallback(async()=>{if(!t?.id){n(null),i(!1);return}try{const{data:f,error:h}=await ie.from("profiles").select("avatar_url").eq("id",t.id).single();if(h)throw h;const m=s(f?.avatar_url);n(m)}catch(f){console.error("Error fetching avatar:",f),n(null)}finally{i(!1)}},[t?.id,s]);p.useEffect(()=>{l()},[l]),p.useEffect(()=>{if(!t?.id)return;const f=ie.channel("profile-avatar-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${t.id}`},h=>{const m=h.new?.avatar_url,v=s(m);n(v)}).subscribe();return()=>{ie.removeChannel(f)}},[t?.id,s]);const c=p.useCallback(async()=>{i(!0),await l()},[l]),u=p.useCallback(()=>(t?.user_metadata?.full_name||t?.email||"").charAt(0).toUpperCase()||"U",[t]),d={avatarUrl:r,isLoading:a,refreshAvatar:c,setAvatarUrl:n,getInitials:u,userName:t?.user_metadata?.full_name||t?.email?.split("@")[0]||"Utente",userEmail:t?.email||""};return o.jsx(PI.Provider,{value:d,children:e})}function OI(){const e=p.useContext(PI);return e||{avatarUrl:null,isLoading:!1,refreshAvatar:async()=>{},setAvatarUrl:()=>{},getInitials:()=>"U",userName:"Utente",userEmail:""}}function Ka({children:e}){const{user:t,loading:r}=vt(),{guestModeEnabled:n,loading:a}=so();return r||a?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx(Vt,{className:"w-10 h-10 text-primary animate-spin"}),o.jsx("p",{className:"text-muted-foreground",children:"Caricamento..."})]})}):n?o.jsx(o.Fragment,{children:e}):t?o.jsx(o.Fragment,{children:e}):o.jsx(qV,{to:"/landing",replace:!0})}const kI=p.createContext({});function MY(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const RI=typeof window<"u",DY=RI?p.useLayoutEffect:p.useEffect,x1=p.createContext(null);function b1(e,t){e.indexOf(t)===-1&&e.push(t)}function dh(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Ia=(e,t,r)=>r>t?t:r<e?e:r;let w1=()=>{};const ui={},MI=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function DI(e){return typeof e=="object"&&e!==null}const II=e=>/^0[^.\s]+$/u.test(e);function _1(e){let t;return()=>(t===void 0&&(t=e()),t)}const Mn=e=>e,IY=(e,t)=>r=>t(e(r)),Nd=(...e)=>e.reduce(IY),du=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class j1{constructor(){this.subscriptions=[]}add(t){return b1(this.subscriptions,t),()=>dh(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const da=e=>e*1e3,Pn=e=>e/1e3;function $I(e,t){return t?e*(1e3/t):0}const LI=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,$Y=1e-7,LY=12;function FY(e,t,r,n,a){let i,s,l=0;do s=t+(r-t)/2,i=LI(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>$Y&&++l<LY);return s}function Cd(e,t,r,n){if(e===t&&r===n)return Mn;const a=i=>FY(i,0,1,e,r);return i=>i===0||i===1?i:LI(a(i),t,n)}const FI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,BI=e=>t=>1-e(1-t),zI=Cd(.33,1.53,.69,.99),S1=BI(zI),UI=FI(S1),VI=e=>(e*=2)<1?.5*S1(e):.5*(2-Math.pow(2,-10*(e-1))),N1=e=>1-Math.sin(Math.acos(e)),qI=BI(N1),WI=FI(N1),BY=Cd(.42,0,1,1),zY=Cd(0,0,.58,1),HI=Cd(.42,0,.58,1),UY=e=>Array.isArray(e)&&typeof e[0]!="number",GI=e=>Array.isArray(e)&&typeof e[0]=="number",VY={linear:Mn,easeIn:BY,easeInOut:HI,easeOut:zY,circIn:N1,circInOut:WI,circOut:qI,backIn:S1,backInOut:UI,backOut:zI,anticipate:VI},qY=e=>typeof e=="string",gC=e=>{if(GI(e)){w1(e.length===4);const[t,r,n,a]=e;return Cd(t,r,n,a)}else if(qY(e))return VY[e];return e},hf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function WY(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){s.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,h=!1)=>{const v=h&&a?r:n;return f&&s.add(d),v.has(d)||v.add(d),d},cancel:d=>{n.delete(d),s.delete(d)},process:d=>{if(l=d,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,i&&(i=!1,u.process(d))}};return u}const HY=40;function KI(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=hf.reduce((w,j)=>(w[j]=WY(i),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:v}=s,g=()=>{const w=ui.useManualTiming?a.timestamp:performance.now();r=!1,ui.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,HY),1)),a.timestamp=w,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),h.process(a),m.process(a),v.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(g))},y=()=>{r=!0,n=!0,a.isProcessing||e(g)};return{schedule:hf.reduce((w,j)=>{const _=s[j];return w[j]=(S,N=!1,T=!1)=>(r||y(),_.schedule(S,N,T)),w},{}),cancel:w=>{for(let j=0;j<hf.length;j++)s[hf[j]].cancel(w)},state:a,steps:s}}const{schedule:$t,cancel:Ki,state:Ar,steps:Tg}=KI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mn,!0);let Bf;function GY(){Bf=void 0}const Gr={now:()=>(Bf===void 0&&Gr.set(Ar.isProcessing||ui.useManualTiming?Ar.timestamp:performance.now()),Bf),set:e=>{Bf=e,queueMicrotask(GY)}},YI=e=>t=>typeof t=="string"&&t.startsWith(e),XI=YI("--"),KY=YI("var(--"),C1=e=>KY(e)?YY.test(e.split("/*")[0].trim()):!1,YY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function yC(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Gl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},fu={...Gl,transform:e=>Ia(0,1,e)},mf={...Gl,default:1},zc=e=>Math.round(e*1e5)/1e5,T1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XY(e){return e==null}const ZY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,E1=(e,t)=>r=>!!(typeof r=="string"&&ZY.test(r)&&r.startsWith(e)||t&&!XY(r)&&Object.prototype.hasOwnProperty.call(r,t)),ZI=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,l]=n.match(T1);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},JY=e=>Ia(0,255,e),Eg={...Gl,transform:e=>Math.round(JY(e))},Es={test:E1("rgb","red"),parse:ZI("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Eg.transform(e)+", "+Eg.transform(t)+", "+Eg.transform(r)+", "+zc(fu.transform(n))+")"};function QY(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const V0={test:E1("#"),parse:QY,transform:Es.transform},Td=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ei=Td("deg"),Oa=Td("%"),je=Td("px"),eX=Td("vh"),tX=Td("vw"),vC={...Oa,parse:e=>Oa.parse(e)/100,transform:e=>Oa.transform(e*100)},Bo={test:E1("hsl","hue"),parse:ZI("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Oa.transform(zc(t))+", "+Oa.transform(zc(r))+", "+zc(fu.transform(n))+")"},dr={test:e=>Es.test(e)||V0.test(e)||Bo.test(e),parse:e=>Es.test(e)?Es.parse(e):Bo.test(e)?Bo.parse(e):V0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Es.transform(e):Bo.transform(e),getAnimatableNone:e=>{const t=dr.parse(e);return t.alpha=0,dr.transform(t)}},rX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nX(e){return isNaN(e)&&typeof e=="string"&&(e.match(T1)?.length||0)+(e.match(rX)?.length||0)>0}const JI="number",QI="color",aX="var",iX="var(",xC="${}",sX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hu(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(sX,c=>(dr.test(c)?(n.color.push(i),a.push(QI),r.push(dr.parse(c))):c.startsWith(iX)?(n.var.push(i),a.push(aX),r.push(c)):(n.number.push(i),a.push(JI),r.push(parseFloat(c))),++i,xC)).split(xC);return{values:r,split:l,indexes:n,types:a}}function e$(e){return hu(e).values}function t$(e){const{split:t,types:r}=hu(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const l=r[s];l===JI?i+=zc(a[s]):l===QI?i+=dr.transform(a[s]):i+=a[s]}return i}}const oX=e=>typeof e=="number"?0:dr.test(e)?dr.getAnimatableNone(e):e;function lX(e){const t=e$(e);return t$(e)(t.map(oX))}const Yi={test:nX,parse:e$,createTransformer:t$,getAnimatableNone:lX};function Ag(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function cX({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=Ag(c,l,e+1/3),i=Ag(c,l,e),s=Ag(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function fh(e,t){return r=>r>0?t:e}const Ht=(e,t,r)=>e+(t-e)*r,Pg=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},uX=[V0,Es,Bo],dX=e=>uX.find(t=>t.test(e));function bC(e){const t=dX(e);if(!t)return!1;let r=t.parse(e);return t===Bo&&(r=cX(r)),r}const wC=(e,t)=>{const r=bC(e),n=bC(t);if(!r||!n)return fh(e,t);const a={...r};return i=>(a.red=Pg(r.red,n.red,i),a.green=Pg(r.green,n.green,i),a.blue=Pg(r.blue,n.blue,i),a.alpha=Ht(r.alpha,n.alpha,i),Es.transform(a))},q0=new Set(["none","hidden"]);function fX(e,t){return q0.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function hX(e,t){return r=>Ht(e,t,r)}function A1(e){return typeof e=="number"?hX:typeof e=="string"?C1(e)?fh:dr.test(e)?wC:gX:Array.isArray(e)?r$:typeof e=="object"?dr.test(e)?wC:mX:fh}function r$(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>A1(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function mX(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=A1(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function pX(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],l=e.values[s]??0;r[a]=l,n[i]++}return r}const gX=(e,t)=>{const r=Yi.createTransformer(t),n=hu(e),a=hu(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?q0.has(e)&&!a.values.length||q0.has(t)&&!n.values.length?fX(e,t):Nd(r$(pX(n,a),a.values),r):fh(e,t)};function n$(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ht(e,t,r):A1(e)(e,t)}const yX=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>$t.update(t,r),stop:()=>Ki(t),now:()=>Ar.isProcessing?Ar.timestamp:Gr.now()}},a$=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},hh=2e4;function P1(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<hh;)t+=r,n=e.next(t);return t>=hh?1/0:t}function vX(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(P1(n),hh);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Pn(a)}}const xX=5;function i$(e,t,r){const n=Math.max(t-xX,0);return $I(r-e(n),t-n)}const Zt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Og=.001;function bX({duration:e=Zt.duration,bounce:t=Zt.bounce,velocity:r=Zt.velocity,mass:n=Zt.mass}){let a,i,s=1-t;s=Ia(Zt.minDamping,Zt.maxDamping,s),e=Ia(Zt.minDuration,Zt.maxDuration,Pn(e)),s<1?(a=u=>{const d=u*s,f=d*e,h=d-r,m=W0(u,s),v=Math.exp(-f);return Og-h/m*v},i=u=>{const f=u*s*e,h=f*r+r,m=Math.pow(s,2)*Math.pow(u,2)*e,v=Math.exp(-f),g=W0(Math.pow(u,2),s);return(-a(u)+Og>0?-1:1)*((h-m)*v)/g}):(a=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-Og+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=_X(a,i,l);if(e=da(e),isNaN(c))return{stiffness:Zt.stiffness,damping:Zt.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:s*2*Math.sqrt(n*u),duration:e}}}const wX=12;function _X(e,t,r){let n=r;for(let a=1;a<wX;a++)n=n-e(n)/t(n);return n}function W0(e,t){return e*Math.sqrt(1-t*t)}const jX=["duration","bounce"],SX=["stiffness","damping","mass"];function _C(e,t){return t.some(r=>e[r]!==void 0)}function NX(e){let t={velocity:Zt.velocity,stiffness:Zt.stiffness,damping:Zt.damping,mass:Zt.mass,isResolvedFromDuration:!1,...e};if(!_C(e,SX)&&_C(e,jX))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Ia(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Zt.mass,stiffness:a,damping:i}}else{const r=bX(e);t={...t,...r,mass:Zt.mass},t.isResolvedFromDuration=!0}return t}function mh(e=Zt.visualDuration,t=Zt.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=NX({...r,velocity:-Pn(r.velocity||0)}),v=h||0,g=u/(2*Math.sqrt(c*d)),y=s-i,x=Pn(Math.sqrt(c/d)),b=Math.abs(y)<5;n||(n=b?Zt.restSpeed.granular:Zt.restSpeed.default),a||(a=b?Zt.restDelta.granular:Zt.restDelta.default);let w;if(g<1){const _=W0(x,g);w=S=>{const N=Math.exp(-g*x*S);return s-N*((v+g*x*y)/_*Math.sin(_*S)+y*Math.cos(_*S))}}else if(g===1)w=_=>s-Math.exp(-x*_)*(y+(v+x*y)*_);else{const _=x*Math.sqrt(g*g-1);w=S=>{const N=Math.exp(-g*x*S),T=Math.min(_*S,300);return s-N*((v+g*x*y)*Math.sinh(T)+_*y*Math.cosh(T))/_}}const j={calculatedDuration:m&&f||null,next:_=>{const S=w(_);if(m)l.done=_>=f;else{let N=_===0?v:0;g<1&&(N=_===0?da(v):i$(w,_,S));const T=Math.abs(N)<=n,C=Math.abs(s-S)<=a;l.done=T&&C}return l.value=l.done?s:S,l},toString:()=>{const _=Math.min(P1(j),hh),S=a$(N=>j.next(_*N).value,_,30);return _+"ms "+S},toTransition:()=>{}};return j}mh.applyToOptions=e=>{const t=vX(e,100,mh);return e.ease=t.ease,e.duration=da(t.duration),e.type="keyframes",e};function H0({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=T=>l!==void 0&&T<l||c!==void 0&&T>c,v=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let g=r*t;const y=f+g,x=s===void 0?y:s(y);x!==y&&(g=x-f);const b=T=>-g*Math.exp(-T/n),w=T=>x+b(T),j=T=>{const C=b(T),A=w(T);h.done=Math.abs(C)<=u,h.value=h.done?x:A};let _,S;const N=T=>{m(h.value)&&(_=T,S=mh({keyframes:[h.value,v(h.value)],velocity:i$(w,T,h.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:T=>{let C=!1;return!S&&_===void 0&&(C=!0,j(T),N(T)),_!==void 0&&T>=_?S.next(T-_):(!C&&j(T),h)}}}function CX(e,t,r){const n=[],a=r||ui.mix||n$,i=e.length-1;for(let s=0;s<i;s++){let l=a(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||Mn:t;l=Nd(c,l)}n.push(l)}return n}function TX(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(w1(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=CX(t,n,a),c=l.length,u=d=>{if(s&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=du(e[f],e[f+1],d);return l[f](h)};return r?d=>u(Ia(e[0],e[i-1],d)):u}function EX(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=du(0,t,n);e.push(Ht(r,1,a))}}function AX(e){const t=[0];return EX(t,e.length-1),t}function PX(e,t){return e.map(r=>r*t)}function OX(e,t){return e.map(()=>t||HI).splice(0,e.length-1)}function Uc({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=UY(n)?n.map(gC):gC(n),i={done:!1,value:t[0]},s=PX(r&&r.length===t.length?r:AX(t),e),l=TX(s,t,{ease:Array.isArray(a)?a:OX(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const kX=e=>e!==null;function O1(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(kX),l=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const RX={decay:H0,inertia:H0,tween:Uc,keyframes:Uc,spring:mh};function s$(e){typeof e.type=="string"&&(e.type=RX[e.type])}class k1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const MX=e=>e/100;class R1 extends k1{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Gr.now()&&this.tick(Gr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;s$(t);const{type:r=Uc,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:l}=t;const c=r||Uc;c!==Uc&&typeof l[0]!="number"&&(this.mixKeyframes=Nd(MX,n$(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=P1(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:v,onUpdate:g,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?x<0:x>a;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,j=n;if(f){const T=Math.min(this.currentTime,a)/l;let C=Math.floor(T),A=T%1;!A&&T>=1&&(A=1),A===1&&C--,C=Math.min(C,f+1),C%2&&(h==="reverse"?(A=1-A,m&&(A-=m/l)):h==="mirror"&&(j=s)),w=Ia(0,1,A)*l}const _=b?{done:!1,value:d[0]}:j.next(w);i&&(_.value=i(_.value));let{done:S}=_;!b&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return N&&v!==H0&&(_.value=O1(d,this.options,y,this.speed)),g&&g(_.value),N&&this.finish(),_}then(t,r){return this.finished.then(t,r)}get duration(){return Pn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Pn(t)}get time(){return Pn(this.currentTime)}set time(t){t=da(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Gr.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Pn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=yX,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function DX(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const As=e=>e*180/Math.PI,G0=e=>{const t=As(Math.atan2(e[1],e[0]));return K0(t)},IX={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:G0,rotateZ:G0,skewX:e=>As(Math.atan(e[1])),skewY:e=>As(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},K0=e=>(e=e%360,e<0&&(e+=360),e),jC=G0,SC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),NC=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),$X={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:SC,scaleY:NC,scale:e=>(SC(e)+NC(e))/2,rotateX:e=>K0(As(Math.atan2(e[6],e[5]))),rotateY:e=>K0(As(Math.atan2(-e[2],e[0]))),rotateZ:jC,rotate:jC,skewX:e=>As(Math.atan(e[4])),skewY:e=>As(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Y0(e){return e.includes("scale")?1:0}function X0(e,t){if(!e||e==="none")return Y0(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=$X,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=IX,a=l}if(!a)return Y0(t);const i=n[t],s=a[1].split(",").map(FX);return typeof i=="function"?i(s):s[i]}const LX=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return X0(r,t)};function FX(e){return parseFloat(e.trim())}const Kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yl=new Set(Kl),CC=e=>e===Gl||e===je,BX=new Set(["x","y","z"]),zX=Kl.filter(e=>!BX.has(e));function UX(e){const t=[];return zX.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Li={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>X0(t,"x"),y:(e,{transform:t})=>X0(t,"y")};Li.translateX=Li.x;Li.translateY=Li.y;const $s=new Set;let Z0=!1,J0=!1,Q0=!1;function o$(){if(J0){const e=Array.from($s).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=UX(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{n.getValue(i)?.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}J0=!1,Z0=!1,$s.forEach(e=>e.complete(Q0)),$s.clear()}function l$(){$s.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(J0=!0)})}function VX(){Q0=!0,l$(),o$(),Q0=!1}class M1{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?($s.add(this),Z0||(Z0=!0,$t.read(l$),$t.resolveKeyframes(o$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a?.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,s);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}DX(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),$s.delete(this)}cancel(){this.state==="scheduled"&&($s.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const qX=e=>e.startsWith("--");function WX(e,t,r){qX(t)?e.style.setProperty(t,r):e.style[t]=r}const HX=_1(()=>window.ScrollTimeline!==void 0),GX={};function KX(e,t){const r=_1(e);return()=>GX[t]??r()}const c$=KX(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ec=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,TC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ec([0,.65,.55,1]),circOut:Ec([.55,0,1,.45]),backIn:Ec([.31,.01,.66,-.59]),backOut:Ec([.33,1.53,.69,.99])};function u$(e,t){if(e)return typeof e=="function"?c$()?a$(e,t):"ease-out":GI(e)?Ec(e):Array.isArray(e)?e.map(r=>u$(r,t)||TC.easeOut):TC[e]}function YX(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=u$(l,a);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function d$(e){return typeof e=="function"&&"applyToOptions"in e}function XX({type:e,...t}){return d$(e)&&c$()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class f$ extends k1{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,w1(typeof t.type!="string");const u=XX(t);this.animation=YX(r,n,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=O1(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):WX(r,n,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Pn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Pn(t)}get time(){return Pn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=da(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&HX()?(this.animation.timeline=t,Mn):r(this)}}const h$={anticipate:VI,backInOut:UI,circInOut:WI};function ZX(e){return e in h$}function JX(e){typeof e.ease=="string"&&ZX(e.ease)&&(e.ease=h$[e.ease])}const kg=10;class QX extends f${constructor(t){JX(t),s$(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new R1({...s,autoplay:!1}),c=Math.max(kg,Gr.now()-this.startTime),u=Ia(0,kg,c-kg);r.setWithVelocity(l.sample(Math.max(0,c-u)).value,l.sample(c).value,u),l.stop()}}const EC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Yi.test(e)||e==="0")&&!e.startsWith("url("));function eZ(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function tZ(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=EC(a,t),l=EC(i,t);return!s||!l?!1:eZ(e)||(r==="spring"||d$(r))&&n}function ew(e){e.duration=0,e.type="keyframes"}const rZ=new Set(["opacity","clipPath","filter","transform"]),nZ=_1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aZ(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return nZ()&&r&&rZ.has(r)&&(r!=="transform"||!u)&&!c&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const iZ=40;class sZ extends k1{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Gr.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:c,motionValue:u,element:d,...f},m=d?.KeyframeResolver||M1;this.keyframeResolver=new m(l,(v,g,y)=>this.onKeyframesResolved(v,g,h,!y),c,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Gr.now(),tZ(t,i,s,l)||((ui.instantAnimations||!c)&&d?.(O1(t,n,r)),t[0]=t[t.length-1],ew(n),n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>iZ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&aZ(h),v=h.motionValue?.owner?.current,g=m?new QX({...h,element:v}):new R1(h);g.finished.then(()=>{this.notifyFinished()}).catch(Mn),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),VX()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function m$(e,t,r,n=0,a=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),s=e.size,l=(s-1)*n;return typeof r=="function"?r(i,s):a===1?i*n:l-i*n}const oZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lZ(e){const t=oZ.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function p$(e,t,r=1){const[n,a]=lZ(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return MI(s)?parseFloat(s):s}return C1(a)?p$(a,t,r+1):a}const cZ={type:"spring",stiffness:500,damping:25,restSpeed:10},uZ=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),dZ={type:"keyframes",duration:.8},fZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hZ=(e,{keyframes:t})=>t.length>2?dZ:Yl.has(e)?e.startsWith("scale")?uZ(t[1]):cZ:fZ,mZ=e=>e!==null;function pZ(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(mZ),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}function g$(e,t){if(e?.inherit&&t){const{inherit:r,...n}=e;return{...t,...n}}return e}function D1(e,t){const r=e?.[t]??e?.default??e;return r!==e?g$(r,e):r}function gZ({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const I1=(e,t,r,n={},a,i)=>s=>{const l=D1(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-da(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};gZ(l)||Object.assign(d,hZ(e,d)),d.duration&&(d.duration=da(d.duration)),d.repeatDelay&&(d.repeatDelay=da(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(ew(d),d.delay===0&&(f=!0)),(ui.instantAnimations||ui.skipAnimations||a?.shouldSkipAnimations)&&(f=!0,ew(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const h=pZ(d.keyframes,l);if(h!==void 0){$t.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new R1(d):new sZ(d)};function AC(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function $1(e,t,r,n){if(typeof t=="function"){const[a,i]=AC(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=AC(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function Jo(e,t,r){const n=e.getProps();return $1(n,t,r!==void 0?r:n.custom,e)}const y$=new Set(["width","height","top","left","right","bottom",...Kl]),PC=30,yZ=e=>!isNaN(parseFloat(e));class vZ{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const a=Gr.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Gr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=yZ(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new j1);const n=this.events[t].add(r);return t==="change"?()=>{n(),$t.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Gr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>PC)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,PC);return $I(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cl(e,t){return new vZ(e,t)}const tw=e=>Array.isArray(e);function xZ(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,cl(r))}function bZ(e){return tw(e)?e[e.length-1]||0:e}function wZ(e,t){const r=Jo(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const l=bZ(i[s]);xZ(e,s,l)}}const Ir=e=>!!(e&&e.getVelocity);function _Z(e){return!!(Ir(e)&&e.add)}function rw(e,t){const r=e.getValue("willChange");if(_Z(r))return r.add(t);if(!r&&ui.WillChange){const n=new ui.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function L1(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const jZ="framerAppearId",v$="data-"+L1(jZ);function x$(e){return e.props[v$]}function SZ({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function b$(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i,transitionEnd:s,...l}=t;const c=e.getDefaultTransition();i=i?g$(i,c):c;const u=i?.reduceMotion;n&&(i=n);const d=[],f=a&&e.animationState&&e.animationState.getState()[a];for(const h in l){const m=e.getValue(h,e.latestValues[h]??null),v=l[h];if(v===void 0||f&&SZ(f,h))continue;const g={delay:r,...D1(i||{},h)},y=m.get();if(y!==void 0&&!m.isAnimating&&!Array.isArray(v)&&v===y&&!g.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const j=x$(e);if(j){const _=window.MotionHandoffAnimation(j,h,$t);_!==null&&(g.startTime=_,x=!0)}}rw(e,h);const b=u??e.shouldReduceMotion;m.start(I1(h,m,v,b&&y$.has(h)?{type:!1}:g,e,x));const w=m.animation;w&&d.push(w)}if(s){const h=()=>$t.update(()=>{s&&wZ(e,s)});d.length?Promise.all(d).then(h):h()}return d}function nw(e,t,r={}){const n=Jo(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(b$(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return NZ(e,t,c,u,d,f,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function NZ(e,t,r=0,n=0,a=0,i=1,s){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(nw(c,t,{...s,delay:r+(typeof n=="function"?0:n)+m$(e.variantChildren,c,n,a,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function CZ(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>nw(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=nw(e,t,r);else{const a=typeof t=="function"?Jo(e,t,r.custom):t;n=Promise.all(b$(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const TZ={test:e=>e==="auto",parse:e=>e},w$=e=>t=>t.test(e),_$=[Gl,je,Oa,Ei,tX,eX,TZ],OC=e=>_$.find(w$(e));function EZ(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||II(e):!0}const AZ=new Set(["brightness","contrast","saturate","opacity"]);function PZ(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(T1)||[];if(!n)return e;const a=r.replace(n,"");let i=AZ.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const OZ=/\b([a-z-]*)\(.*?\)/gu,aw={...Yi,getAnimatableNone:e=>{const t=e.match(OZ);return t?t.map(PZ).join(" "):e}},kC={...Gl,transform:Math.round},kZ={rotate:Ei,rotateX:Ei,rotateY:Ei,rotateZ:Ei,scale:mf,scaleX:mf,scaleY:mf,scaleZ:mf,skew:Ei,skewX:Ei,skewY:Ei,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:fu,originX:vC,originY:vC,originZ:je},F1={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,inset:je,insetBlock:je,insetBlockStart:je,insetBlockEnd:je,insetInline:je,insetInlineStart:je,insetInlineEnd:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,paddingBlock:je,paddingBlockStart:je,paddingBlockEnd:je,paddingInline:je,paddingInlineStart:je,paddingInlineEnd:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,marginBlock:je,marginBlockStart:je,marginBlockEnd:je,marginInline:je,marginInlineStart:je,marginInlineEnd:je,fontSize:je,backgroundPositionX:je,backgroundPositionY:je,...kZ,zIndex:kC,fillOpacity:fu,strokeOpacity:fu,numOctaves:kC},RZ={...F1,color:dr,backgroundColor:dr,outlineColor:dr,fill:dr,stroke:dr,borderColor:dr,borderTopColor:dr,borderRightColor:dr,borderBottomColor:dr,borderLeftColor:dr,filter:aw,WebkitFilter:aw},j$=e=>RZ[e];function S$(e,t){let r=j$(e);return r!==aw&&(r=Yi),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const MZ=new Set(["auto","none","0"]);function DZ(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!MZ.has(i)&&hu(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=S$(r,a)}class IZ extends M1{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),C1(f))){const h=p$(f,r.current);h!==void 0&&(t[d]=h),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!y$.has(n)||t.length!==2)return;const[a,i]=t,s=OC(a),l=OC(i),c=yC(a),u=yC(i);if(c!==u&&Li[n]){this.needsMeasurement=!0;return}if(s!==l)if(CC(s)&&CC(l))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else Li[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||EZ(t[a]))&&n.push(a);n.length&&DZ(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Li[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=Li[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const $Z=new Set(["opacity","clipPath","filter","transform"]);function N$(e,t,r){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=r?.[e]??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(n=>n!=null)}const C$=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function LZ(e){return DI(e)&&"offsetHeight"in e}const{schedule:B1}=KI(queueMicrotask,!1),Zn={x:!1,y:!1};function T$(){return Zn.x||Zn.y}function FZ(e){return e==="x"||e==="y"?Zn[e]?null:(Zn[e]=!0,()=>{Zn[e]=!1}):Zn.x||Zn.y?null:(Zn.x=Zn.y=!0,()=>{Zn.x=Zn.y=!1})}function E$(e,t){const r=N$(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function BZ(e){return!(e.pointerType==="touch"||T$())}function zZ(e,t,r={}){const[n,a,i]=E$(e,r);return n.forEach(s=>{let l=!1,c=!1,u;const d=()=>{s.removeEventListener("pointerleave",v)},f=y=>{u&&(u(y),u=void 0),d()},h=y=>{l=!1,window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",h),c&&(c=!1,f(y))},m=()=>{l=!0,window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",h,a)},v=y=>{if(y.pointerType!=="touch"){if(l){c=!0;return}f(y)}},g=y=>{if(!BZ(y))return;c=!1;const x=t(s,y);typeof x=="function"&&(u=x,s.addEventListener("pointerleave",v,a))};s.addEventListener("pointerenter",g,a),s.addEventListener("pointerdown",m,a)}),i}const A$=(e,t)=>t?e===t?!0:A$(e,t.parentElement):!1,z1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,UZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function VZ(e){return UZ.has(e.tagName)||e.isContentEditable===!0}const qZ=new Set(["INPUT","SELECT","TEXTAREA"]);function WZ(e){return qZ.has(e.tagName)||e.isContentEditable===!0}const zf=new WeakSet;function RC(e){return t=>{t.key==="Enter"&&e(t)}}function Rg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const HZ=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=RC(()=>{if(zf.has(r))return;Rg(r,"down");const a=RC(()=>{Rg(r,"up")}),i=()=>Rg(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function MC(e){return z1(e)&&!T$()}const DC=new WeakSet;function GZ(e,t,r={}){const[n,a,i]=E$(e,r),s=l=>{const c=l.currentTarget;if(!MC(l)||DC.has(l))return;zf.add(c),r.stopPropagation&&DC.add(l);const u=t(c,l),d=(m,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),zf.has(c)&&zf.delete(c),MC(m)&&typeof u=="function"&&u(m,{success:v})},f=m=>{d(m,c===window||c===document||r.useGlobalTarget||A$(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",s,a),LZ(l)&&(l.addEventListener("focus",u=>HZ(u,a)),!VZ(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function U1(e){return DI(e)&&"ownerSVGElement"in e}const Uf=new WeakMap;let Vf;const P$=(e,t,r)=>(n,a)=>a&&a[0]?a[0][e+"Size"]:U1(n)&&"getBBox"in n?n.getBBox()[t]:n[r],KZ=P$("inline","width","offsetWidth"),YZ=P$("block","height","offsetHeight");function XZ({target:e,borderBoxSize:t}){Uf.get(e)?.forEach(r=>{r(e,{get width(){return KZ(e,t)},get height(){return YZ(e,t)}})})}function ZZ(e){e.forEach(XZ)}function JZ(){typeof ResizeObserver>"u"||(Vf=new ResizeObserver(ZZ))}function QZ(e,t){Vf||JZ();const r=N$(e);return r.forEach(n=>{let a=Uf.get(n);a||(a=new Set,Uf.set(n,a)),a.add(t),Vf?.observe(n)}),()=>{r.forEach(n=>{const a=Uf.get(n);a?.delete(t),a?.size||Vf?.unobserve(n)})}}const qf=new Set;let zo;function eJ(){zo=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};qf.forEach(t=>t(e))},window.addEventListener("resize",zo)}function tJ(e){return qf.add(e),zo||eJ(),()=>{qf.delete(e),!qf.size&&typeof zo=="function"&&(window.removeEventListener("resize",zo),zo=void 0)}}function IC(e,t){return typeof e=="function"?tJ(e):QZ(e,t)}function rJ(e){return U1(e)&&e.tagName==="svg"}const nJ=[..._$,dr,Yi],aJ=e=>nJ.find(w$(e)),$C=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uo=()=>({x:$C(),y:$C()}),LC=()=>({min:0,max:0}),vr=()=>({x:LC(),y:LC()}),iJ=new WeakMap;function Jm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function mu(e){return typeof e=="string"||Array.isArray(e)}const V1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],q1=["initial",...V1];function Qm(e){return Jm(e.animate)||q1.some(t=>mu(e[t]))}function O$(e){return!!(Qm(e)||e.variants)}function sJ(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Ir(a))e.addValue(n,a);else if(Ir(i))e.addValue(n,cl(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,cl(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const iw={current:null},k$={current:!1},oJ=typeof window<"u";function lJ(){if(k$.current=!0,!!oJ)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>iw.current=e.matches;e.addEventListener("change",t),t()}else iw.current=!1}const FC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let ph={};function R$(e){ph=e}function cJ(){return ph}class uJ{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,skipAnimations:i,blockInitialAnimation:s,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=M1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Gr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,$t.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=i,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=Qm(r),this.isVariantNode=O$(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in h){const v=h[m];u[m]!==void 0&&Ir(v)&&v.set(u[m])}}mount(t){if(this.hasBeenMounted)for(const r in this.initialValues)this.values.get(r)?.jump(this.initialValues[r]),this.latestValues[r]=this.initialValues[r];this.current=t,iJ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(k$.current||lJ(),this.shouldReduceMotion=iw.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Ki(this.notifyUpdate),Ki(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),r.accelerate&&$Z.has(t)&&this.current instanceof HTMLElement){const{factory:s,keyframes:l,times:c,ease:u,duration:d}=r.accelerate,f=new f$({element:this.current,name:t,keyframes:l,times:c,ease:u,duration:da(d)}),h=s(f);this.valueSubscriptions.set(t,()=>{h(),f.cancel()});return}const n=Yl.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&$t.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ph){const r=ph[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<FC.length;n++){const a=FC[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=sJ(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=cl(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(MI(n)||II(n))?n=parseFloat(n):!aJ(n)&&Yi.test(r)&&(n=S$(t,r)),this.setBaseTarget(t,Ir(n)?n.get():n)),Ir(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=$1(this.props,r,this.presenceContext?.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ir(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new j1),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){B1.render(this.render)}}class M$ extends uJ{constructor(){super(...arguments),this.KeyframeResolver=IZ}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){const n=t.style;return n?n[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ir(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class rs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function D$({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function dJ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function fJ(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Mg(e){return e===void 0||e===1}function sw({scale:e,scaleX:t,scaleY:r}){return!Mg(e)||!Mg(t)||!Mg(r)}function bs(e){return sw(e)||I$(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function I$(e){return BC(e.x)||BC(e.y)}function BC(e){return e&&e!=="0%"}function gh(e,t,r){const n=e-r,a=t*n;return r+a}function zC(e,t,r,n,a){return a!==void 0&&(e=gh(e,a,n)),gh(e,r,n)+t}function ow(e,t=0,r=1,n,a){e.min=zC(e.min,t,r,n,a),e.max=zC(e.max,t,r,n,a)}function $$(e,{x:t,y:r}){ow(e.x,t.translate,t.scale,t.originPoint),ow(e.y,r.translate,r.scale,r.originPoint)}const UC=.999999999999,VC=1.0000000000001;function hJ(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let l=0;l<a;l++){i=r[l],s=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&qo(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,$$(e,s)),n&&bs(i.latestValues)&&qo(e,i.latestValues))}t.x<VC&&t.x>UC&&(t.x=1),t.y<VC&&t.y>UC&&(t.y=1)}function Vo(e,t){e.min=e.min+t,e.max=e.max+t}function qC(e,t,r,n,a=.5){const i=Ht(e.min,e.max,a);ow(e,t,r,i,n)}function qo(e,t){qC(e.x,t.x,t.scaleX,t.scale,t.originX),qC(e.y,t.y,t.scaleY,t.scale,t.originY)}function L$(e,t){return D$(fJ(e.getBoundingClientRect(),t))}function mJ(e,t,r){const n=L$(e,r),{scroll:a}=t;return a&&(Vo(n.x,a.offset.x),Vo(n.y,a.offset.y)),n}const pJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gJ=Kl.length;function yJ(e,t,r){let n="",a=!0;for(let i=0;i<gJ;i++){const s=Kl[i],l=e[s];if(l===void 0)continue;let c=!0;if(typeof l=="number")c=l===(s.startsWith("scale")?1:0);else{const u=parseFloat(l);c=s.startsWith("scale")?u===1:u===0}if(!c||r){const u=C$(l,F1[s]);if(!c){a=!1;const d=pJ[s]||s;n+=`${d}(${u}) `}r&&(t[s]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function W1(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,l=!1;for(const c in t){const u=t[c];if(Yl.has(c)){s=!0;continue}else if(XI(c)){a[c]=u;continue}else{const d=C$(u,F1[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(s||r?n.transform=yJ(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}function F$(e,{style:t,vars:r},n,a){const i=e.style;let s;for(s in t)i[s]=t[s];a?.applyProjectionStyles(i,n);for(s in r)i.setProperty(s,r[s])}function WC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const pc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(je.test(e))e=parseFloat(e);else return e;const r=WC(e,t.target.x),n=WC(e,t.target.y);return`${r}% ${n}%`}},vJ={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Yi.parse(e);if(a.length>5)return n;const i=Yi.createTransformer(e),s=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+s]/=l,a[1+s]/=c;const u=Ht(l,c,.5);return typeof a[2+s]=="number"&&(a[2+s]/=u),typeof a[3+s]=="number"&&(a[3+s]/=u),i(a)}},lw={borderRadius:{...pc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pc,borderTopRightRadius:pc,borderBottomLeftRadius:pc,borderBottomRightRadius:pc,boxShadow:vJ};function B$(e,{layout:t,layoutId:r}){return Yl.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!lw[e]||e==="opacity")}function H1(e,t,r){const n=e.style,a=t?.style,i={};if(!n)return i;for(const s in n)(Ir(n[s])||a&&Ir(a[s])||B$(s,e)||r?.getValue(s)?.liveStyle!==void 0)&&(i[s]=n[s]);return i}function xJ(e){return window.getComputedStyle(e)}class bJ extends M${constructor(){super(...arguments),this.type="html",this.renderInstance=F$}readValueFromInstance(t,r){if(Yl.has(r))return this.projection?.isProjecting?Y0(r):LX(t,r);{const n=xJ(t),a=(XI(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return L$(t,r)}build(t,r,n){W1(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return H1(t,r,n)}}const wJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},_J={offset:"strokeDashoffset",array:"strokeDasharray"};function jJ(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?wJ:_J;e[i.offset]=`${-n}`,e[i.array]=`${t} ${r}`}const SJ=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function z$(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...l},c,u,d){if(W1(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=d?.transformBox??"fill-box",delete f.transformBox);for(const m of SJ)f[m]!==void 0&&(h[m]=f[m],delete f[m]);t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&jJ(f,a,i,s,!1)}const U$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),V$=e=>typeof e=="string"&&e.toLowerCase()==="svg";function NJ(e,t,r,n){F$(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(U$.has(a)?a:L1(a),t.attrs[a])}function q$(e,t,r){const n=H1(e,t,r);for(const a in e)if(Ir(e[a])||Ir(t[a])){const i=Kl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}class CJ extends M${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Yl.has(r)){const n=j$(r);return n&&n.default||0}return r=U$.has(r)?r:L1(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return q$(t,r,n)}build(t,r,n){z$(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){NJ(t,r,n,a)}mount(t){this.isSVGTag=V$(t.tagName),super.mount(t)}}const TJ=q1.length;function W$(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?W$(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<TJ;r++){const n=q1[r],a=e.props[n];(mu(a)||a===!1)&&(t[n]=a)}return t}function H$(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const EJ=[...V1].reverse(),AJ=V1.length;function PJ(e){return t=>Promise.all(t.map(({animation:r,options:n})=>CZ(e,r,n)))}function OJ(e){let t=PJ(e),r=HC(),n=!0;const a=c=>(u,d)=>{const f=Jo(e,d,c==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:h,transitionEnd:m,...v}=f;u={...u,...v,...m}}return u};function i(c){t=c(e)}function s(c){const{props:u}=e,d=W$(e.parent)||{},f=[],h=new Set;let m={},v=1/0;for(let y=0;y<AJ;y++){const x=EJ[y],b=r[x],w=u[x]!==void 0?u[x]:d[x],j=mu(w),_=x===c?b.isActive:null;_===!1&&(v=y);let S=w===d[x]&&w!==u[x]&&j;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={...m},!b.isActive&&_===null||!w&&!b.prevProp||Jm(w)||typeof w=="boolean")continue;if(x==="exit"&&b.isActive&&_!==!0){b.prevResolvedValues&&(m={...m,...b.prevResolvedValues});continue}const N=kJ(b.prevProp,w);let T=N||x===c&&b.isActive&&!S&&j||y>v&&j,C=!1;const A=Array.isArray(w)?w:[w];let P=A.reduce(a(x),{});_===!1&&(P={});const{prevResolvedValues:E={}}=b,R={...E,...P},O=I=>{T=!0,h.has(I)&&(C=!0,h.delete(I)),b.needsAnimating[I]=!0;const F=e.getValue(I);F&&(F.liveStyle=!1)};for(const I in R){const F=P[I],$=E[I];if(m.hasOwnProperty(I))continue;let V=!1;tw(F)&&tw($)?V=!H$(F,$):V=F!==$,V?F!=null?O(I):h.add(I):F!==void 0&&h.has(I)?O(I):b.protectedKeys[I]=!0}b.prevProp=w,b.prevResolvedValues=P,b.isActive&&(m={...m,...P}),n&&e.blockInitialAnimation&&(T=!1);const M=S&&N;T&&(!M||C)&&f.push(...A.map(I=>{const F={type:x};if(typeof I=="string"&&n&&!M&&e.manuallyAnimateOnMount&&e.parent){const{parent:$}=e,V=Jo($,I);if($.enteringChildren&&V){const{delayChildren:X}=V.transition||{};F.delay=m$($.enteringChildren,e,X)}}return{animation:I,options:F}}))}if(h.size){const y={};if(typeof u.initial!="boolean"){const x=Jo(e,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(y.transition=x.transition)}h.forEach(x=>{const b=e.getBaseTarget(x),w=e.getValue(x);w&&(w.liveStyle=!0),y[x]=b??null}),f.push({animation:y})}let g=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(f):Promise.resolve()}function l(c,u){if(r[c].isActive===u)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(c,u)),r[c].isActive=u;const d=s(c);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:s,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=HC()}}}function kJ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!H$(t,e):!1}function ys(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HC(){return{animate:ys(!0),whileInView:ys(),whileHover:ys(),whileTap:ys(),whileDrag:ys(),whileFocus:ys(),exit:ys()}}function GC(e,t){e.min=t.min,e.max=t.max}function Gn(e,t){GC(e.x,t.x),GC(e.y,t.y)}function KC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const G$=1e-4,RJ=1-G$,MJ=1+G$,K$=.01,DJ=0-K$,IJ=0+K$;function Kr(e){return e.max-e.min}function $J(e,t,r){return Math.abs(e-t)<=r}function YC(e,t,r,n=.5){e.origin=n,e.originPoint=Ht(t.min,t.max,e.origin),e.scale=Kr(r)/Kr(t),e.translate=Ht(r.min,r.max,e.origin)-e.originPoint,(e.scale>=RJ&&e.scale<=MJ||isNaN(e.scale))&&(e.scale=1),(e.translate>=DJ&&e.translate<=IJ||isNaN(e.translate))&&(e.translate=0)}function Vc(e,t,r,n){YC(e.x,t.x,r.x,n?n.originX:void 0),YC(e.y,t.y,r.y,n?n.originY:void 0)}function XC(e,t,r){e.min=r.min+t.min,e.max=e.min+Kr(t)}function LJ(e,t,r){XC(e.x,t.x,r.x),XC(e.y,t.y,r.y)}function ZC(e,t,r){e.min=t.min-r.min,e.max=e.min+Kr(t)}function yh(e,t,r){ZC(e.x,t.x,r.x),ZC(e.y,t.y,r.y)}function JC(e,t,r,n,a){return e-=t,e=gh(e,1/r,n),a!==void 0&&(e=gh(e,1/a,n)),e}function FJ(e,t=0,r=1,n=.5,a,i=e,s=e){if(Oa.test(t)&&(t=parseFloat(t),t=Ht(s.min,s.max,t/100)-s.min),typeof t!="number")return;let l=Ht(i.min,i.max,n);e===i&&(l-=t),e.min=JC(e.min,t,r,l,a),e.max=JC(e.max,t,r,l,a)}function QC(e,t,[r,n,a],i,s){FJ(e,t[r],t[n],t[a],t.scale,i,s)}const BJ=["x","scaleX","originX"],zJ=["y","scaleY","originY"];function eT(e,t,r,n){QC(e.x,t,BJ,r?r.x:void 0,n?n.x:void 0),QC(e.y,t,zJ,r?r.y:void 0,n?n.y:void 0)}function tT(e){return e.translate===0&&e.scale===1}function Y$(e){return tT(e.x)&&tT(e.y)}function rT(e,t){return e.min===t.min&&e.max===t.max}function UJ(e,t){return rT(e.x,t.x)&&rT(e.y,t.y)}function nT(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function X$(e,t){return nT(e.x,t.x)&&nT(e.y,t.y)}function aT(e){return Kr(e.x)/Kr(e.y)}function iT(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function _a(e){return[e("x"),e("y")]}function VJ(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=r?.z||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:v}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),v&&(n+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Z$=["TopLeft","TopRight","BottomLeft","BottomRight"],qJ=Z$.length,sT=e=>typeof e=="string"?parseFloat(e):e,oT=e=>typeof e=="number"||je.test(e);function WJ(e,t,r,n,a,i){a?(e.opacity=Ht(0,r.opacity??1,HJ(n)),e.opacityExit=Ht(t.opacity??1,0,GJ(n))):i&&(e.opacity=Ht(t.opacity??1,r.opacity??1,n));for(let s=0;s<qJ;s++){const l=`border${Z$[s]}Radius`;let c=lT(t,l),u=lT(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||oT(c)===oT(u)?(e[l]=Math.max(Ht(sT(c),sT(u),n),0),(Oa.test(u)||Oa.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Ht(t.rotate||0,r.rotate||0,n))}function lT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const HJ=J$(0,.5,qI),GJ=J$(.5,.95,Mn);function J$(e,t,r){return n=>n<e?0:n>t?1:r(du(e,t,n))}function KJ(e,t,r){const n=Ir(e)?e:cl(e);return n.start(I1("",n,t,r)),n.animation}function pu(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const YJ=(e,t)=>e.depth-t.depth;class XJ{constructor(){this.children=[],this.isDirty=!1}add(t){b1(this.children,t),this.isDirty=!0}remove(t){dh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(YJ),this.isDirty=!1,this.children.forEach(t)}}function ZJ(e,t){const r=Gr.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Ki(n),e(i-t))};return $t.setup(n,!0),()=>Ki(n)}function Wf(e){return Ir(e)?e.get():e}class JJ{constructor(){this.members=[]}add(t){b1(this.members,t);for(let r=this.members.length-1;r>=0;r--){const n=this.members[r];if(n===t||n===this.lead||n===this.prevLead)continue;const a=n.instance;a&&a.isConnected===!1&&n.isPresent!==!1&&!n.snapshot&&dh(this.members,n)}t.scheduleRender()}remove(t){if(dh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a],s=i.instance;if(i.isPresent!==!1&&(!s||s.isConnected!==!1)){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender();const a=n.options.layoutDependency,i=t.options.layoutDependency;if(!(a!==void 0&&i!==void 0&&a===i)){const c=n.instance;c&&c.isConnected===!1&&!n.snapshot||(t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:l}=t.options;l===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Hf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Dg=["","X","Y","Z"],QJ=1e3;let eQ=0;function Ig(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Q$(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=x$(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",$t,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Q$(n)}function eL({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},l=t?.()){this.id=eQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nQ),this.nodes.forEach(oQ),this.nodes.forEach(lQ),this.nodes.forEach(aQ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new XJ)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new j1),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const c=this.eventHandlers.get(s);c&&c.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=U1(s)&&!rJ(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;$t.read(()=>{f=window.innerWidth}),e(s,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=ZJ(h,250),Hf.hasAnimatedSinceResize&&(Hf.hasAnimatedSinceResize=!1,this.nodes.forEach(dT)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||hQ,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=u.getProps(),x=!this.targetLayout||!X$(this.targetLayout,m),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...D1(v,"layout"),onPlay:g,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,b)}else f||dT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cQ),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Q$(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(uT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(sQ),this.nodes.forEach(tQ),this.nodes.forEach(rQ)):this.nodes.forEach(uT),this.clearAllSnapshots();const l=Gr.now();Ar.delta=Ia(0,1e3/60,l-Ar.timestamp),Ar.timestamp=l,Ar.isProcessing=!0,Tg.update.process(Ar),Tg.preRender.process(Ar),Tg.render.process(Ar),Ar.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,B1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iQ),this.sharedNodes.forEach(uQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Kr(this.snapshot.measuredBox.x)&&!Kr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=vr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Y$(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&this.instance&&(l||bs(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return s&&(c=this.removeTransform(c)),mQ(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return vr();const l=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(pQ))){const{scroll:u}=this.root;u&&(Vo(l.x,u.offset.x),Vo(l.y,u.offset.y))}return l}removeElementScroll(s){const l=vr();if(Gn(l,s),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Gn(l,s),Vo(l.x,d.offset.x),Vo(l.y,d.offset.y))}return l}applyTransform(s,l=!1){const c=vr();Gn(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&qo(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),bs(d.latestValues)&&qo(c,d.latestValues)}return bs(this.latestValues)&&qo(c,this.latestValues),c}removeTransform(s){const l=vr();Gn(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!bs(u.latestValues))continue;sw(u.latestValues)&&u.updateSnapshot();const d=vr(),f=u.measurePageBox();Gn(d,f),eT(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return bs(this.latestValues)&&eT(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ar.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=Ar.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vr(),this.targetWithTransforms=vr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),$$(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||sw(this.parent.latestValues)||I$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,l,c){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vr(),this.relativeTargetOrigin=vr(),yh(this.relativeTargetOrigin,l,c),Gn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ar.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Gn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;hJ(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=vr());const{target:m}=s;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KC(this.prevProjectionDelta.x,this.projectionDelta.x),KC(this.prevProjectionDelta.y,this.projectionDelta.y)),Vc(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!iT(this.projectionDelta.x,this.prevProjectionDelta.x)||!iT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Uo(),this.projectionDelta=Uo(),this.projectionDeltaWithTransform=Uo()}setAnimationOrigin(s,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Uo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=vr(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,y=this.getStack(),x=!y||y.members.length<=1,b=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(fQ));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const _=j/1e3;fT(f.x,s.x,_),fT(f.y,s.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yh(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dQ(this.relativeTarget,this.relativeTargetOrigin,h,_),w&&UJ(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=vr()),Gn(w,this.relativeTarget)),g&&(this.animationValues=d,WJ(d,u,this.latestValues,_,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$t.update(()=>{Hf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=cl(0)),this.currentAnimation=KJ(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(QJ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=s;if(!(!l||!c||!u)){if(this!==s&&this.layout&&u&&tL(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||vr();const f=Kr(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+f;const h=Kr(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+h}Gn(l,c),qo(l,d),Vc(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new JJ),this.sharedNodes.get(s).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Ig("z",s,u,this.animationValues);for(let d=0;d<Dg.length;d++)Ig(`rotate${Dg[d]}`,s,u,this.animationValues),Ig(`skew${Dg[d]}`,s,u,this.animationValues);s.render();for(const d in u)s.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);s.scheduleRender()}applyProjectionStyles(s,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=Wf(l?.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=Wf(l?.pointerEvents)||""),this.hasProjected&&!bs(this.latestValues)&&(s.transform=c?c({},""):"none",this.hasProjected=!1);return}s.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=VJ(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),s.transform=f;const{x:h,y:m}=this.projectionDelta;s.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?s.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:s.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in lw){if(d[v]===void 0)continue;const{correct:g,applyTo:y,isCSSVariable:x}=lw[v],b=f==="none"?d[v]:g(d[v],u);if(y){const w=y.length;for(let j=0;j<w;j++)s[y[j]]=b}else x?this.options.visualElement.renderState.vars[v]=b:s[v]=b}this.options.layoutId&&(s.pointerEvents=u===this?Wf(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(cT),this.root.sharedNodes.clear()}}}function tQ(e){e.updateLayout()}function rQ(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;a==="size"?_a(d=>{const f=i?t.measuredBox[d]:t.layoutBox[d],h=Kr(f);f.min=r[d].min,f.max=f.min+h}):tL(a,t.layoutBox,r)&&_a(d=>{const f=i?t.measuredBox[d]:t.layoutBox[d],h=Kr(r[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const s=Uo();Vc(s,r,t.layoutBox);const l=Uo();i?Vc(l,e.applyTransform(n,!0),t.measuredBox):Vc(l,r,t.layoutBox);const c=!Y$(s);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const m=vr();yh(m,t.layoutBox,f.layoutBox);const v=vr();yh(v,r,h.layoutBox),X$(m,v)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function nQ(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function aQ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function iQ(e){e.clearSnapshot()}function cT(e){e.clearMeasurements()}function uT(e){e.isLayoutDirty=!1}function sQ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function dT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function oQ(e){e.resolveTargetDelta()}function lQ(e){e.calcProjection()}function cQ(e){e.resetSkewAndRotation()}function uQ(e){e.removeLeadSnapshot()}function fT(e,t,r){e.translate=Ht(t.translate,0,r),e.scale=Ht(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function hT(e,t,r,n){e.min=Ht(t.min,r.min,n),e.max=Ht(t.max,r.max,n)}function dQ(e,t,r,n){hT(e.x,t.x,r.x,n),hT(e.y,t.y,r.y,n)}function fQ(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const hQ={duration:.45,ease:[.4,0,.1,1]},mT=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),pT=mT("applewebkit/")&&!mT("chrome/")?Math.round:Mn;function gT(e){e.min=pT(e.min),e.max=pT(e.max)}function mQ(e){gT(e.x),gT(e.y)}function tL(e,t,r){return e==="position"||e==="preserve-aspect"&&!$J(aT(t),aT(r),.2)}function pQ(e){return e!==e.root&&e.scroll?.wasRoot}const gQ=eL({attachResizeListener:(e,t)=>pu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),$g={current:void 0},rL=eL({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!$g.current){const e=new gQ({});e.mount(window),e.setOptions({layoutScroll:!0}),$g.current=e}return $g.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),nL=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function yQ(e=!0){const t=p.useContext(x1);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=p.useId();p.useEffect(()=>{if(e)return a(i)},[e]);const s=p.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const aL=p.createContext({strict:!1}),yT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let vT=!1;function vQ(){if(vT)return;const e={};for(const t in yT)e[t]={isEnabled:r=>yT[t].some(n=>!!r[n])};R$(e),vT=!0}function iL(){return vQ(),cJ()}function xQ(e){const t=iL();for(const r in e)t[r]={...t[r],...e[r]};R$(t)}const bQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function vh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bQ.has(e)}let sL=e=>!vh(e);function wQ(e){typeof e=="function"&&(sL=t=>t.startsWith("on")?!vh(t):e(t))}try{wQ(require("@emotion/is-prop-valid").default)}catch{}function _Q(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(sL(a)||r===!0&&vh(a)||!t&&!vh(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const ep=p.createContext({});function jQ(e,t){if(Qm(e)){const{initial:r,animate:n}=e;return{initial:r===!1||mu(r)?r:void 0,animate:mu(n)?n:void 0}}return e.inherit!==!1?t:{}}function SQ(e){const{initial:t,animate:r}=jQ(e,p.useContext(ep));return p.useMemo(()=>({initial:t,animate:r}),[xT(t),xT(r)])}function xT(e){return Array.isArray(e)?e.join(" "):e}const G1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oL(e,t,r){for(const n in t)!Ir(t[n])&&!B$(n,r)&&(e[n]=t[n])}function NQ({transformTemplate:e},t){return p.useMemo(()=>{const r=G1();return W1(r,t,e),Object.assign({},r.vars,r.style)},[t])}function CQ(e,t){const r=e.style||{},n={};return oL(n,r,e),Object.assign(n,NQ(e,t)),n}function TQ(e,t){const r={},n=CQ(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const lL=()=>({...G1(),attrs:{}});function EQ(e,t,r,n){const a=p.useMemo(()=>{const i=lL();return z$(i,t,V$(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};oL(i,e.style,e),a.style={...i,...a.style}}return a}const AQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function K1(e){return typeof e!="string"||e.includes("-")?!1:!!(AQ.indexOf(e)>-1||/[A-Z]/u.test(e))}function PQ(e,t,r,{latestValues:n},a,i=!1,s){const c=(s??K1(e)?EQ:TQ)(t,n,a,e),u=_Q(t,typeof e=="string",i),d=e!==p.Fragment?{...u,...c,ref:r}:{},{children:f}=t,h=p.useMemo(()=>Ir(f)?f.get():f,[f]);return p.createElement(e,{...d,children:h})}function OQ({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:kQ(r,n,a,e),renderState:t()}}function kQ(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=Wf(i[h]);let{initial:s,animate:l}=e;const c=Qm(e),u=O$(e);t&&u&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||s===!1;const f=d?l:s;if(f&&typeof f!="boolean"&&!Jm(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const v=$1(e,h[m]);if(v){const{transitionEnd:g,transition:y,...x}=v;for(const b in x){let w=x[b];if(Array.isArray(w)){const j=d?w.length-1:0;w=w[j]}w!==null&&(a[b]=w)}for(const b in g)a[b]=g[b]}}}return a}const cL=e=>(t,r)=>{const n=p.useContext(ep),a=p.useContext(x1),i=()=>OQ(e,t,n,a);return r?i():MY(i)},RQ=cL({scrapeMotionValuesFromProps:H1,createRenderState:G1}),MQ=cL({scrapeMotionValuesFromProps:q$,createRenderState:lL}),DQ=Symbol.for("motionComponentSymbol");function IQ(e,t,r){const n=p.useRef(r);p.useInsertionEffect(()=>{n.current=r});const a=p.useRef(null);return p.useCallback(i=>{i&&e.onMount?.(i),t&&(i?t.mount(i):t.unmount());const s=n.current;if(typeof s=="function")if(i){const l=s(i);typeof l=="function"&&(a.current=l)}else a.current?(a.current(),a.current=null):s(i);else s&&(s.current=i)},[t])}const uL=p.createContext({});function Do(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function $Q(e,t,r,n,a,i){const{visualElement:s}=p.useContext(ep),l=p.useContext(aL),c=p.useContext(x1),u=p.useContext(nL),d=u.reducedMotion,f=u.skipAnimations,h=p.useRef(null),m=p.useRef(!1);n=n||l.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:s,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d,skipAnimations:f,isSVG:i}),m.current&&h.current&&(h.current.manuallyAnimateOnMount=!0));const v=h.current,g=p.useContext(uL);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&LQ(h.current,r,a,g);const y=p.useRef(!1);p.useInsertionEffect(()=>{v&&y.current&&v.update(r,c)});const x=r[v$],b=p.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return DY(()=>{m.current=!0,v&&(y.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),b.current&&v.animationState&&v.animationState.animateChanges())}),p.useEffect(()=>{v&&(!b.current&&v.animationState&&v.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),b.current=!1),v.enteringChildren=void 0)}),v}function LQ(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:dL(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||l&&Do(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function dL(e){if(e)return e.options.allowProjection!==!1?e.projection:dL(e.parent)}function Lg(e,{forwardMotionProps:t=!1,type:r}={},n,a){n&&xQ(n);const i=r?r==="svg":K1(e),s=i?MQ:RQ;function l(u,d){let f;const h={...p.useContext(nL),...u,layoutId:FQ(u)},{isStatic:m}=h,v=SQ(u),g=s(u,m);if(!m&&RI){BQ();const y=zQ(h);f=y.MeasureLayout,v.visualElement=$Q(e,g,h,a,y.ProjectionNode,i)}return o.jsxs(ep.Provider,{value:v,children:[f&&v.visualElement?o.jsx(f,{visualElement:v.visualElement,...h}):null,PQ(e,u,IQ(g,v.visualElement,d),g,m,t,i)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=p.forwardRef(l);return c[DQ]=e,c}function FQ({layoutId:e}){const t=p.useContext(kI).id;return t&&e!==void 0?t+"-"+e:e}function BQ(e,t){p.useContext(aL).strict}function zQ(e){const t=iL(),{drag:r,layout:n}=t;if(!r&&!n)return{};const a={...r,...n};return{MeasureLayout:r?.isEnabled(e)||n?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function UQ(e,t){if(typeof Proxy>"u")return Lg;const r=new Map,n=(i,s)=>Lg(i,s,e,t),a=(i,s)=>n(i,s);return new Proxy(a,{get:(i,s)=>s==="create"?n:(r.has(s)||r.set(s,Lg(s,void 0,e,t)),r.get(s))})}const VQ=(e,t)=>t.isSVG??K1(e)?new CJ(t):new bJ(t,{allowProjection:e!==p.Fragment});class qQ extends rs{constructor(t){super(t),t.animationState||(t.animationState=OJ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Jm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let WQ=0;class HQ extends rs{constructor(){super(...arguments),this.id=WQ++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const GQ={animation:{Feature:qQ},exit:{Feature:HQ}};function Ed(e){return{point:{x:e.pageX,y:e.pageY}}}const KQ=e=>t=>z1(t)&&e(t,Ed(t));function qc(e,t,r,n){return pu(e,t,KQ(r),n)}const fL=({current:e})=>e?e.ownerDocument.defaultView:null,bT=(e,t)=>Math.abs(e-t);function YQ(e,t){const r=bT(e.x,t.x),n=bT(e.y,t.y);return Math.sqrt(r**2+n**2)}const wT=new Set(["auto","scroll"]);class hL{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Bg(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,g=YQ(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!g)return;const{point:y}=m,{timestamp:x}=Ar;this.history.push({...y,timestamp:x});const{onStart:b,onMove:w}=this.handlers;v||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Fg(v,this.transformPagePoint),$t.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:x}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Bg(m.type==="pointercancel"?this.lastMoveEventInfo:Fg(v,this.transformPagePoint),this.history);this.startEvent&&g&&g(m,b),y&&y(m,b)},!z1(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=a||window;const c=Ed(t),u=Fg(c,this.transformPagePoint),{point:d}=u,{timestamp:f}=Ar;this.history=[{...d,timestamp:f}];const{onSessionStart:h}=r;h&&h(t,Bg(u,this.history)),this.removeListeners=Nd(qc(this.contextWindow,"pointermove",this.handlePointerMove),qc(this.contextWindow,"pointerup",this.handlePointerUp),qc(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let r=t.parentElement;for(;r;){const n=getComputedStyle(r);(wT.has(n.overflowX)||wT.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const n=t===window,a=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:a.x-r.x,y:a.y-r.y};i.x===0&&i.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,a),$t.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ki(this.updatePoint)}}function Fg(e,t){return t?{point:t(e.point)}:e}function _T(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Bg({point:e},t){return{point:e,delta:_T(e,mL(t)),offset:_T(e,XQ(t)),velocity:ZQ(t,.1)}}function XQ(e){return e[0]}function mL(e){return e[e.length-1]}function ZQ(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=mL(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>da(t)));)r--;if(!n)return{x:0,y:0};n===e[0]&&e.length>2&&a.timestamp-n.timestamp>da(t)*2&&(n=e[1]);const i=Pn(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function JQ(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ht(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ht(r,e,n.max):Math.min(e,r)),e}function jT(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function QQ(e,{top:t,left:r,bottom:n,right:a}){return{x:jT(e.x,r,a),y:jT(e.y,t,n)}}function ST(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function eee(e,t){return{x:ST(e.x,t.x),y:ST(e.y,t.y)}}function tee(e,t){let r=.5;const n=Kr(e),a=Kr(t);return a>n?r=du(t.min,t.max-n,e.min):n>a&&(r=du(e.min,e.max-a,t.min)),Ia(0,1,r)}function ree(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const cw=.35;function nee(e=cw){return e===!1?e=0:e===!0&&(e=cw),{x:NT(e,"left","right"),y:NT(e,"top","bottom")}}function NT(e,t,r){return{min:CT(e,t),max:CT(e,r)}}function CT(e,t){return typeof e=="number"?e:e[t]||0}const aee=new WeakMap;class iee{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{r&&this.snapToCursor(Ed(f).point),this.stopAnimation()},s=(f,h)=>{const{drag:m,dragPropagation:v,onDragStart:g}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=FZ(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_a(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Oa.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const j=w.layout.layoutBox[x];j&&(b=Kr(j)*(parseFloat(b)/100))}}this.originPoint[x]=b}),g&&$t.update(()=>g(f,h),!1,!0),rw(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:g,onDrag:y}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:x}=h;if(v&&this.currentDirection===null){this.currentDirection=oee(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),y&&$t.update(()=>y(f,h),!1,!0)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>{const{dragSnapToOrigin:f}=this.getProps();(f||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:d}=this.getProps();this.panSession=new hL(t,{onSessionStart:i,onStart:s,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:fL(this.visualElement),element:this.visualElement.current})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:s}=a;this.startAnimation(s);const{onDragEnd:l}=this.getProps();l&&$t.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!pf(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=JQ(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Do(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=QQ(n.layoutBox,t):this.constraints=!1,this.elastic=nee(r),a!==this.constraints&&!Do(t)&&n&&this.constraints&&!this.hasMutatedConstraints&&_a(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=ree(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Do(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=mJ(n,a.root,this.visualElement.getTransformPagePoint());let s=eee(a.layout.layoutBox,i);if(r){const l=r(dJ(s));this.hasMutatedConstraints=!!l,l&&(s=D$(l))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=_a(d=>{if(!pf(d,r,this.currentDirection))return;let f=c&&c[d]||{};s&&(f={min:0,max:0});const h=a?200:1e6,m=a?40:1e7,v={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return rw(this.visualElement,t),n.start(I1(t,n,0,r,this.visualElement,!1))}stopAnimation(){_a(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){_a(r=>{const{drag:n}=this.getProps();if(!pf(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:l}=a.layout.layoutBox[r],c=i.get()||0;i.set(t[r]-Ht(s,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Do(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};_a(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const c=l.get();a[s]=tee({min:c,max:c},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),_a(s=>{if(!pf(s,t,null))return;const l=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];l.set(Ht(c,u,a[s]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;aee.set(this.visualElement,this);const t=this.visualElement.current,r=qc(t,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps(),h=u.target,m=h!==t&&WZ(h);d&&f&&!m&&this.start(u)});let n;const a=()=>{const{dragConstraints:u}=this.getProps();Do(u)&&u.current&&(this.constraints=this.resolveRefConstraints(),n||(n=see(t,u.current,()=>this.scalePositionWithinConstraints())))},{projection:i}=this.visualElement,s=i.addEventListener("measure",a);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),$t.read(a);const l=pu(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(_a(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=u[f].translate,h.set(h.get()+u[f].translate))}),this.visualElement.render())}));return()=>{l(),r(),s(),c&&c(),n&&n()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=cw,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:l}}}function TT(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function see(e,t,r){const n=IC(e,TT(r)),a=IC(t,TT(r));return()=>{n(),a()}}function pf(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function oee(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class lee extends rs{constructor(t){super(t),this.removeGroupControls=Mn,this.removeListeners=Mn,this.controls=new iee(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const zg=e=>(t,r)=>{e&&$t.update(()=>e(t,r),!1,!0)};class cee extends rs{constructor(){super(...arguments),this.removePointerDownListener=Mn}onPointerDown(t){this.session=new hL(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fL(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:zg(t),onStart:zg(r),onMove:zg(n),onEnd:(i,s)=>{delete this.session,a&&$t.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=qc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Ug=!1;class uee extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),Ug&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Hf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,t.layoutDependency!==r&&s.setOptions({...s.options,layoutDependency:r}),Ug=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||$t.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),B1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;Ug=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function pL(e){const[t,r]=yQ(),n=p.useContext(kI);return o.jsx(uee,{...e,layoutGroup:n,switchLayoutGroup:p.useContext(uL),isPresent:t,safeToRemove:r})}const dee={pan:{Feature:cee},drag:{Feature:lee,ProjectionNode:rL,MeasureLayout:pL}};function ET(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&$t.postRender(()=>i(t,Ed(t)))}class fee extends rs{mount(){const{current:t}=this.node;t&&(this.unmount=zZ(t,(r,n)=>(ET(this.node,n,"Start"),a=>ET(this.node,a,"End"))))}unmount(){}}class hee extends rs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nd(pu(this.node.current,"focus",()=>this.onFocus()),pu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function AT(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&$t.postRender(()=>i(t,Ed(t)))}class mee extends rs{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:r,propagate:n}=this.node.props;this.unmount=GZ(t,(a,i)=>(AT(this.node,i,"Start"),(s,{success:l})=>AT(this.node,s,l?"End":"Cancel")),{useGlobalTarget:r,stopPropagation:n?.tap===!1})}unmount(){}}const uw=new WeakMap,Vg=new WeakMap,pee=e=>{const t=uw.get(e.target);t&&t(e)},gee=e=>{e.forEach(pee)};function yee({root:e,...t}){const r=e||document;Vg.has(r)||Vg.set(r,{});const n=Vg.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(gee,{root:e,...t})),n[a]}function vee(e,t,r){const n=yee(t);return uw.set(e,r),n.observe(e),()=>{uw.delete(e),n.unobserve(e)}}const xee={some:0,all:1};class bee extends rs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:xee[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return vee(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(wee(t,r))&&this.startObserver()}unmount(){}}function wee({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const _ee={inView:{Feature:bee},tap:{Feature:mee},focus:{Feature:hee},hover:{Feature:fee}},jee={layout:{ProjectionNode:rL,MeasureLayout:pL}},See={...GQ,..._ee,...dee,...jee},nt=UQ(See,VQ);function Xl(){const{user:e}=vt(),[t,r]=p.useState(!1),[n,a]=p.useState(!1),[i,s]=p.useState({isPro:!1,status:null,plan:null,trialEndDate:null,isInTrial:!1,trialDaysRemaining:0});return p.useEffect(()=>{(async()=>{if(!e){s({isPro:!1,status:null,plan:null,trialEndDate:null,isInTrial:!1,trialDaysRemaining:0});return}const{data:d}=await ie.from("profiles").select("subscription_status, subscription_plan, created_at").eq("id",e.id).single(),f=d?.subscription_status==="active";let h=!1,m=0,v=null;if(d?.created_at&&!f){const y=new Date(d.created_at),x=new Date(y.getTime()+10080*60*1e3),b=new Date;if(v=x.toISOString(),h=b<=x,h){const w=x.getTime()-b.getTime();m=Math.ceil(w/864e5)}}s({isPro:f||h,status:d?.subscription_status||null,plan:d?.subscription_plan||null,trialEndDate:v,isInTrial:h,trialDaysRemaining:m})})()},[e]),{upgradeToPro:async()=>{if(!e){W.error("Devi essere autenticato per effettuare l'upgrade");return}const u="price_1StOD7EiPZqCo6ZjE6oAiJBM";console.log(`Initiating monthly checkout with priceId: ${u}`),r(!0);try{const{data:{session:d}}=await ie.auth.getSession();if(!d?.access_token){W.error("Sessione non valida. Effettua nuovamente il login.");return}console.log("Calling stripe-checkout function...");const f=await ie.functions.invoke("stripe-checkout",{headers:{Authorization:`Bearer ${d.access_token}`},body:{priceId:u}});if(console.log("Stripe checkout response:",f),f.error){console.error("Function error:",f.error);const g=f.error.message||"Errore durante la creazione del checkout";W.error(`Errore checkout: ${g}`);return}if(!f.data){console.error("No data in response"),W.error("Risposta non valida dal server");return}const{url:h,error:m,details:v}=f.data;if(m){console.error("Response error:",m,v),W.error(v||m);return}h?(console.log("Redirecting to checkout:",h),window.location.href=h):W.error("URL di checkout non disponibile")}catch(d){const f=d instanceof Error?d.message:"Errore sconosciuto";console.error("Upgrade error:",d),W.error(`Errore durante l'upgrade: ${f}`)}finally{r(!1)}},openCustomerPortal:async()=>{if(!e){W.error("Devi essere autenticato");return}a(!0);try{const{data:{session:u}}=await ie.auth.getSession();if(!u?.access_token)throw new Error("Sessione non valida");const d=await ie.functions.invoke("stripe-portal",{headers:{Authorization:`Bearer ${u.access_token}`}});if(d.error)throw new Error(d.error.message||"Errore durante l'apertura del portale");const{url:f}=d.data;if(f)window.location.href=f;else throw new Error("URL del portale non disponibile")}catch(u){const d=u instanceof Error?u.message:"Errore durante l'apertura del portale";console.error("Portal error:",d),W.error(d)}finally{a(!1)}},loading:t,portalLoading:n,subscription:i,isPro:i.isPro,isInTrial:i.isInTrial,trialDaysRemaining:i.trialDaysRemaining}}var Nee=Symbol.for("react.lazy"),xh=G_[" use ".trim().toString()];function Cee(e){return typeof e=="object"&&e!==null&&"then"in e}function gL(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Nee&&"_payload"in e&&Cee(e._payload)}function Ad(e){const t=Tee(e),r=p.forwardRef((n,a)=>{let{children:i,...s}=n;gL(i)&&typeof xh=="function"&&(i=xh(i._payload));const l=p.Children.toArray(i),c=l.find(Aee);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var yL=Ad("Slot");function Tee(e){const t=p.forwardRef((r,n)=>{let{children:a,...i}=r;if(gL(a)&&typeof xh=="function"&&(a=xh(a._payload)),p.isValidElement(a)){const s=Oee(a),l=Pee(i,a.props);return a.type!==p.Fragment&&(l.ref=n?za(n,s):s),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Eee=Symbol("radix.slottable");function Aee(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Eee}function Pee(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Oee(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function vL(){const e=localStorage.getItem("app-sounds-enabled");return e===null?!0:e==="true"}function kee(e){localStorage.setItem("app-sounds-enabled",String(e))}let qg=null;function Ree(){if(vL())try{qg||(qg=new(window.AudioContext||window.webkitAudioContext));const e=qg,t=e.currentTime,r=e.createOscillator(),n=e.createOscillator(),a=e.createGain();r.connect(a),n.connect(a),a.connect(e.destination),r.type="sine",r.frequency.setValueAtTime(1800,t),r.frequency.exponentialRampToValueAtTime(1400,t+.02),n.type="sine",n.frequency.setValueAtTime(2400,t),n.frequency.exponentialRampToValueAtTime(1800,t+.02),a.gain.setValueAtTime(.05,t),a.gain.exponentialRampToValueAtTime(.001,t+.05),r.start(t),n.start(t),r.stop(t+.05),n.stop(t+.05)}catch{}}const gu=Dm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,noSound:a=!1,onClick:i,...s},l)=>{const c=n?yL:"button",u=d=>{a||Ree(),i?.(d)};return o.jsx(c,{className:J(gu({variant:t,size:r,className:e})),ref:l,onClick:u,...s})});z.displayName="Button";function Mee(e,t=[]){let r=[];function n(i,s){const l=p.createContext(s);l.displayName=i+"Context";const c=r.length;r=[...r,s];const u=f=>{const{scope:h,children:m,...v}=f,g=h?.[e]?.[c]||l,y=p.useMemo(()=>v,Object.values(v));return o.jsx(g.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(f,h){const m=h?.[e]?.[c]||l,v=p.useContext(m);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>p.createContext(s));return function(l){const c=l?.[e]||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Dee(a,...t)]}function Dee(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var Iee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Y1=Iee.reduce((e,t)=>{const r=Ad(`Primitive.${t}`),n=p.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Wg={exports:{}},Hg={};var PT;function $ee(){if(PT)return Hg;PT=1;var e=PM();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function l(f,h){var m=h(),v=n({inst:{value:m,getSnapshot:h}}),g=v[0].inst,y=v[1];return i(function(){g.value=m,g.getSnapshot=h,c(g)&&y({inst:g})},[f,m,h]),a(function(){return c(g)&&y({inst:g}),f(function(){c(g)&&y({inst:g})})},[f]),s(m),m}function c(f){var h=f.getSnapshot;f=f.value;try{var m=h();return!r(f,m)}catch{return!0}}function u(f,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return Hg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,Hg}var OT;function Lee(){return OT||(OT=1,Wg.exports=$ee()),Wg.exports}var Fee=Lee();function Bee(){return Fee.useSyncExternalStore(zee,()=>!0,()=>!1)}function zee(){return()=>{}}var X1="Avatar",[Uee]=Mee(X1),[Vee,xL]=Uee(X1),bL=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=p.useState("idle");return o.jsx(Vee,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:o.jsx(Y1.span,{...n,ref:t})})});bL.displayName=X1;var wL="AvatarImage",_L=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,s=xL(wL,r),l=qee(n,i),c=Qt(u=>{a(u),s.onImageLoadingStatusChange(u)});return ar(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(Y1.img,{...i,ref:t,src:n}):null});_L.displayName=wL;var jL="AvatarFallback",SL=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=xL(jL,r),[s,l]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),s&&i.imageLoadingStatus!=="loaded"?o.jsx(Y1.span,{...a,ref:t}):null});SL.displayName=jL;function kT(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function qee(e,{referrerPolicy:t,crossOrigin:r}){const n=Bee(),a=p.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[s,l]=p.useState(()=>kT(i,e));return ar(()=>{l(kT(i,e))},[i,e]),ar(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),s}var NL=bL,CL=_L,TL=SL;const yu=p.forwardRef(({className:e,...t},r)=>o.jsx(NL,{ref:r,className:J("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));yu.displayName=NL.displayName;const vu=p.forwardRef(({className:e,...t},r)=>o.jsx(CL,{ref:r,className:J("aspect-square h-full w-full",e),...t}));vu.displayName=CL.displayName;const xu=p.forwardRef(({className:e,...t},r)=>o.jsx(TL,{ref:r,className:J("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));xu.displayName=TL.displayName;var Gg="focusScope.autoFocusOnMount",Kg="focusScope.autoFocusOnUnmount",RT={bubbles:!1,cancelable:!0},Wee="FocusScope",Pd=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=e,[l,c]=p.useState(null),u=Qt(a),d=Qt(i),f=p.useRef(null),h=Fe(t,g=>c(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let g=function(w){if(m.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:Ai(f.current,{select:!0})},y=function(w){if(m.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Ai(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&Ai(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),b.disconnect()}}},[n,l,m.paused]),p.useEffect(()=>{if(l){DT.add(m);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(Gg,RT);l.addEventListener(Gg,u),l.dispatchEvent(x),x.defaultPrevented||(Hee(Zee(EL(l)),{select:!0}),document.activeElement===g&&Ai(l))}return()=>{l.removeEventListener(Gg,u),setTimeout(()=>{const x=new CustomEvent(Kg,RT);l.addEventListener(Kg,d),l.dispatchEvent(x),x.defaultPrevented||Ai(g??document.body,{select:!0}),l.removeEventListener(Kg,d),DT.remove(m)},0)}}},[l,u,d,m]);const v=p.useCallback(g=>{if(!r&&!n||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(y&&x){const b=g.currentTarget,[w,j]=Gee(b);w&&j?!g.shiftKey&&x===j?(g.preventDefault(),r&&Ai(w,{select:!0})):g.shiftKey&&x===w&&(g.preventDefault(),r&&Ai(j,{select:!0})):x===b&&g.preventDefault()}},[r,n,m.paused]);return o.jsx(Ce.div,{tabIndex:-1,...s,ref:h,onKeyDown:v})});Pd.displayName=Wee;function Hee(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ai(n,{select:t}),document.activeElement!==r)return}function Gee(e){const t=EL(e),r=MT(t,e),n=MT(t.reverse(),e);return[r,n]}function EL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function MT(e,t){for(const r of e)if(!Kee(r,{upTo:t}))return r}function Kee(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Yee(e){return e instanceof HTMLInputElement&&"select"in e}function Ai(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Yee(e)&&t&&e.select()}}var DT=Xee();function Xee(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=IT(e,t),e.unshift(t)},remove(t){e=IT(e,t),e[0]?.resume()}}}function IT(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Zee(e){return e.filter(t=>t.tagName!=="A")}var Yg=0;function tp(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$T()),document.body.insertAdjacentElement("beforeend",e[1]??$T()),Yg++,()=>{Yg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Yg--}},[])}function $T(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Gf="right-scroll-bar-position",Kf="width-before-scroll-bar",Jee="with-scroll-bars-hidden",Qee="--removed-body-scroll-bar-size";function Xg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ete(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var tte=typeof window<"u"?p.useLayoutEffect:p.useEffect,LT=new WeakMap;function rte(e,t){var r=ete(null,function(n){return e.forEach(function(a){return Xg(a,n)})});return tte(function(){var n=LT.get(r);if(n){var a=new Set(n),i=new Set(e),s=r.current;a.forEach(function(l){i.has(l)||Xg(l,null)}),i.forEach(function(l){a.has(l)||Xg(l,s)})}LT.set(r,e)},[e]),r}function nte(e){return e}function ate(e,t){t===void 0&&(t=nte);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var s=t(i,n);return r.push(s),function(){r=r.filter(function(l){return l!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var l=r;r=[],l.forEach(i),s=r}var c=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return a}function ite(e){e===void 0&&(e={});var t=ate(null);return t.options=Sa({async:!0,ssr:!1},e),t}var AL=function(e){var t=e.sideCar,r=Wl(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,Sa({},r))};AL.isSideCarExport=!0;function ste(e,t){return e.useMedium(t),AL}var PL=ite(),Zg=function(){},rp=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:Zg,onWheelCapture:Zg,onTouchMoveCapture:Zg}),a=n[0],i=n[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,v=e.noIsolation,g=e.inert,y=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,w=e.gapMode,j=Wl(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=rte([r,t]),N=Sa(Sa({},j),a);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:PL,removeScrollBar:u,shards:f,noRelative:m,noIsolation:v,inert:g,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:w}),s?p.cloneElement(p.Children.only(l),Sa(Sa({},N),{ref:S})):p.createElement(b,Sa({},N,{className:c,ref:S}),l))});rp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rp.classNames={fullWidth:Kf,zeroRight:Gf};var ote=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lte(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ote();return t&&e.setAttribute("nonce",t),e}function cte(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ute(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var dte=function(){var e=0,t=null;return{add:function(r){e==0&&(t=lte())&&(cte(t,r),ute(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fte=function(){var e=dte();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},OL=function(){var e=fte(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},hte={left:0,top:0,right:0,gap:0},Jg=function(e){return parseInt(e||"",10)||0},mte=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Jg(r),Jg(n),Jg(a)]},pte=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return hte;var t=mte(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},gte=OL(),Qo="data-scroll-locked",yte=function(e,t,r,n){var a=e.left,i=e.top,s=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Jee,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Qo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gf,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Kf,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Gf," .").concat(Gf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Kf," .").concat(Kf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Qo,`] {
    `).concat(Qee,": ").concat(l,`px;
  }
`)},FT=function(){var e=parseInt(document.body.getAttribute(Qo)||"0",10);return isFinite(e)?e:0},vte=function(){p.useEffect(function(){return document.body.setAttribute(Qo,(FT()+1).toString()),function(){var e=FT()-1;e<=0?document.body.removeAttribute(Qo):document.body.setAttribute(Qo,e.toString())}},[])},xte=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;vte();var i=p.useMemo(function(){return pte(a)},[a]);return p.createElement(gte,{styles:yte(i,!t,a,r?"":"!important")})},dw=!1;if(typeof window<"u")try{var gf=Object.defineProperty({},"passive",{get:function(){return dw=!0,!0}});window.addEventListener("test",gf,gf),window.removeEventListener("test",gf,gf)}catch{dw=!1}var wo=dw?{passive:!1}:!1,bte=function(e){return e.tagName==="TEXTAREA"},kL=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!bte(e)&&r[t]==="visible")},wte=function(e){return kL(e,"overflowY")},_te=function(e){return kL(e,"overflowX")},BT=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=RL(e,n);if(a){var i=ML(e,n),s=i[1],l=i[2];if(s>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},jte=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Ste=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},RL=function(e,t){return e==="v"?wte(t):_te(t)},ML=function(e,t){return e==="v"?jte(t):Ste(t)},Nte=function(e,t){return e==="h"&&t==="rtl"?-1:1},Cte=function(e,t,r,n,a){var i=Nte(e,window.getComputedStyle(t).direction),s=i*n,l=r.target,c=t.contains(l),u=!1,d=s>0,f=0,h=0;do{if(!l)break;var m=ML(e,l),v=m[0],g=m[1],y=m[2],x=g-y-i*v;(v||x)&&RL(e,l)&&(f+=x,h+=v);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},yf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},zT=function(e){return[e.deltaX,e.deltaY]},UT=function(e){return e&&"current"in e?e.current:e},Tte=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ete=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ate=0,_o=[];function Pte(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),a=p.useState(Ate++)[0],i=p.useState(OL)[0],s=p.useRef(e);p.useEffect(function(){s.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=Q7([e.lockRef.current],(e.shards||[]).map(UT),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var x=yf(g),b=r.current,w="deltaX"in g?g.deltaX:b[0]-x[0],j="deltaY"in g?g.deltaY:b[1]-x[1],_,S=g.target,N=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in g&&N==="h"&&S.type==="range")return!1;var T=window.getSelection(),C=T&&T.anchorNode,A=C?C===S||C.contains(S):!1;if(A)return!1;var P=BT(N,S);if(!P)return!0;if(P?_=N:(_=N==="v"?"h":"v",P=BT(N,S)),!P)return!1;if(!n.current&&"changedTouches"in g&&(w||j)&&(n.current=_),!_)return!0;var E=n.current||_;return Cte(E,y,g,E==="h"?w:j)},[]),c=p.useCallback(function(g){var y=g;if(!(!_o.length||_o[_o.length-1]!==i)){var x="deltaY"in y?zT(y):yf(y),b=t.current.filter(function(_){return _.name===y.type&&(_.target===y.target||y.target===_.shadowParent)&&Tte(_.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(s.current.shards||[]).map(UT).filter(Boolean).filter(function(_){return _.contains(y.target)}),j=w.length>0?l(y,w[0]):!s.current.noIsolation;j&&y.cancelable&&y.preventDefault()}}},[]),u=p.useCallback(function(g,y,x,b){var w={name:g,delta:y,target:x,should:b,shadowParent:Ote(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=p.useCallback(function(g){r.current=yf(g),n.current=void 0},[]),f=p.useCallback(function(g){u(g.type,zT(g),g.target,l(g,e.lockRef.current))},[]),h=p.useCallback(function(g){u(g.type,yf(g),g.target,l(g,e.lockRef.current))},[]);p.useEffect(function(){return _o.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,wo),document.addEventListener("touchmove",c,wo),document.addEventListener("touchstart",d,wo),function(){_o=_o.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,wo),document.removeEventListener("touchmove",c,wo),document.removeEventListener("touchstart",d,wo)}},[]);var m=e.removeScrollBar,v=e.inert;return p.createElement(p.Fragment,null,v?p.createElement(i,{styles:Ete(a)}):null,m?p.createElement(xte,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Ote(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const kte=ste(PL,Pte);var Od=p.forwardRef(function(e,t){return p.createElement(rp,Sa({},e,{ref:t,sideCar:kte}))});Od.classNames=rp.classNames;var Rte=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},jo=new WeakMap,vf=new WeakMap,xf={},Qg=0,DL=function(e){return e&&(e.host||DL(e.parentNode))},Mte=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=DL(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Dte=function(e,t,r,n){var a=Mte(t,Array.isArray(e)?e:[e]);xf[r]||(xf[r]=new WeakMap);var i=xf[r],s=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),v=m!==null&&m!=="false",g=(jo.get(h)||0)+1,y=(i.get(h)||0)+1;jo.set(h,g),i.set(h,y),s.push(h),g===1&&v&&vf.set(h,!0),y===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),Qg++,function(){s.forEach(function(f){var h=jo.get(f)-1,m=i.get(f)-1;jo.set(f,h),i.set(f,m),h||(vf.has(f)||f.removeAttribute(n),vf.delete(f)),m||f.removeAttribute(r)}),Qg--,Qg||(jo=new WeakMap,jo=new WeakMap,vf=new WeakMap,xf={})}},np=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Rte(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Dte(n,a,r,"aria-hidden")):function(){return null}};function Ite(e){const t=$te(e),r=p.forwardRef((n,a)=>{const{children:i,...s}=n,l=p.Children.toArray(i),c=l.find(Fte);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function $te(e){const t=p.forwardRef((r,n)=>{const{children:a,...i}=r;if(p.isValidElement(a)){const s=zte(a),l=Bte(i,a.props);return a.type!==p.Fragment&&(l.ref=n?za(n,s):s),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Lte=Symbol("radix.slottable");function Fte(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Lte}function Bte(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function zte(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ap="Dialog",[IL,$L]=Fr(ap),[Ute,xa]=IL(ap),LL=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=$n({prop:n,defaultProp:a??!1,onChange:i,caller:ap});return o.jsx(Ute,{scope:t,triggerRef:l,contentRef:c,contentId:hn(),titleId:hn(),descriptionId:hn(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:s,children:r})};LL.displayName=ap;var FL="DialogTrigger",BL=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xa(FL,r),i=Fe(t,a.triggerRef);return o.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Q1(a.open),...n,ref:i,onClick:ce(e.onClick,a.onOpenToggle)})});BL.displayName=FL;var Z1="DialogPortal",[Vte,zL]=IL(Z1,{forceMount:void 0}),UL=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=xa(Z1,t);return o.jsx(Vte,{scope:t,forceMount:r,children:p.Children.map(n,s=>o.jsx(Sr,{present:r||i.open,children:o.jsx(Fl,{asChild:!0,container:a,children:s})}))})};UL.displayName=Z1;var bh="DialogOverlay",VL=p.forwardRef((e,t)=>{const r=zL(bh,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=xa(bh,e.__scopeDialog);return i.modal?o.jsx(Sr,{present:n||i.open,children:o.jsx(Wte,{...a,ref:t})}):null});VL.displayName=bh;var qte=Ite("DialogOverlay.RemoveScroll"),Wte=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xa(bh,r);return o.jsx(Od,{as:qte,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(Ce.div,{"data-state":Q1(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ys="DialogContent",qL=p.forwardRef((e,t)=>{const r=zL(Ys,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=xa(Ys,e.__scopeDialog);return o.jsx(Sr,{present:n||i.open,children:i.modal?o.jsx(Hte,{...a,ref:t}):o.jsx(Gte,{...a,ref:t})})});qL.displayName=Ys;var Hte=p.forwardRef((e,t)=>{const r=xa(Ys,e.__scopeDialog),n=p.useRef(null),a=Fe(t,r.contentRef,n);return p.useEffect(()=>{const i=n.current;if(i)return np(i)},[]),o.jsx(WL,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:ce(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&i.preventDefault()}),onFocusOutside:ce(e.onFocusOutside,i=>i.preventDefault())})}),Gte=p.forwardRef((e,t)=>{const r=xa(Ys,e.__scopeDialog),n=p.useRef(!1),a=p.useRef(!1);return o.jsx(WL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;r.triggerRef.current?.contains(s)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),WL=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=e,l=xa(Ys,r),c=p.useRef(null),u=Fe(t,c);return tp(),o.jsxs(o.Fragment,{children:[o.jsx(Pd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(io,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Q1(l.open),...s,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Yte,{titleId:l.titleId}),o.jsx(Zte,{contentRef:c,descriptionId:l.descriptionId})]})]})}),J1="DialogTitle",HL=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xa(J1,r);return o.jsx(Ce.h2,{id:a.titleId,...n,ref:t})});HL.displayName=J1;var GL="DialogDescription",KL=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xa(GL,r);return o.jsx(Ce.p,{id:a.descriptionId,...n,ref:t})});KL.displayName=GL;var YL="DialogClose",XL=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xa(YL,r);return o.jsx(Ce.button,{type:"button",...n,ref:t,onClick:ce(e.onClick,()=>a.onOpenChange(!1))})});XL.displayName=YL;function Q1(e){return e?"open":"closed"}var ZL="DialogTitleWarning",[Kte,JL]=rq(ZL,{contentName:Ys,titleName:J1,docsSlug:"dialog"}),Yte=({titleId:e})=>{const t=JL(ZL),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Xte="DialogDescriptionWarning",Zte=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JL(Xte).contentName}}.`;return p.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},QL=LL,Jte=BL,eF=UL,ej=VL,tj=qL,rj=HL,nj=KL,aj=XL;const ir=QL,Qte=eF,tF=p.forwardRef(({className:e,...t},r)=>o.jsx(ej,{ref:r,className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));tF.displayName=ej.displayName;const tr=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Qte,{children:[o.jsx(tF,{}),o.jsxs(tj,{ref:n,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(aj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(ma,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));tr.displayName=tj.displayName;const rr=({className:e,...t})=>o.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});rr.displayName="DialogHeader";const Ls=({className:e,...t})=>o.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ls.displayName="DialogFooter";const nr=p.forwardRef(({className:e,...t},r)=>o.jsx(rj,{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));nr.displayName=rj.displayName;const Xi=p.forwardRef(({className:e,...t},r)=>o.jsx(nj,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));Xi.displayName=nj.displayName;var ere=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tre=ere.reduce((e,t)=>{const r=Ad(`Primitive.${t}`),n=p.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),rre="Separator",VT="horizontal",nre=["horizontal","vertical"],rF=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=VT,...a}=e,i=are(n)?n:VT,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(tre.div,{"data-orientation":i,...l,...a,ref:t})});rF.displayName=rre;function are(e){return nre.includes(e)}var nF=rF;const sa=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>o.jsx(nF,{ref:a,decorative:r,orientation:t,className:J("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));sa.displayName=nF.displayName;const aF=""+new URL("euro-100-Ojp3uOvC.png",import.meta.url).href,iF=6048e5,ire=864e5,sF=6e4,oF=36e5,qT=Symbol.for("constructDateFrom");function sr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&qT in e?e[qT](t):e instanceof Date?new e.constructor(t):new Date(t)}function lt(e,t){return sr(t||e,e)}function ij(e,t,r){const n=lt(e,r?.in);return isNaN(t)?sr(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function ul(e,t,r){const n=lt(e,r?.in);if(isNaN(t))return sr(e,NaN);if(!t)return n;const a=n.getDate(),i=sr(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const s=i.getDate();return a>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}let sre={};function kd(){return sre}function Zi(e,t){const r=kd(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=lt(e,t?.in),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function bu(e,t){return Zi(e,{...t,weekStartsOn:1})}function lF(e,t){const r=lt(e,t?.in),n=r.getFullYear(),a=sr(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=bu(a),s=sr(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const l=bu(s);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function WT(e){const t=lt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ns(e,...t){const r=sr.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function fa(e,t){const r=lt(e,t?.in);return r.setHours(0,0,0,0),r}function ip(e,t,r){const[n,a]=ns(r?.in,e,t),i=fa(n),s=fa(a),l=+i-WT(i),c=+s-WT(s);return Math.round((l-c)/ire)}function ore(e,t){const r=lF(e,t),n=sr(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),bu(n)}function lre(e,t,r){return ij(e,t*7,r)}function wu(e,t,r){return ul(e,t*12,r)}function cre(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=sr.bind(null,a));const i=lt(a,n);(!r||r<i||isNaN(+i))&&(r=i)}),sr(n,r||NaN)}function ure(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=sr.bind(null,a));const i=lt(a,n);(!r||r>i||isNaN(+i))&&(r=i)}),sr(n,r||NaN)}function dre(e,t,r){const[n,a]=ns(r?.in,e,t);return+fa(n)==+fa(a)}function cF(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function fre(e){return!(!cF(e)&&typeof e!="number"||isNaN(+lt(e)))}function uF(e,t,r){const[n,a]=ns(r?.in,e,t),i=n.getFullYear()-a.getFullYear(),s=n.getMonth()-a.getMonth();return i*12+s}function Ps(e,t,r){const[n,a]=ns(r?.in,e,t),i=HT(n,a),s=Math.abs(ip(n,a));n.setDate(n.getDate()-i*s);const l=+(HT(n,a)===-i),c=i*(s-l);return c===0?0:c}function HT(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function sj(e,t){const r=lt(e,t?.in);return r.setHours(23,59,59,999),r}function hre(e,t){const r=lt(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function dF(e,t){const[r,n]=ns(e,t.start,t.end);return{start:r,end:n}}function mre(e,t){const{start:r,end:n}=dF(t?.in,e);let a=+r>+n;const i=a?+r:+n,s=a?n:r;s.setHours(0,0,0,0),s.setDate(1);let l=1;const c=[];for(;+s<=i;)c.push(sr(r,s)),s.setMonth(s.getMonth()+l);return a?c.reverse():c}function pre(e,t){const r=lt(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function gre(e,t){const r=lt(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function fF(e,t){const r=lt(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function yre(e,t){const{start:r,end:n}=dF(t?.in,e);let a=+r>+n;const i=a?+r:+n,s=a?n:r;s.setHours(0,0,0,0),s.setMonth(0,1);let l=1;const c=[];for(;+s<=i;)c.push(sr(r,s)),s.setFullYear(s.getFullYear()+l);return a?c.reverse():c}function hF(e,t){const r=kd(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=lt(e,t?.in),i=a.getDay(),s=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}function vre(e,t){return hF(e,{...t,weekStartsOn:1})}const xre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bre=(e,t,r)=>{let n;const a=xre[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function el(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const wre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_re={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Sre={date:el({formats:wre,defaultWidth:"full"}),time:el({formats:_re,defaultWidth:"full"}),dateTime:el({formats:jre,defaultWidth:"full"})},Nre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Cre=(e,t,r,n)=>Nre[e];function Na(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):s;a=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Tre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ere={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Are={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Pre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ore={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Rre=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Mre={ordinalNumber:Rre,era:Na({values:Tre,defaultWidth:"wide"}),quarter:Na({values:Ere,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Na({values:Are,defaultWidth:"wide"}),day:Na({values:Pre,defaultWidth:"wide"}),dayPeriod:Na({values:Ore,defaultWidth:"wide",formattingValues:kre,defaultFormattingWidth:"wide"})};function Ca(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Ire(l,f=>f.test(s)):Dre(l,f=>f.test(s));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(s.length);return{value:u,rest:d}}}function Dre(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Ire(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function mF(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const l=t.slice(a.length);return{value:s,rest:l}}}const $re=/^(\d+)(th|st|nd|rd)?/i,Lre=/\d+/i,Fre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Bre={any:[/^b/i,/^(a|c)/i]},zre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ure={any:[/1/i,/2/i,/3/i,/4/i]},Vre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Kre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Yre={ordinalNumber:mF({matchPattern:$re,parsePattern:Lre,valueCallback:e=>parseInt(e,10)}),era:Ca({matchPatterns:Fre,defaultMatchWidth:"wide",parsePatterns:Bre,defaultParseWidth:"any"}),quarter:Ca({matchPatterns:zre,defaultMatchWidth:"wide",parsePatterns:Ure,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ca({matchPatterns:Vre,defaultMatchWidth:"wide",parsePatterns:qre,defaultParseWidth:"any"}),day:Ca({matchPatterns:Wre,defaultMatchWidth:"wide",parsePatterns:Hre,defaultParseWidth:"any"}),dayPeriod:Ca({matchPatterns:Gre,defaultMatchWidth:"any",parsePatterns:Kre,defaultParseWidth:"any"})},Io={code:"en-US",formatDistance:bre,formatLong:Sre,formatRelative:Cre,localize:Mre,match:Yre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xre(e,t){const r=lt(e,t?.in);return ip(r,fF(r))+1}function oj(e,t){const r=lt(e,t?.in),n=+bu(r)-+ore(r);return Math.round(n/iF)+1}function pF(e,t){const r=lt(e,t?.in),n=r.getFullYear(),a=kd(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,s=sr(t?.in||e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const l=Zi(s,t),c=sr(t?.in||e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Zi(c,t);return+r>=+l?n+1:+r>=+u?n:n-1}function Zre(e,t){const r=kd(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=pF(e,t),i=sr(t?.in||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Zi(i,t)}function lj(e,t){const r=lt(e,t?.in),n=+Zi(r,t)-+Zre(r,t);return Math.round(n/iF)+1}function bt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ti={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return bt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):bt(r+1,2)},d(e,t){return bt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return bt(e.getHours()%12||12,t.length)},H(e,t){return bt(e.getHours(),t.length)},m(e,t){return bt(e.getMinutes(),t.length)},s(e,t){return bt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return bt(a,t.length)}},So={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},GT={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ti.y(e,t)},Y:function(e,t,r,n){const a=pF(e,n),i=a>0?a:1-a;if(t==="YY"){const s=i%100;return bt(s,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):bt(i,t.length)},R:function(e,t){const r=lF(e);return bt(r,t.length)},u:function(e,t){const r=e.getFullYear();return bt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return bt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return bt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ti.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return bt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=lj(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):bt(a,t.length)},I:function(e,t,r){const n=oj(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):bt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ti.d(e,t)},D:function(e,t,r){const n=Xre(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):bt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return bt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return bt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return bt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=So.noon:n===0?a=So.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=So.evening:n>=12?a=So.afternoon:n>=4?a=So.morning:a=So.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ti.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ti.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):bt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):bt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ti.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ti.s(e,t)},S:function(e,t){return Ti.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return YT(n);case"XXXX":case"XX":return ws(n);default:return ws(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return YT(n);case"xxxx":case"xx":return ws(n);default:return ws(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+KT(n,":");default:return"GMT"+ws(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+KT(n,":");default:return"GMT"+ws(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return bt(n,t.length)},T:function(e,t,r){return bt(+e,t.length)}};function KT(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+bt(i,2)}function YT(e,t){return e%60===0?(e>0?"-":"+")+bt(Math.abs(e)/60,2):ws(e,t)}function ws(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=bt(Math.trunc(n/60),2),i=bt(n%60,2);return r+a+t+i}const XT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},gF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Jre=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return XT(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",XT(n,t)).replace("{{time}}",gF(a,t))},Qre={p:gF,P:Jre},ene=/^D+$/,tne=/^Y+$/,rne=["D","DD","YY","YYYY"];function nne(e){return ene.test(e)}function ane(e){return tne.test(e)}function ine(e,t,r){const n=sne(e,t,r);if(console.warn(n),rne.includes(e))throw new RangeError(n)}function sne(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const one=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cne=/^'([^]*?)'?$/,une=/''/g,dne=/[a-zA-Z]/;function ye(e,t,r){const n=kd(),a=r?.locale??n.locale??Io,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=lt(e,r?.in);if(!fre(l))throw new RangeError("Invalid time value");let c=t.match(lne).map(d=>{const f=d[0];if(f==="p"||f==="P"){const h=Qre[f];return h(d,a.formatLong)}return d}).join("").match(one).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:fne(d)};if(GT[f])return{isToken:!0,value:d};if(f.match(dne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(!r?.useAdditionalWeekYearTokens&&ane(f)||!r?.useAdditionalDayOfYearTokens&&nne(f))&&ine(f,t,String(e));const h=GT[f[0]];return h(l,f,a.localize,u)}).join("")}function fne(e){const t=e.match(cne);return t?t[1].replace(une,"'"):e}function hne(e,t){const r=lt(e,t?.in),n=r.getFullYear(),a=r.getMonth(),i=sr(r,0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function yF(e,t){return lt(e,t?.in).getMonth()}function Ac(e,t){return lt(e,t?.in).getFullYear()}function sp(e,t){return+lt(e)>+lt(t)}function Xs(e,t){return+lt(e)<+lt(t)}function ZT(e,t,r){const[n,a]=ns(r?.in,e,t);return+Zi(n,r)==+Zi(a,r)}function mne(e,t,r){const[n,a]=ns(r?.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function pne(e,t,r){const[n,a]=ns(r?.in,e,t);return n.getFullYear()===a.getFullYear()}function Pi(e,t){const r=()=>sr(t?.in,NaN),a=xne(e);let i;if(a.date){const u=bne(a.date,2);i=wne(u.restDateString,u.year)}if(!i||isNaN(+i))return r();const s=+i;let l=0,c;if(a.time&&(l=_ne(a.time),isNaN(l)))return r();if(a.timezone){if(c=jne(a.timezone),isNaN(c))return r()}else{const u=new Date(s+l),d=lt(0,t?.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return lt(s+l+c,t?.in)}const bf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},gne=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,yne=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,vne=/^([+-])(\d{2})(?::?(\d{2}))?$/;function xne(e){const t={},r=e.split(bf.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],bf.timeZoneDelimiter.test(t.date)&&(t.date=e.split(bf.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=bf.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function bne(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function wne(e,t){if(t===null)return new Date(NaN);const r=e.match(gne);if(!r)return new Date(NaN);const n=!!r[4],a=gc(r[1]),i=gc(r[2])-1,s=gc(r[3]),l=gc(r[4]),c=gc(r[5])-1;if(n)return Ene(t,l,c)?Sne(t,l,c):new Date(NaN);{const u=new Date(0);return!Cne(t,i,s)||!Tne(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,s)),u)}}function gc(e){return e?parseInt(e):1}function _ne(e){const t=e.match(yne);if(!t)return NaN;const r=ey(t[1]),n=ey(t[2]),a=ey(t[3]);return Ane(r,n,a)?r*oF+n*sF+a*1e3:NaN}function ey(e){return e&&parseFloat(e.replace(",","."))||0}function jne(e){if(e==="Z")return 0;const t=e.match(vne);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Pne(n,a)?r*(n*oF+a*sF):NaN}function Sne(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const Nne=[31,null,31,30,31,30,31,31,30,31,30,31];function vF(e){return e%400===0||e%4===0&&e%100!==0}function Cne(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Nne[t]||(vF(e)?29:28))}function Tne(e,t){return t>=1&&t<=(vF(e)?366:365)}function Ene(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Ane(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Pne(e,t){return t>=0&&t<=59}function One(e,t,r){const n=lt(e,r?.in),a=n.getFullYear(),i=n.getDate(),s=sr(e,0);s.setFullYear(a,t,15),s.setHours(0,0,0,0);const l=hne(s);return n.setMonth(t,Math.min(i,l)),n}function _u(e,t,r){const n=lt(e,r?.in);return n.setDate(t),n}function kne(e,t,r){const n=lt(e,r?.in);return isNaN(+n)?sr(e,NaN):(n.setFullYear(t),n)}const Rne={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},Mne=(e,t,r)=>{let n;const a=Rne[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"tra "+n:n+" fa":n},Dne={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},Ine={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},$ne={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Lne={date:el({formats:Dne,defaultWidth:"full"}),time:el({formats:Ine,defaultWidth:"full"}),dateTime:el({formats:$ne,defaultWidth:"full"})},cj=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function Fne(e){return e===0?"'domenica scorsa alle' p":"'"+cj[e]+" scorso alle' p"}function JT(e){return"'"+cj[e]+" alle' p"}function Bne(e){return e===0?"'domenica prossima alle' p":"'"+cj[e]+" prossimo alle' p"}const zne={lastWeek:(e,t,r)=>{const n=e.getDay();return ZT(e,t,r)?JT(n):Fne(n)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(e,t,r)=>{const n=e.getDay();return ZT(e,t,r)?JT(n):Bne(n)},other:"P"},Une=(e,t,r,n)=>{const a=zne[e];return typeof a=="function"?a(t,r,n):a},Vne={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},qne={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Wne={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},Hne={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},Gne={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},Kne={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},Yne=(e,t)=>{const r=Number(e);return String(r)},Xne={ordinalNumber:Yne,era:Na({values:Vne,defaultWidth:"wide"}),quarter:Na({values:qne,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Na({values:Wne,defaultWidth:"wide"}),day:Na({values:Hne,defaultWidth:"wide"}),dayPeriod:Na({values:Gne,defaultWidth:"wide",formattingValues:Kne,defaultFormattingWidth:"wide"})},Zne=/^(\d+)()?/i,Jne=/\d+/i,Qne={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},eae={any:[/^a/i,/^(d|e)/i]},tae={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},rae={any:[/1/i,/2/i,/3/i,/4/i]},nae={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},aae={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},iae={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},sae={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},oae={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},lae={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},cae={ordinalNumber:mF({matchPattern:Zne,parsePattern:Jne,valueCallback:e=>parseInt(e,10)}),era:Ca({matchPatterns:Qne,defaultMatchWidth:"wide",parsePatterns:eae,defaultParseWidth:"any"}),quarter:Ca({matchPatterns:tae,defaultMatchWidth:"wide",parsePatterns:rae,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ca({matchPatterns:nae,defaultMatchWidth:"wide",parsePatterns:aae,defaultParseWidth:"any"}),day:Ca({matchPatterns:iae,defaultMatchWidth:"wide",parsePatterns:sae,defaultParseWidth:"any"}),dayPeriod:Ca({matchPatterns:oae,defaultMatchWidth:"any",parsePatterns:lae,defaultParseWidth:"any"})},$a={code:"it",formatDistance:Mne,formatLong:Lne,formatRelative:Une,localize:Xne,match:cae,options:{weekStartsOn:1,firstWeekContainsDate:4}},QT=[{path:"/",icon:fD,label:"Dashboard",color:"#067d1c"},{path:"/transactions",icon:hD,label:"Transazioni",color:"#067d1c"},{path:"/plans",icon:fn,label:"Rate",color:"#067d1c"},{path:"/reminders",icon:qi,label:"Promemoria",color:"#067d1c"},{path:"/archive",icon:Zc,label:"Archivio",color:"#067d1c"},{path:"/settings",icon:Lc,label:"Impostazioni",color:"#067d1c"}];function uae(){const e=zn(),t=K_(),{signOut:r,user:n}=vt(),{isAdmin:a}=so(),{avatarUrl:i,getInitials:s}=OI(),{upgradeToPro:l,loading:c}=Xl(),[u,d]=p.useState(!1),[f,h]=p.useState(!1);p.useEffect(()=>{(async()=>{if(!n)return;const{data:b}=await ie.from("profiles").select("subscription_status").eq("id",n.id).single();h(b?.subscription_status==="active")})()},[n]);const m=n?.user_metadata?.full_name||n?.email?.split("@")[0]||"Ospite",v=!n,g=async()=>{await r(),e("/landing")},y=x=>x?ye(new Date(x),"dd MMMM yyyy 'alle' HH:mm",{locale:$a}):"N/A";return o.jsxs(o.Fragment,{children:[o.jsxs(nt.aside,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},className:"hidden md:flex fixed left-0 top-0 h-screen w-20 flex-col items-center py-6 glass border-r border-border z-50",children:[o.jsx(nt.div,{className:"w-14 h-14 flex items-center justify-center mb-4 banknote-container",animate:{y:[0,-5,0],rotateY:[0,10,0,-10,0],rotateZ:[-1,1,-1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},style:{transformStyle:"preserve-3d"},children:o.jsx("div",{className:"banknote-shine w-full h-full rounded",children:o.jsx("img",{src:aF,alt:"100 Euro",className:"w-full h-full object-contain"})})}),o.jsxs(fc,{children:[o.jsx(hc,{asChild:!0,children:o.jsx("button",{onClick:()=>d(!0),className:"mb-6 cursor-pointer",children:o.jsxs(yu,{className:"w-12 h-12 border-2 border-primary/20 hover:border-primary/40 transition-colors",children:[o.jsx(vu,{src:i||void 0,alt:"Foto profilo"}),o.jsx(xu,{className:"bg-primary/10 text-primary font-semibold",children:s()})]})})}),o.jsx(Oo,{side:"right",children:o.jsx("span",{children:"Informazioni Utente"})})]}),o.jsx(ir,{open:u,onOpenChange:d,children:o.jsxs(tr,{className:"sm:max-w-md",children:[o.jsx(rr,{children:o.jsxs(nr,{className:"flex items-center gap-2 text-primary",children:[o.jsx(th,{className:"w-5 h-5"}),"Informazioni Utente"]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsxs(yu,{className:"w-20 h-20 border-2 border-primary/20",children:[o.jsx(vu,{src:i||void 0,alt:"Foto profilo"}),o.jsx(xu,{className:"bg-primary/10 text-primary text-2xl font-semibold",children:s()})]})}),o.jsx(sa,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(th,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Nome"}),o.jsx("p",{className:"font-medium",children:m})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Jc,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),o.jsx("p",{className:"font-medium",children:n?.email||"N/A"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Gt,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Registrato il"}),o.jsx("p",{className:"font-medium",children:y(n?.created_at)})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx($m,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Ultimo accesso"}),o.jsx("p",{className:"font-medium",children:y(n?.last_sign_in_at)})]})]}),a&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(x0,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Ruolo"}),o.jsx("p",{className:"font-medium text-primary",children:"Amministratore"})]})]}),v&&o.jsx("div",{className:"p-3 bg-muted rounded-lg text-center",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"Stai usando la modalit demo"})}),!v&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(er,{className:J("w-4 h-4",f?"text-yellow-500":"text-muted-foreground")}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Piano"}),o.jsx("p",{className:J("font-medium",f?"text-yellow-600":"text-muted-foreground"),children:f?"Pro":"Free"})]}),!f&&o.jsxs(z,{size:"sm",onClick:()=>l(),disabled:c,className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white",children:[o.jsx(er,{className:"w-4 h-4 mr-1"}),"Upgrade Pro"]})]})]}),o.jsx(sa,{}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(z,{variant:"outline",className:"flex-1",onClick:()=>{d(!1),e("/settings")},children:[o.jsx(Lc,{className:"w-4 h-4 mr-2"}),"Impostazioni"]}),o.jsxs(z,{variant:"outline",className:"flex-1 text-destructive hover:bg-destructive/10",onClick:()=>{d(!1),g()},children:[o.jsx(y0,{className:"w-4 h-4 mr-2"}),"Esci"]})]})]})]})}),o.jsxs("nav",{className:"flex-1 flex flex-col gap-2",children:[QT.map(x=>{const b=t.pathname===x.path;return o.jsxs(fc,{children:[o.jsx(hc,{asChild:!0,children:o.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e(x.path),className:J("w-12 h-12 rounded-xl transition-all",b?"bg-[#067d1c]/20 shadow-glow":"hover:bg-[#067d1c]/10"),style:{color:"#067d1c"},children:o.jsx(x.icon,{className:"w-5 h-5"})})}),o.jsx(Oo,{side:"right",children:x.label})]},x.path)}),o.jsxs(fc,{children:[o.jsx(hc,{asChild:!0,children:o.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/install"),className:J("w-12 h-12 rounded-xl transition-all",t.pathname==="/install"?"bg-[#067d1c]/20 shadow-glow":"hover:bg-[#067d1c]/10"),style:{color:"#067d1c"},children:o.jsx($r,{className:"w-5 h-5"})})}),o.jsx(Oo,{side:"right",children:"Installa App"})]}),a&&o.jsxs(fc,{children:[o.jsx(hc,{asChild:!0,children:o.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/admin/users"),className:J("w-12 h-12 rounded-xl transition-all",t.pathname==="/admin/users"?"bg-[#067d1c]/20 shadow-glow":"hover:bg-[#067d1c]/10"),style:{color:"#067d1c"},children:o.jsx(x0,{className:"w-5 h-5"})})}),o.jsx(Oo,{side:"right",children:"Gestione Utenti"})]})]}),o.jsxs(fc,{children:[o.jsx(hc,{asChild:!0,children:o.jsx(z,{variant:"ghost",size:"icon",onClick:g,className:"w-12 h-12 rounded-xl text-muted-foreground hover:text-destructive hover:bg-destructive/10",children:o.jsx(y0,{className:"w-5 h-5"})})}),o.jsx(Oo,{side:"right",children:v?"Esci dalla demo":"Esci"})]})]}),o.jsx(nt.nav,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:"fixed bottom-0 left-0 right-0 md:left-20 bg-background/95 backdrop-blur-lg border-t border-border z-50 px-2",children:o.jsx("div",{className:"flex items-center justify-around py-2 max-w-lg mx-auto",children:QT.map(x=>{const b=t.pathname===x.path;return o.jsxs("button",{onClick:()=>e(x.path),className:J("flex flex-col items-center gap-1 p-2 rounded-xl transition-all min-w-[64px]",b?"text-primary":"text-muted-foreground hover:text-foreground"),children:[o.jsx("div",{className:J("p-2 rounded-xl transition-all",b&&"bg-primary/10"),children:o.jsx(x.icon,{className:"w-6 h-6",style:{color:"#067d1c"}})}),o.jsx("span",{className:"text-xs font-medium",style:{color:x.color},children:x.label})]},x.path)})})})]})}function pn({children:e}){const{user:t,loading:r}=vt(),n=zn();return p.useEffect(()=>{!r&&!t&&n("/auth")},[t,r,n]),r?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx(Vt,{className:"w-8 h-8 animate-spin text-primary"})}):t?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(uae,{}),o.jsx("main",{className:"md:ml-20 pb-20 md:pb-6",children:e})]}):null}const wf=["/","/transactions","/reminders","/settings"];function op({className:e=""}){const t=zn(),r=K_(),{signOut:n}=vt(),a=wf.indexOf(r.pathname),i=a>0,s=a<wf.length-1&&a>=0,l=()=>{t(i?wf[a-1]:-1)},c=()=>{s&&t(wf[a+1])},u=()=>{t("/")},d=async()=>{await n(),t("/landing")};return o.jsxs("div",{className:`flex items-center gap-1 bg-background/95 backdrop-blur-sm border border-border rounded-full px-2 py-1 shadow-sm ${e}`,children:[o.jsx(z,{variant:"ghost",size:"icon",onClick:l,className:"h-7 w-7 rounded-full hover:bg-primary/10",title:"Indietro",children:o.jsx(lD,{className:"h-4 w-4 text-primary"})}),o.jsx(z,{variant:"ghost",size:"icon",onClick:u,className:"h-7 w-7 rounded-full hover:bg-primary/10",title:"Home",children:o.jsx(fD,{className:"h-3.5 w-3.5 text-primary"})}),o.jsx(z,{variant:"ghost",size:"icon",onClick:c,disabled:!s,className:"h-7 w-7 rounded-full hover:bg-primary/10 disabled:opacity-50",title:"Avanti",children:o.jsx(Im,{className:"h-4 w-4 text-primary"})}),o.jsx("div",{className:"w-px h-5 bg-border mx-1"}),o.jsx(z,{variant:"ghost",size:"icon",onClick:d,className:"h-7 w-7 rounded-full hover:bg-primary/10",title:"Logout",children:o.jsx(y0,{className:"h-3.5 w-3.5 text-primary"})})]})}const dl=""+new URL("2-euro-coin-BEq22EB7.png",import.meta.url).href;function ty({title:e,value:t,icon:r,variant:n,delay:a=0}){const i={income:"bg-income/20",expense:"bg-expense/20",balance:"bg-primary/20"}[n],s={income:"text-income",expense:"text-expense",balance:"text-primary"}[n];return o.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a,duration:.4},className:"glass rounded-2xl p-5 shadow-card",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsx("div",{className:J("p-3 rounded-xl",i),children:o.jsx(r,{className:J("w-5 h-5",s)})})}),o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:e}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:t})]})}const gt=p.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));gt.displayName="Input";var dae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fae=dae.reduce((e,t)=>{const r=Ad(`Primitive.${t}`),n=p.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),hae="Label",xF=p.forwardRef((e,t)=>o.jsx(fae.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));xF.displayName=hae;var bF=xF;const mae=Dm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Me=p.forwardRef(({className:e,...t},r)=>o.jsx(bF,{ref:r,className:J(mae(),e),...t}));Me.displayName=bF.displayName;var pae=Symbol("radix.slottable");function gae(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=pae,t}var wF="AlertDialog",[yae]=Fr(wF,[$L]),vi=$L(),_F=e=>{const{__scopeAlertDialog:t,...r}=e,n=vi(t);return o.jsx(QL,{...n,...r,modal:!0})};_F.displayName=wF;var vae="AlertDialogTrigger",jF=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=vi(r);return o.jsx(Jte,{...a,...n,ref:t})});jF.displayName=vae;var xae="AlertDialogPortal",SF=e=>{const{__scopeAlertDialog:t,...r}=e,n=vi(t);return o.jsx(eF,{...n,...r})};SF.displayName=xae;var bae="AlertDialogOverlay",NF=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=vi(r);return o.jsx(ej,{...a,...n,ref:t})});NF.displayName=bae;var tl="AlertDialogContent",[wae,_ae]=yae(tl),jae=gae("AlertDialogContent"),CF=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=vi(r),s=p.useRef(null),l=Fe(t,s),c=p.useRef(null);return o.jsx(Kte,{contentName:tl,titleName:TF,docsSlug:"alert-dialog",children:o.jsx(wae,{scope:r,cancelRef:c,children:o.jsxs(tj,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:ce(a.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(jae,{children:n}),o.jsx(Nae,{contentRef:s})]})})})});CF.displayName=tl;var TF="AlertDialogTitle",EF=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=vi(r);return o.jsx(rj,{...a,...n,ref:t})});EF.displayName=TF;var AF="AlertDialogDescription",PF=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=vi(r);return o.jsx(nj,{...a,...n,ref:t})});PF.displayName=AF;var Sae="AlertDialogAction",OF=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=vi(r);return o.jsx(aj,{...a,...n,ref:t})});OF.displayName=Sae;var kF="AlertDialogCancel",RF=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=_ae(kF,r),i=vi(r),s=Fe(t,a);return o.jsx(aj,{...i,...n,ref:s})});RF.displayName=kF;var Nae=({contentRef:e})=>{const t=`\`${tl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${tl}\` by passing a \`${AF}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${tl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Cae=_F,Tae=jF,Eae=SF,MF=NF,DF=CF,IF=OF,$F=RF,LF=EF,FF=PF;const Fn=Cae,Aae=Tae,Pae=Eae,BF=p.forwardRef(({className:e,...t},r)=>o.jsx(MF,{className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));BF.displayName=MF.displayName;const gn=p.forwardRef(({className:e,...t},r)=>o.jsxs(Pae,{children:[o.jsx(BF,{}),o.jsx(DF,{ref:r,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));gn.displayName=DF.displayName;const yn=({className:e,...t})=>o.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",e),...t});yn.displayName="AlertDialogHeader";const vn=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t}));vn.displayName="AlertDialogFooter";const xn=p.forwardRef(({className:e,...t},r)=>o.jsx(LF,{ref:r,className:J("text-lg font-semibold",e),...t}));xn.displayName=LF.displayName;const bn=p.forwardRef(({className:e,...t},r)=>o.jsx(FF,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));bn.displayName=FF.displayName;const wn=p.forwardRef(({className:e,...t},r)=>o.jsx(IF,{ref:r,className:J(gu(),e),...t}));wn.displayName=IF.displayName;const _n=p.forwardRef(({className:e,...t},r)=>o.jsx($F,{ref:r,className:J(gu({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));_n.displayName=$F.displayName;function Oae(e,t,r="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:r}).format(t).split(/\s/g).slice(2).join(" ")}const kae={},Pc={};function Os(e,t){try{const n=(kae[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return n in Pc?Pc[n]:eE(n,n.split(":"))}catch{if(e in Pc)return Pc[e];const r=e?.match(Rae);return r?eE(e,r.slice(1)):NaN}}const Rae=/([+-]\d\d):?(\d\d)?/;function eE(e,t){const r=+(t[0]||0),n=+(t[1]||0),a=+(t[2]||0)/60;return Pc[e]=r*60+n>0?r*60+n+a:r*60-n-a}class Ea extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Os(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),zF(this),fw(this)):this.setTime(Date.now())}static tz(t,...r){return r.length?new Ea(...r,t):new Ea(Date.now(),t)}withTimeZone(t){return new Ea(+this,t)}getTimezoneOffset(){const t=-Os(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),fw(this),+this}[Symbol.for("constructDateFrom")](t){return new Ea(+new Date(t),this.timeZone)}}const tE=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!tE.test(e))return;const t=e.replace(tE,"$1UTC");Ea.prototype[t]&&(e.startsWith("get")?Ea.prototype[e]=function(){return this.internal[t]()}:(Ea.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Mae(this),+this},Ea.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),fw(this),+this}))});function fw(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Os(e.timeZone,e)*60))}function Mae(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),zF(e)}function zF(e){const t=Os(e.timeZone,e),r=t>0?Math.floor(t):Math.ceil(t),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const a=-new Date(+e).getTimezoneOffset(),i=-new Date(+n).getTimezoneOffset(),s=a-i,l=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();s&&l&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+s);const c=a-r;c&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+c);const u=new Date(+e);u.setUTCSeconds(0);const d=a>0?u.getSeconds():(u.getSeconds()-60)%60,f=Math.round(-(Os(e.timeZone,e)*60))%60;(f||d)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+f),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+f+d));const h=Os(e.timeZone,e),m=h>0?Math.floor(h):Math.ceil(h),g=-new Date(+e).getTimezoneOffset()-m,y=m!==r,x=g-c;if(y&&x){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+x);const b=Os(e.timeZone,e),w=b>0?Math.floor(b):Math.ceil(b),j=m-w;j&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+j),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+j))}}class kr extends Ea{static tz(t,...r){return r.length?new kr(...r,t):new kr(Date.now(),t)}toISOString(){const[t,r,n]=this.tzComponents(),a=`${t}${r}:${n}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,r,n,a]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${n} ${r} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[r,n,a]=this.tzComponents();return`${t} GMT${r}${n}${a} (${Oae(this.timeZone,this)})`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),r=t>0?"-":"+",n=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[r,n,a]}withTimeZone(t){return new kr(+this,t)}[Symbol.for("constructDateFrom")](t){return new kr(+new Date(t),this.timeZone)}}const rE=5,Dae=4;function Iae(e,t){const r=t.startOfMonth(e),n=r.getDay()>0?r.getDay():7,a=t.addDays(e,-n+1),i=t.addDays(a,rE*7-1);return t.getMonth(e)===t.getMonth(i)?rE:Dae}function UF(e,t){const r=t.startOfMonth(e),n=r.getDay();return n===1?r:n===0?t.addDays(r,-6):t.addDays(r,-1*(n-1))}function $ae(e,t){const r=UF(e,t),n=Iae(e,t);return t.addDays(r,n*7-1)}const VF={...Io,labels:{labelDayButton:(e,t,r,n)=>{let a;n&&typeof n.format=="function"?a=n.format.bind(n):a=(s,l)=>ye(s,l,{locale:Io,...r});let i=a(e,"PPPP");return t.today&&(i=`Today, ${i}`),t.selected&&(i=`${i}, selected`),i},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:e=>`Week ${e}`,labelYearDropdown:"Choose the Year",labelGrid:(e,t,r)=>{let n;return r&&typeof r.format=="function"?n=r.format.bind(r):n=(a,i)=>ye(a,i,{locale:Io,...t}),n(e,"LLLL yyyy")},labelGridcell:(e,t,r,n)=>{let a;n&&typeof n.format=="function"?a=n.format.bind(n):a=(s,l)=>ye(s,l,{locale:Io,...r});let i=a(e,"PPPP");return t?.today&&(i=`Today, ${i}`),i},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(e,t,r)=>{let n;return r&&typeof r.format=="function"?n=r.format.bind(r):n=(a,i)=>ye(a,i,{locale:Io,...t}),n(e,"cccc")}}};class jn{constructor(t,r){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?kr.tz(this.options.timeZone):new this.Date,this.newDate=(n,a,i)=>this.overrides?.newDate?this.overrides.newDate(n,a,i):this.options.timeZone?new kr(n,a,i,this.options.timeZone):new Date(n,a,i),this.addDays=(n,a)=>this.overrides?.addDays?this.overrides.addDays(n,a):ij(n,a),this.addMonths=(n,a)=>this.overrides?.addMonths?this.overrides.addMonths(n,a):ul(n,a),this.addWeeks=(n,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(n,a):lre(n,a),this.addYears=(n,a)=>this.overrides?.addYears?this.overrides.addYears(n,a):wu(n,a),this.differenceInCalendarDays=(n,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,a):ip(n,a),this.differenceInCalendarMonths=(n,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,a):uF(n,a),this.eachMonthOfInterval=n=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):mre(n),this.eachYearOfInterval=n=>{const a=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(n):yre(n),i=new Set(a.map(l=>this.getYear(l)));if(i.size===a.length)return a;const s=[];return i.forEach(l=>{s.push(new Date(l,0,1))}),s},this.endOfBroadcastWeek=n=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n):$ae(n,this),this.endOfISOWeek=n=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(n):vre(n),this.endOfMonth=n=>this.overrides?.endOfMonth?this.overrides.endOfMonth(n):hre(n),this.endOfWeek=(n,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(n,a):hF(n,this.options),this.endOfYear=n=>this.overrides?.endOfYear?this.overrides.endOfYear(n):gre(n),this.format=(n,a,i)=>{const s=this.overrides?.format?this.overrides.format(n,a,this.options):ye(n,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(s):s},this.getISOWeek=n=>this.overrides?.getISOWeek?this.overrides.getISOWeek(n):oj(n),this.getMonth=(n,a)=>this.overrides?.getMonth?this.overrides.getMonth(n,this.options):yF(n,this.options),this.getYear=(n,a)=>this.overrides?.getYear?this.overrides.getYear(n,this.options):Ac(n,this.options),this.getWeek=(n,a)=>this.overrides?.getWeek?this.overrides.getWeek(n,this.options):lj(n,this.options),this.isAfter=(n,a)=>this.overrides?.isAfter?this.overrides.isAfter(n,a):sp(n,a),this.isBefore=(n,a)=>this.overrides?.isBefore?this.overrides.isBefore(n,a):Xs(n,a),this.isDate=n=>this.overrides?.isDate?this.overrides.isDate(n):cF(n),this.isSameDay=(n,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(n,a):dre(n,a),this.isSameMonth=(n,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(n,a):mne(n,a),this.isSameYear=(n,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(n,a):pne(n,a),this.max=n=>this.overrides?.max?this.overrides.max(n):cre(n),this.min=n=>this.overrides?.min?this.overrides.min(n):ure(n),this.setMonth=(n,a)=>this.overrides?.setMonth?this.overrides.setMonth(n,a):One(n,a),this.setYear=(n,a)=>this.overrides?.setYear?this.overrides.setYear(n,a):kne(n,a),this.startOfBroadcastWeek=(n,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):UF(n,this),this.startOfDay=n=>this.overrides?.startOfDay?this.overrides.startOfDay(n):fa(n),this.startOfISOWeek=n=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(n):bu(n),this.startOfMonth=n=>this.overrides?.startOfMonth?this.overrides.startOfMonth(n):pre(n),this.startOfWeek=(n,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(n,this.options):Zi(n,this.options),this.startOfYear=n=>this.overrides?.startOfYear?this.overrides.startOfYear(n):fF(n),this.options={locale:VF,...t},this.overrides=r}getDigitMap(){const{numerals:t="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:t}),n={};for(let a=0;a<10;a++)n[a.toString()]=r.format(a);return n}replaceDigits(t){const r=this.getDigitMap();return t.replace(/\d/g,n=>r[n]||n)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&jn.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:r,timeZone:n,numerals:a}=this.options,i=r?.code;if(i&&jn.yearFirstLocales.has(i))try{return new Intl.DateTimeFormat(i,{month:"long",year:"numeric",timeZone:n,numberingSystem:a}).format(t)}catch{}const s=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,s)}}jn.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Va=new jn;class qF{constructor(t,r,n=Va){this.date=t,this.displayMonth=r,this.outside=!!(r&&!n.isSameMonth(t,r)),this.dateLib=n,this.isoDate=n.format(t,"yyyy-MM-dd"),this.displayMonthId=n.format(r,"yyyy-MM"),this.dateMonthId=n.format(t,"yyyy-MM")}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Lae{constructor(t,r){this.date=t,this.weeks=r}}class Fae{constructor(t,r){this.days=r,this.weekNumber=t}}function Bae(e){return k.createElement("button",{...e})}function zae(e){return k.createElement("span",{...e})}function Uae(e){const{size:t=24,orientation:r="left",className:n}=e;return k.createElement("svg",{className:n,width:t,height:t,viewBox:"0 0 24 24"},r==="up"&&k.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&k.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&k.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&k.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Vae(e){const{day:t,modifiers:r,...n}=e;return k.createElement("td",{...n})}function qae(e){const{day:t,modifiers:r,...n}=e,a=k.useRef(null);return k.useEffect(()=>{r.focused&&a.current?.focus()},[r.focused]),k.createElement("button",{ref:a,...n})}var ke;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(ke||(ke={}));var Wt;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Wt||(Wt={}));var oa;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(oa||(oa={}));var an;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(an||(an={}));function Wae(e){const{options:t,className:r,components:n,classNames:a,...i}=e,s=[a[ke.Dropdown],r].join(" "),l=t?.find(({value:c})=>c===i.value);return k.createElement("span",{"data-disabled":i.disabled,className:a[ke.DropdownRoot]},k.createElement(n.Select,{className:s,...i},t?.map(({value:c,label:u,disabled:d})=>k.createElement(n.Option,{key:c,value:c,disabled:d},u))),k.createElement("span",{className:a[ke.CaptionLabel],"aria-hidden":!0},l?.label,k.createElement(n.Chevron,{orientation:"down",size:18,className:a[ke.Chevron]})))}function Hae(e){return k.createElement("div",{...e})}function Gae(e){return k.createElement("div",{...e})}function Kae(e){const{calendarMonth:t,displayIndex:r,...n}=e;return k.createElement("div",{...n},e.children)}function Yae(e){const{calendarMonth:t,displayIndex:r,...n}=e;return k.createElement("div",{...n})}function Xae(e){return k.createElement("table",{...e})}function Zae(e){return k.createElement("div",{...e})}const WF=p.createContext(void 0);function Rd(){const e=p.useContext(WF);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function Jae(e){const{components:t}=Rd();return k.createElement(t.Dropdown,{...e})}function Qae(e){const{onPreviousClick:t,onNextClick:r,previousMonth:n,nextMonth:a,...i}=e,{components:s,classNames:l,labels:{labelPrevious:c,labelNext:u}}=Rd(),d=p.useCallback(h=>{a&&r?.(h)},[a,r]),f=p.useCallback(h=>{n&&t?.(h)},[n,t]);return k.createElement("nav",{...i},k.createElement(s.PreviousMonthButton,{type:"button",className:l[ke.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":c(n),onClick:f},k.createElement(s.Chevron,{disabled:n?void 0:!0,className:l[ke.Chevron],orientation:"left"})),k.createElement(s.NextMonthButton,{type:"button",className:l[ke.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":u(a),onClick:d},k.createElement(s.Chevron,{disabled:a?void 0:!0,orientation:"right",className:l[ke.Chevron]})))}function eie(e){const{components:t}=Rd();return k.createElement(t.Button,{...e})}function tie(e){return k.createElement("option",{...e})}function rie(e){const{components:t}=Rd();return k.createElement(t.Button,{...e})}function nie(e){const{rootRef:t,...r}=e;return k.createElement("div",{...r,ref:t})}function aie(e){return k.createElement("select",{...e})}function iie(e){const{week:t,...r}=e;return k.createElement("tr",{...r})}function sie(e){return k.createElement("th",{...e})}function oie(e){return k.createElement("thead",{"aria-hidden":!0},k.createElement("tr",{...e}))}function lie(e){const{week:t,...r}=e;return k.createElement("th",{...r})}function cie(e){return k.createElement("th",{...e})}function uie(e){return k.createElement("tbody",{...e})}function die(e){const{components:t}=Rd();return k.createElement(t.Dropdown,{...e})}const fie=Object.freeze(Object.defineProperty({__proto__:null,Button:Bae,CaptionLabel:zae,Chevron:Uae,Day:Vae,DayButton:qae,Dropdown:Wae,DropdownNav:Hae,Footer:Gae,Month:Kae,MonthCaption:Yae,MonthGrid:Xae,Months:Zae,MonthsDropdown:Jae,Nav:Qae,NextMonthButton:eie,Option:tie,PreviousMonthButton:rie,Root:nie,Select:aie,Week:iie,WeekNumber:lie,WeekNumberHeader:cie,Weekday:sie,Weekdays:oie,Weeks:uie,YearsDropdown:die},Symbol.toStringTag,{value:"Module"}));function Qa(e,t,r=!1,n=Va){let{from:a,to:i}=e;const{differenceInCalendarDays:s,isSameDay:l}=n;return a&&i?(s(i,a)<0&&([a,i]=[i,a]),s(t,a)>=(r?1:0)&&s(i,t)>=(r?1:0)):!r&&i?l(i,t):!r&&a?l(a,t):!1}function uj(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function lp(e){return!!(e&&typeof e=="object"&&"from"in e)}function dj(e){return!!(e&&typeof e=="object"&&"after"in e)}function fj(e){return!!(e&&typeof e=="object"&&"before"in e)}function HF(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function GF(e,t){return Array.isArray(e)&&e.every(t.isDate)}function ei(e,t,r=Va){const n=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:i,isAfter:s}=r;return n.some(l=>{if(typeof l=="boolean")return l;if(r.isDate(l))return a(e,l);if(GF(l,r))return l.some(c=>a(e,c));if(lp(l))return Qa(l,e,!1,r);if(HF(l))return Array.isArray(l.dayOfWeek)?l.dayOfWeek.includes(e.getDay()):l.dayOfWeek===e.getDay();if(uj(l)){const c=i(l.before,e),u=i(l.after,e),d=c>0,f=u<0;return s(l.before,l.after)?f&&d:d||f}return dj(l)?i(e,l.after)>0:fj(l)?i(l.before,e)>0:typeof l=="function"?l(e):!1})}function hie(e,t,r,n,a){const{disabled:i,hidden:s,modifiers:l,showOutsideDays:c,broadcastCalendar:u,today:d=a.today()}=t,{isSameDay:f,isSameMonth:h,startOfMonth:m,isBefore:v,endOfMonth:g,isAfter:y}=a,x=r&&m(r),b=n&&g(n),w={[Wt.focused]:[],[Wt.outside]:[],[Wt.disabled]:[],[Wt.hidden]:[],[Wt.today]:[]},j={};for(const _ of e){const{date:S,displayMonth:N}=_,T=!!(N&&!h(S,N)),C=!!(x&&v(S,x)),A=!!(b&&y(S,b)),P=!!(i&&ei(S,i,a)),E=!!(s&&ei(S,s,a))||C||A||!u&&!c&&T||u&&c===!1&&T,R=f(S,d);T&&w.outside.push(_),P&&w.disabled.push(_),E&&w.hidden.push(_),R&&w.today.push(_),l&&Object.keys(l).forEach(O=>{const M=l?.[O];M&&ei(S,M,a)&&(j[O]?j[O].push(_):j[O]=[_])})}return _=>{const S={[Wt.focused]:!1,[Wt.disabled]:!1,[Wt.hidden]:!1,[Wt.outside]:!1,[Wt.today]:!1},N={};for(const T in w){const C=w[T];S[T]=C.some(A=>A===_)}for(const T in j)N[T]=j[T].some(C=>C===_);return{...S,...N}}}function mie(e,t,r={}){return Object.entries(e).filter(([,a])=>a===!0).reduce((a,[i])=>(r[i]?a.push(r[i]):t[Wt[i]]?a.push(t[Wt[i]]):t[oa[i]]&&a.push(t[oa[i]]),a),[t[ke.Day]])}function pie(e){return{...fie,...e}}function gie(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([r,n])=>{r.startsWith("data-")&&(t[r]=n)}),t}function yie(){const e={};for(const t in ke)e[ke[t]]=`rdp-${ke[t]}`;for(const t in Wt)e[Wt[t]]=`rdp-${Wt[t]}`;for(const t in oa)e[oa[t]]=`rdp-${oa[t]}`;for(const t in an)e[an[t]]=`rdp-${an[t]}`;return e}function KF(e,t,r){return(r??new jn(t)).formatMonthYear(e)}const vie=KF;function xie(e,t,r){return(r??new jn(t)).format(e,"d")}function bie(e,t=Va){return t.format(e,"LLLL")}function wie(e,t,r){return(r??new jn(t)).format(e,"cccccc")}function _ie(e,t=Va){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function jie(){return""}function YF(e,t=Va){return t.format(e,"yyyy")}const Sie=YF,Nie=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:KF,formatDay:xie,formatMonthCaption:vie,formatMonthDropdown:bie,formatWeekNumber:_ie,formatWeekNumberHeader:jie,formatWeekdayName:wie,formatYearCaption:Sie,formatYearDropdown:YF},Symbol.toStringTag,{value:"Module"}));function Cie(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...Nie,...e}}function hj(e,t,r,n){let a=(n??new jn(r)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const Tie=hj;function mj(e,t,r){return(r??new jn(t)).formatMonthYear(e)}const Eie=mj;function XF(e,t,r,n){let a=(n??new jn(r)).format(e,"PPPP");return t?.today&&(a=`Today, ${a}`),a}function ZF(e){return"Choose the Month"}function JF(){return""}const Aie="Go to the Next Month";function QF(e,t){return Aie}function e4(e){return"Go to the Previous Month"}function t4(e,t,r){return(r??new jn(t)).format(e,"cccc")}function r4(e,t){return`Week ${e}`}function n4(e){return"Week Number"}function a4(e){return"Choose the Year"}const Pie=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Eie,labelDay:Tie,labelDayButton:hj,labelGrid:mj,labelGridcell:XF,labelMonthDropdown:ZF,labelNav:JF,labelNext:QF,labelPrevious:e4,labelWeekNumber:r4,labelWeekNumberHeader:n4,labelWeekday:t4,labelYearDropdown:a4},Symbol.toStringTag,{value:"Module"})),Kn=(e,t,r)=>t||(r?typeof r=="function"?r:(...n)=>r:e);function Oie(e,t){const r=t.locale?.labels??{};return{...Pie,...e??{},labelDayButton:Kn(hj,e?.labelDayButton,r.labelDayButton),labelMonthDropdown:Kn(ZF,e?.labelMonthDropdown,r.labelMonthDropdown),labelNext:Kn(QF,e?.labelNext,r.labelNext),labelPrevious:Kn(e4,e?.labelPrevious,r.labelPrevious),labelWeekNumber:Kn(r4,e?.labelWeekNumber,r.labelWeekNumber),labelYearDropdown:Kn(a4,e?.labelYearDropdown,r.labelYearDropdown),labelGrid:Kn(mj,e?.labelGrid,r.labelGrid),labelGridcell:Kn(XF,e?.labelGridcell,r.labelGridcell),labelNav:Kn(JF,e?.labelNav,r.labelNav),labelWeekNumberHeader:Kn(n4,e?.labelWeekNumberHeader,r.labelWeekNumberHeader),labelWeekday:Kn(t4,e?.labelWeekday,r.labelWeekday)}}function kie(e,t,r,n,a){const{startOfMonth:i,startOfYear:s,endOfYear:l,eachMonthOfInterval:c,getMonth:u}=a;return c({start:s(e),end:l(e)}).map(h=>{const m=n.formatMonthDropdown(h,a),v=u(h),g=t&&h<i(t)||r&&h>i(r)||!1;return{value:v,label:m,disabled:g}})}function Rie(e,t={},r={}){let n={...t?.[ke.Day]};return Object.entries(e).filter(([,a])=>a===!0).forEach(([a])=>{n={...n,...r?.[a]}}),n}function Mie(e,t,r,n){const a=n??e.today(),i=r?e.startOfBroadcastWeek(a,e):t?e.startOfISOWeek(a):e.startOfWeek(a),s=[];for(let l=0;l<7;l++){const c=e.addDays(i,l);s.push(c)}return s}function Die(e,t,r,n,a=!1){if(!e||!t)return;const{startOfYear:i,endOfYear:s,eachYearOfInterval:l,getYear:c}=n,u=i(e),d=s(t),f=l({start:u,end:d});return a&&f.reverse(),f.map(h=>{const m=r.formatYearDropdown(h,n);return{value:c(h),label:m,disabled:!1}})}function Iie(e,t={}){const{weekStartsOn:r,locale:n}=t,a=r??n?.options?.weekStartsOn??0,i=l=>{const c=typeof l=="number"||typeof l=="string"?new Date(l):l;return new kr(c.getFullYear(),c.getMonth(),c.getDate(),12,0,0,e)},s=l=>{const c=i(l);return new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0,0)};return{today:()=>i(kr.tz(e)),newDate:(l,c,u)=>new kr(l,c,u,12,0,0,e),startOfDay:l=>i(l),startOfWeek:(l,c)=>{const u=i(l),d=c?.weekStartsOn??a,f=(u.getDay()-d+7)%7;return u.setDate(u.getDate()-f),u},startOfISOWeek:l=>{const c=i(l),u=(c.getDay()-1+7)%7;return c.setDate(c.getDate()-u),c},startOfMonth:l=>{const c=i(l);return c.setDate(1),c},startOfYear:l=>{const c=i(l);return c.setMonth(0,1),c},endOfWeek:(l,c)=>{const u=i(l),h=(((c?.weekStartsOn??a)+6)%7-u.getDay()+7)%7;return u.setDate(u.getDate()+h),u},endOfISOWeek:l=>{const c=i(l),u=(7-c.getDay())%7;return c.setDate(c.getDate()+u),c},endOfMonth:l=>{const c=i(l);return c.setMonth(c.getMonth()+1,0),c},endOfYear:l=>{const c=i(l);return c.setMonth(11,31),c},eachMonthOfInterval:l=>{const c=i(l.start),u=i(l.end),d=[],f=new kr(c.getFullYear(),c.getMonth(),1,12,0,0,e),h=u.getFullYear()*12+u.getMonth();for(;f.getFullYear()*12+f.getMonth()<=h;)d.push(new kr(f,e)),f.setMonth(f.getMonth()+1,1);return d},addDays:(l,c)=>{const u=i(l);return u.setDate(u.getDate()+c),u},addWeeks:(l,c)=>{const u=i(l);return u.setDate(u.getDate()+c*7),u},addMonths:(l,c)=>{const u=i(l);return u.setMonth(u.getMonth()+c),u},addYears:(l,c)=>{const u=i(l);return u.setFullYear(u.getFullYear()+c),u},eachYearOfInterval:l=>{const c=i(l.start),u=i(l.end),d=[],f=new kr(c.getFullYear(),0,1,12,0,0,e);for(;f.getFullYear()<=u.getFullYear();)d.push(new kr(f,e)),f.setFullYear(f.getFullYear()+1,0,1);return d},getWeek:(l,c)=>{const u=s(l);return lj(u,{weekStartsOn:c?.weekStartsOn??a,firstWeekContainsDate:c?.firstWeekContainsDate??n?.options?.firstWeekContainsDate??1})},getISOWeek:l=>{const c=s(l);return oj(c)},differenceInCalendarDays:(l,c)=>{const u=s(l),d=s(c);return ip(u,d)},differenceInCalendarMonths:(l,c)=>{const u=s(l),d=s(c);return uF(u,d)}}}const Md=e=>e instanceof HTMLElement?e:null,ry=e=>[...e.querySelectorAll("[data-animated-month]")??[]],$ie=e=>Md(e.querySelector("[data-animated-month]")),ny=e=>Md(e.querySelector("[data-animated-caption]")),ay=e=>Md(e.querySelector("[data-animated-weeks]")),Lie=e=>Md(e.querySelector("[data-animated-nav]")),Fie=e=>Md(e.querySelector("[data-animated-weekdays]"));function Bie(e,t,{classNames:r,months:n,focused:a,dateLib:i}){const s=p.useRef(null),l=p.useRef(n),c=p.useRef(!1);p.useLayoutEffect(()=>{const u=l.current;if(l.current=n,!t||!e.current||!(e.current instanceof HTMLElement)||n.length===0||u.length===0||n.length!==u.length)return;const d=i.isSameMonth(n[0].date,u[0].date),f=i.isAfter(n[0].date,u[0].date),h=f?r[an.caption_after_enter]:r[an.caption_before_enter],m=f?r[an.weeks_after_enter]:r[an.weeks_before_enter],v=s.current,g=e.current.cloneNode(!0);if(g instanceof HTMLElement?(ry(g).forEach(w=>{if(!(w instanceof HTMLElement))return;const j=$ie(w);j&&w.contains(j)&&w.removeChild(j);const _=ny(w);_&&_.classList.remove(h);const S=ay(w);S&&S.classList.remove(m)}),s.current=g):s.current=null,c.current||d||a)return;const y=v instanceof HTMLElement?ry(v):[],x=ry(e.current);if(x?.every(b=>b instanceof HTMLElement)&&y&&y.every(b=>b instanceof HTMLElement)){c.current=!0,e.current.style.isolation="isolate";const b=Lie(e.current);b&&(b.style.zIndex="1"),x.forEach((w,j)=>{const _=y[j];if(!_)return;w.style.position="relative",w.style.overflow="hidden";const S=ny(w);S&&S.classList.add(h);const N=ay(w);N&&N.classList.add(m);const T=()=>{c.current=!1,e.current&&(e.current.style.isolation=""),b&&(b.style.zIndex=""),S&&S.classList.remove(h),N&&N.classList.remove(m),w.style.position="",w.style.overflow="",w.contains(_)&&w.removeChild(_)};_.style.pointerEvents="none",_.style.position="absolute",_.style.overflow="hidden",_.setAttribute("aria-hidden","true");const C=Fie(_);C&&(C.style.opacity="0");const A=ny(_);A&&(A.classList.add(f?r[an.caption_before_exit]:r[an.caption_after_exit]),A.addEventListener("animationend",T));const P=ay(_);P&&P.classList.add(f?r[an.weeks_before_exit]:r[an.weeks_after_exit]),w.insertBefore(_,w.firstChild)})}})}function zie(e,t,r,n){const a=e[0],i=e[e.length-1],{ISOWeek:s,fixedWeeks:l,broadcastCalendar:c}=r??{},{addDays:u,differenceInCalendarDays:d,differenceInCalendarMonths:f,endOfBroadcastWeek:h,endOfISOWeek:m,endOfMonth:v,endOfWeek:g,isAfter:y,startOfBroadcastWeek:x,startOfISOWeek:b,startOfWeek:w}=n,j=c?x(a,n):s?b(a):w(a),_=c?h(i):s?m(v(i)):g(v(i)),S=t&&(c?h(t):s?m(t):g(t)),N=S&&y(_,S)?S:_,T=d(N,j),C=f(i,a)+1,A=[];for(let R=0;R<=T;R++){const O=u(j,R);A.push(O)}const E=(c?35:42)*C;if(l&&A.length<E){const R=E-A.length;for(let O=0;O<R;O++){const M=u(A[A.length-1],1);A.push(M)}}return A}function Uie(e){const t=[];return e.reduce((r,n)=>{const a=n.weeks.reduce((i,s)=>i.concat(s.days.slice()),t.slice());return r.concat(a.slice())},t.slice())}function Vie(e,t,r,n){const{numberOfMonths:a=1}=r,i=[];for(let s=0;s<a;s++){const l=n.addMonths(e,s);if(t&&l>t)break;i.push(l)}return i}function nE(e,t,r,n){const{month:a,defaultMonth:i,today:s=n.today(),numberOfMonths:l=1}=e;let c=a||i||s;const{differenceInCalendarMonths:u,addMonths:d,startOfMonth:f}=n;if(r&&u(r,c)<l-1){const h=-1*(l-1);c=d(r,h)}return t&&u(c,t)<0&&(c=t),f(c)}function qie(e,t,r,n){const{addDays:a,endOfBroadcastWeek:i,endOfISOWeek:s,endOfMonth:l,endOfWeek:c,getISOWeek:u,getWeek:d,startOfBroadcastWeek:f,startOfISOWeek:h,startOfWeek:m}=n,v=e.reduce((g,y)=>{const x=r.broadcastCalendar?f(y,n):r.ISOWeek?h(y):m(y),b=r.broadcastCalendar?i(y):r.ISOWeek?s(l(y)):c(l(y)),w=t.filter(N=>N>=x&&N<=b),j=r.broadcastCalendar?35:42;if(r.fixedWeeks&&w.length<j){const N=t.filter(T=>{const C=j-w.length;return T>b&&T<=a(b,C)});w.push(...N)}const _=w.reduce((N,T)=>{const C=r.ISOWeek?u(T):d(T),A=N.find(E=>E.weekNumber===C),P=new qF(T,y,n);return A?A.days.push(P):N.push(new Fae(C,[P])),N},[]),S=new Lae(y,_);return g.push(S),g},[]);return r.reverseMonths?v.reverse():v}function Wie(e,t){let{startMonth:r,endMonth:n}=e;const{startOfYear:a,startOfDay:i,startOfMonth:s,endOfMonth:l,addYears:c,endOfYear:u,newDate:d,today:f}=t,{fromYear:h,toYear:m,fromMonth:v,toMonth:g}=e;!r&&v&&(r=v),!r&&h&&(r=t.newDate(h,0,1)),!n&&g&&(n=g),!n&&m&&(n=d(m,11,31));const y=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return r?r=s(r):h?r=d(h,0,1):!r&&y&&(r=a(c(e.today??f(),-100))),n?n=l(n):m?n=d(m,11,31):!n&&y&&(n=u(e.today??f())),[r&&i(r),n&&i(n)]}function Hie(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i=1}=r,{startOfMonth:s,addMonths:l,differenceInCalendarMonths:c}=n,u=a?i:1,d=s(e);if(!t)return l(d,u);if(!(c(t,e)<i))return l(d,u)}function Gie(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i}=r,{startOfMonth:s,addMonths:l,differenceInCalendarMonths:c}=n,u=a?i??1:1,d=s(e);if(!t)return l(d,-u);if(!(c(d,t)<=0))return l(d,-u)}function Kie(e){const t=[];return e.reduce((r,n)=>r.concat(n.weeks.slice()),t.slice())}function cp(e,t){const[r,n]=p.useState(e);return[t===void 0?r:t,n]}function Yie(e,t){const[r,n]=Wie(e,t),{startOfMonth:a,endOfMonth:i}=t,s=nE(e,r,n,t),[l,c]=cp(s,e.month?s:void 0);p.useEffect(()=>{const j=nE(e,r,n,t);c(j)},[e.timeZone]);const{months:u,weeks:d,days:f,previousMonth:h,nextMonth:m}=p.useMemo(()=>{const j=Vie(l,n,{numberOfMonths:e.numberOfMonths},t),_=zie(j,e.endMonth?i(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},t),S=qie(j,_,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},t),N=Kie(S),T=Uie(S),C=Gie(l,r,e,t),A=Hie(l,n,e,t);return{months:S,weeks:N,days:T,previousMonth:C,nextMonth:A}},[t,l.getTime(),n?.getTime(),r?.getTime(),e.disableNavigation,e.broadcastCalendar,e.endMonth?.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:v,onMonthChange:g}=e,y=j=>d.some(_=>_.days.some(S=>S.isEqualTo(j))),x=j=>{if(v)return;let _=a(j);r&&_<a(r)&&(_=a(r)),n&&_>a(n)&&(_=a(n)),c(_),g?.(_)};return{months:u,weeks:d,days:f,navStart:r,navEnd:n,previousMonth:h,nextMonth:m,goToMonth:x,goToDay:j=>{y(j)||x(j.date)}}}var ja;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(ja||(ja={}));function aE(e){return!e[Wt.disabled]&&!e[Wt.hidden]&&!e[Wt.outside]}function Xie(e,t,r,n){let a,i=-1;for(const s of e){const l=t(s);aE(l)&&(l[Wt.focused]&&i<ja.FocusedModifier?(a=s,i=ja.FocusedModifier):n?.isEqualTo(s)&&i<ja.LastFocused?(a=s,i=ja.LastFocused):r(s.date)&&i<ja.Selected?(a=s,i=ja.Selected):l[Wt.today]&&i<ja.Today&&(a=s,i=ja.Today))}return a||(a=e.find(s=>aE(t(s)))),a}function Zie(e,t,r,n,a,i,s){const{ISOWeek:l,broadcastCalendar:c}=i,{addDays:u,addMonths:d,addWeeks:f,addYears:h,endOfBroadcastWeek:m,endOfISOWeek:v,endOfWeek:g,max:y,min:x,startOfBroadcastWeek:b,startOfISOWeek:w,startOfWeek:j}=s;let S={day:u,week:f,month:d,year:h,startOfWeek:N=>c?b(N,s):l?w(N):j(N),endOfWeek:N=>c?m(N):l?v(N):g(N)}[e](r,t==="after"?1:-1);return t==="before"&&n?S=y([n,S]):t==="after"&&a&&(S=x([a,S])),S}function i4(e,t,r,n,a,i,s,l=0){if(l>365)return;const c=Zie(e,t,r.date,n,a,i,s),u=!!(i.disabled&&ei(c,i.disabled,s)),d=!!(i.hidden&&ei(c,i.hidden,s)),f=c,h=new qF(c,f,s);return!u&&!d?h:i4(e,t,h,n,a,i,s,l+1)}function Jie(e,t,r,n,a){const{autoFocus:i}=e,[s,l]=p.useState(),c=Xie(t.days,r,n||(()=>!1),s),[u,d]=p.useState(i?c:void 0);return{isFocusTarget:g=>!!c?.isEqualTo(g),setFocused:d,focused:u,blur:()=>{l(u),d(void 0)},moveFocus:(g,y)=>{if(!u)return;const x=i4(g,y,u,t.navStart,t.navEnd,e,a);x&&(e.disableNavigation&&!t.days.some(w=>w.isEqualTo(x))||(t.goToDay(x),d(x)))}}}function Qie(e,t){const{selected:r,required:n,onSelect:a}=e,[i,s]=cp(r,a?r:void 0),l=a?r:i,{isSameDay:c}=t,u=m=>l?.some(v=>c(v,m))??!1,{min:d,max:f}=e;return{selected:l,select:(m,v,g)=>{let y=[...l??[]];if(u(m)){if(l?.length===d||n&&l?.length===1)return;y=l?.filter(x=>!c(x,m))}else l?.length===f?y=[m]:y=[...y,m];return a||s(y),a?.(y,m,v,g),y},isSelected:u}}function ese(e,t,r=0,n=0,a=!1,i=Va){const{from:s,to:l}=t||{},{isSameDay:c,isAfter:u,isBefore:d}=i;let f;if(!s&&!l)f={from:e,to:r>0?void 0:e};else if(s&&!l)c(s,e)?r===0?f={from:s,to:e}:a?f={from:s,to:void 0}:f=void 0:d(e,s)?f={from:e,to:s}:f={from:s,to:e};else if(s&&l)if(c(s,e)&&c(l,e))a?f={from:s,to:l}:f=void 0;else if(c(s,e))f={from:s,to:r>0?void 0:e};else if(c(l,e))f={from:e,to:r>0?void 0:e};else if(d(e,s))f={from:e,to:l};else if(u(e,s))f={from:s,to:e};else if(u(e,l))f={from:s,to:e};else throw new Error("Invalid range");if(f?.from&&f?.to){const h=i.differenceInCalendarDays(f.to,f.from);n>0&&h>n?f={from:e,to:void 0}:r>1&&h<r&&(f={from:e,to:void 0})}return f}function tse(e,t,r=Va){const n=Array.isArray(t)?t:[t];let a=e.from;const i=r.differenceInCalendarDays(e.to,e.from),s=Math.min(i,6);for(let l=0;l<=s;l++){if(n.includes(a.getDay()))return!0;a=r.addDays(a,1)}return!1}function iE(e,t,r=Va){return Qa(e,t.from,!1,r)||Qa(e,t.to,!1,r)||Qa(t,e.from,!1,r)||Qa(t,e.to,!1,r)}function rse(e,t,r=Va){const n=Array.isArray(t)?t:[t];if(n.filter(l=>typeof l!="function").some(l=>typeof l=="boolean"?l:r.isDate(l)?Qa(e,l,!1,r):GF(l,r)?l.some(c=>Qa(e,c,!1,r)):lp(l)?l.from&&l.to?iE(e,{from:l.from,to:l.to},r):!1:HF(l)?tse(e,l.dayOfWeek,r):uj(l)?r.isAfter(l.before,l.after)?iE(e,{from:r.addDays(l.after,1),to:r.addDays(l.before,-1)},r):ei(e.from,l,r)||ei(e.to,l,r):dj(l)||fj(l)?ei(e.from,l,r)||ei(e.to,l,r):!1))return!0;const s=n.filter(l=>typeof l=="function");if(s.length){let l=e.from;const c=r.differenceInCalendarDays(e.to,e.from);for(let u=0;u<=c;u++){if(s.some(d=>d(l)))return!0;l=r.addDays(l,1)}}return!1}function nse(e,t){const{disabled:r,excludeDisabled:n,selected:a,required:i,onSelect:s}=e,[l,c]=cp(a,s?a:void 0),u=s?a:l;return{selected:u,select:(h,m,v)=>{const{min:g,max:y}=e,x=h?ese(h,u,g,y,i,t):void 0;return n&&r&&x?.from&&x.to&&rse({from:x.from,to:x.to},r,t)&&(x.from=h,x.to=void 0),s||c(x),s?.(x,h,m,v),x},isSelected:h=>u&&Qa(u,h,!1,t)}}function ase(e,t){const{selected:r,required:n,onSelect:a}=e,[i,s]=cp(r,a?r:void 0),l=a?r:i,{isSameDay:c}=t;return{selected:l,select:(f,h,m)=>{let v=f;return!n&&l&&l&&c(f,l)&&(v=void 0),a||s(v),a?.(v,f,h,m),v},isSelected:f=>l?c(l,f):!1}}function ise(e,t){const r=ase(e,t),n=Qie(e,t),a=nse(e,t);switch(e.mode){case"single":return r;case"multiple":return n;case"range":return a;default:return}}function En(e,t){return e instanceof kr&&e.timeZone===t?e:new kr(e,t)}function No(e,t,r){return En(e,t)}function sE(e,t,r){return typeof e=="boolean"||typeof e=="function"?e:e instanceof Date?No(e,t):Array.isArray(e)?e.map(n=>n instanceof Date?No(n,t):n):lp(e)?{...e,from:e.from?En(e.from,t):e.from,to:e.to?En(e.to,t):e.to}:uj(e)?{before:No(e.before,t),after:No(e.after,t)}:dj(e)?{after:No(e.after,t)}:fj(e)?{before:No(e.before,t)}:e}function iy(e,t,r){return e&&(Array.isArray(e)?e.map(n=>sE(n,t)):sE(e,t))}function sse(e){let t=e;const r=t.timeZone;if(r&&(t={...e,timeZone:r},t.today&&(t.today=En(t.today,r)),t.month&&(t.month=En(t.month,r)),t.defaultMonth&&(t.defaultMonth=En(t.defaultMonth,r)),t.startMonth&&(t.startMonth=En(t.startMonth,r)),t.endMonth&&(t.endMonth=En(t.endMonth,r)),t.mode==="single"&&t.selected?t.selected=En(t.selected,r):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(Ve=>En(Ve,r)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?En(t.selected.from,r):t.selected.from,to:t.selected.to?En(t.selected.to,r):t.selected.to}),t.disabled!==void 0&&(t.disabled=iy(t.disabled,r)),t.hidden!==void 0&&(t.hidden=iy(t.hidden,r)),t.modifiers)){const Ve={};Object.keys(t.modifiers).forEach(at=>{Ve[at]=iy(t.modifiers?.[at],r)}),t.modifiers=Ve}const{components:n,formatters:a,labels:i,dateLib:s,locale:l,classNames:c}=p.useMemo(()=>{const Ve={...VF,...t.locale},at=t.broadcastCalendar?1:t.weekStartsOn,Ue=t.noonSafe&&t.timeZone?Iie(t.timeZone,{weekStartsOn:at,locale:Ve}):void 0,rt=t.dateLib&&Ue?{...Ue,...t.dateLib}:t.dateLib??Ue,Yt=new jn({locale:Ve,weekStartsOn:at,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},rt);return{dateLib:Yt,components:pie(t.components),formatters:Cie(t.formatters),labels:Oie(t.labels,Yt.options),locale:Ve,classNames:{...yie(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.noonSafe,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:s.today()});const{captionLayout:u,mode:d,navLayout:f,numberOfMonths:h=1,onDayBlur:m,onDayClick:v,onDayFocus:g,onDayKeyDown:y,onDayMouseEnter:x,onDayMouseLeave:b,onNextClick:w,onPrevClick:j,showWeekNumber:_,styles:S}=t,{formatCaption:N,formatDay:T,formatMonthDropdown:C,formatWeekNumber:A,formatWeekNumberHeader:P,formatWeekdayName:E,formatYearDropdown:R}=a,O=Yie(t,s),{days:M,months:D,navStart:I,navEnd:F,previousMonth:$,nextMonth:V,goToMonth:X}=O,Y=hie(M,t,I,F,s),{isSelected:q,select:oe,selected:me}=ise(t,s)??{},{blur:xe,focused:te,isFocusTarget:Se,moveFocus:re,setFocused:ae}=Jie(t,O,Y,q??(()=>!1),s),{labelDayButton:Q,labelGridcell:K,labelGrid:Te,labelMonthDropdown:Z,labelNav:G,labelPrevious:se,labelNext:be,labelWeekday:Ie,labelWeekNumber:Ye,labelWeekNumberHeader:et,labelYearDropdown:L}=i,U=p.useMemo(()=>Mie(s,t.ISOWeek,t.broadcastCalendar,t.today),[s,t.ISOWeek,t.broadcastCalendar,t.today]),H=d!==void 0||v!==void 0,fe=p.useCallback(()=>{$&&(X($),j?.($))},[$,X,j]),de=p.useCallback(()=>{V&&(X(V),w?.(V))},[X,V,w]),ne=p.useCallback((Ve,at)=>Ue=>{Ue.preventDefault(),Ue.stopPropagation(),ae(Ve),!at.disabled&&(oe?.(Ve.date,at,Ue),v?.(Ve.date,at,Ue))},[oe,v,ae]),B=p.useCallback((Ve,at)=>Ue=>{ae(Ve),g?.(Ve.date,at,Ue)},[g,ae]),le=p.useCallback((Ve,at)=>Ue=>{xe(),m?.(Ve.date,at,Ue)},[xe,m]),ge=p.useCallback((Ve,at)=>Ue=>{const rt={ArrowLeft:[Ue.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[Ue.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[Ue.shiftKey?"year":"week","after"],ArrowUp:[Ue.shiftKey?"year":"week","before"],PageUp:[Ue.shiftKey?"year":"month","before"],PageDown:[Ue.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(rt[Ue.key]){Ue.preventDefault(),Ue.stopPropagation();const[Yt,tt]=rt[Ue.key];re(Yt,tt)}y?.(Ve.date,at,Ue)},[re,y,t.dir]),Oe=p.useCallback((Ve,at)=>Ue=>{x?.(Ve.date,at,Ue)},[x]),Ze=p.useCallback((Ve,at)=>Ue=>{b?.(Ve.date,at,Ue)},[b]),Be=p.useCallback(Ve=>at=>{const Ue=Number(at.target.value),rt=s.setMonth(s.startOfMonth(Ve),Ue);X(rt)},[s,X]),Kt=p.useCallback(Ve=>at=>{const Ue=Number(at.target.value),rt=s.setYear(s.startOfMonth(Ve),Ue);X(rt)},[s,X]),{className:Ct,style:_i}=p.useMemo(()=>({className:[c[ke.Root],t.className].filter(Boolean).join(" "),style:{...S?.[ke.Root],...t.style}}),[c,t.className,t.style,S]),wa=gie(t),hs=p.useRef(null);Bie(hs,!!t.animate,{classNames:c,months:D,focused:te,dateLib:s});const lc={dayPickerProps:t,selected:me,select:oe,isSelected:q,months:D,nextMonth:V,previousMonth:$,goToMonth:X,getModifiers:Y,components:n,classNames:c,styles:S,labels:i,formatters:a};return k.createElement(WF.Provider,{value:lc},k.createElement(n.Root,{rootRef:t.animate?hs:void 0,className:Ct,style:_i,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...wa},k.createElement(n.Months,{className:c[ke.Months],style:S?.[ke.Months]},!t.hideNavigation&&!f&&k.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[ke.Nav],style:S?.[ke.Nav],"aria-label":G(),onPreviousClick:fe,onNextClick:de,previousMonth:$,nextMonth:V}),D.map((Ve,at)=>k.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:c[ke.Month],style:S?.[ke.Month],key:at,displayIndex:at,calendarMonth:Ve},f==="around"&&!t.hideNavigation&&at===0&&k.createElement(n.PreviousMonthButton,{type:"button",className:c[ke.PreviousMonthButton],tabIndex:$?void 0:-1,"aria-disabled":$?void 0:!0,"aria-label":se($),onClick:fe,"data-animated-button":t.animate?"true":void 0},k.createElement(n.Chevron,{disabled:$?void 0:!0,className:c[ke.Chevron],orientation:t.dir==="rtl"?"right":"left"})),k.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[ke.MonthCaption],style:S?.[ke.MonthCaption],calendarMonth:Ve,displayIndex:at},u?.startsWith("dropdown")?k.createElement(n.DropdownNav,{className:c[ke.Dropdowns],style:S?.[ke.Dropdowns]},(()=>{const Ue=u==="dropdown"||u==="dropdown-months"?k.createElement(n.MonthsDropdown,{key:"month",className:c[ke.MonthsDropdown],"aria-label":Z(),classNames:c,components:n,disabled:!!t.disableNavigation,onChange:Be(Ve.date),options:kie(Ve.date,I,F,a,s),style:S?.[ke.Dropdown],value:s.getMonth(Ve.date)}):k.createElement("span",{key:"month"},C(Ve.date,s)),rt=u==="dropdown"||u==="dropdown-years"?k.createElement(n.YearsDropdown,{key:"year",className:c[ke.YearsDropdown],"aria-label":L(s.options),classNames:c,components:n,disabled:!!t.disableNavigation,onChange:Kt(Ve.date),options:Die(I,F,a,s,!!t.reverseYears),style:S?.[ke.Dropdown],value:s.getYear(Ve.date)}):k.createElement("span",{key:"year"},R(Ve.date,s));return s.getMonthYearOrder()==="year-first"?[rt,Ue]:[Ue,rt]})(),k.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},N(Ve.date,s.options,s))):k.createElement(n.CaptionLabel,{className:c[ke.CaptionLabel],role:"status","aria-live":"polite"},N(Ve.date,s.options,s))),f==="around"&&!t.hideNavigation&&at===h-1&&k.createElement(n.NextMonthButton,{type:"button",className:c[ke.NextMonthButton],tabIndex:V?void 0:-1,"aria-disabled":V?void 0:!0,"aria-label":be(V),onClick:de,"data-animated-button":t.animate?"true":void 0},k.createElement(n.Chevron,{disabled:V?void 0:!0,className:c[ke.Chevron],orientation:t.dir==="rtl"?"left":"right"})),at===h-1&&f==="after"&&!t.hideNavigation&&k.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[ke.Nav],style:S?.[ke.Nav],"aria-label":G(),onPreviousClick:fe,onNextClick:de,previousMonth:$,nextMonth:V}),k.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":Te(Ve.date,s.options,s)||void 0,className:c[ke.MonthGrid],style:S?.[ke.MonthGrid]},!t.hideWeekdays&&k.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[ke.Weekdays],style:S?.[ke.Weekdays]},_&&k.createElement(n.WeekNumberHeader,{"aria-label":et(s.options),className:c[ke.WeekNumberHeader],style:S?.[ke.WeekNumberHeader],scope:"col"},P()),U.map(Ue=>k.createElement(n.Weekday,{"aria-label":Ie(Ue,s.options,s),className:c[ke.Weekday],key:String(Ue),style:S?.[ke.Weekday],scope:"col"},E(Ue,s.options,s)))),k.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[ke.Weeks],style:S?.[ke.Weeks]},Ve.weeks.map(Ue=>k.createElement(n.Week,{className:c[ke.Week],key:Ue.weekNumber,style:S?.[ke.Week],week:Ue},_&&k.createElement(n.WeekNumber,{week:Ue,style:S?.[ke.WeekNumber],"aria-label":Ye(Ue.weekNumber,{locale:l}),className:c[ke.WeekNumber],scope:"row",role:"rowheader"},A(Ue.weekNumber,s)),Ue.days.map(rt=>{const{date:Yt}=rt,tt=Y(rt);if(tt[Wt.focused]=!tt.hidden&&!!te?.isEqualTo(rt),tt[oa.selected]=q?.(Yt)||tt.selected,lp(me)){const{from:Br,to:zr}=me;tt[oa.range_start]=!!(Br&&zr&&s.isSameDay(Yt,Br)),tt[oa.range_end]=!!(Br&&zr&&s.isSameDay(Yt,zr)),tt[oa.range_middle]=Qa(me,Yt,!0,s)}const qe=Rie(tt,S,t.modifiersStyles),ht=mie(tt,c,t.modifiersClassNames),Rt=!H&&!tt.hidden?K(Yt,tt,s.options,s):void 0;return k.createElement(n.Day,{key:`${rt.isoDate}_${rt.displayMonthId}`,day:rt,modifiers:tt,className:ht.join(" "),style:qe,role:"gridcell","aria-selected":tt.selected||void 0,"aria-label":Rt,"data-day":rt.isoDate,"data-month":rt.outside?rt.dateMonthId:void 0,"data-selected":tt.selected||void 0,"data-disabled":tt.disabled||void 0,"data-hidden":tt.hidden||void 0,"data-outside":rt.outside||void 0,"data-focused":tt.focused||void 0,"data-today":tt.today||void 0},!tt.hidden&&H?k.createElement(n.DayButton,{className:c[ke.DayButton],style:S?.[ke.DayButton],type:"button",day:rt,modifiers:tt,disabled:!tt.focused&&tt.disabled||void 0,"aria-disabled":tt.focused&&tt.disabled||void 0,tabIndex:Se(rt)?0:-1,"aria-label":Q(Yt,tt,s.options,s),onClick:ne(rt,tt),onBlur:le(rt,tt),onFocus:B(rt,tt),onKeyDown:ge(rt,tt),onMouseEnter:Oe(rt,tt),onMouseLeave:Ze(rt,tt)},T(Yt,s.options,s)):!tt.hidden&&T(rt.date,s.options,s))})))))))),t.footer&&k.createElement(n.Footer,{className:c[ke.Footer],style:S?.[ke.Footer],role:"status","aria-live":"polite"},t.footer)))}function ya({className:e,classNames:t,showOutsideDays:r=!0,...n}){return o.jsx(sse,{showOutsideDays:r,className:J("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:J(gu({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:J(gu({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>o.jsx(lD,{className:"h-4 w-4"}),IconRight:({...a})=>o.jsx(Im,{className:"h-4 w-4"})},...n})}ya.displayName="Calendar";function as(){const{user:e}=vt(),t=va(),{data:r=[],isLoading:n,isError:a,error:i}=Gi({queryKey:["reminders",e?.id],queryFn:async()=>{if(!e?.id)return[];const{data:d,error:f}=await ie.from("reminders").select(`
          *,
          categories (
            id,
            name,
            icon,
            color
          ),
          payment_methods (
            id,
            name,
            icon,
            color
          )
        `).eq("user_id",e.id).order("due_date",{ascending:!0});if(f)throw f;return d},enabled:!!e?.id}),s=Dr({mutationFn:async d=>{if(!e?.id)throw new Error("User not authenticated");const{data:f,error:h}=await ie.from("reminders").insert({...d,user_id:e.id}).select().single();if(h)throw h;return f},onSuccess:()=>{t.invalidateQueries({queryKey:["reminders"]})},onError:d=>{W.error("Errore durante l'aggiunta del promemoria"),console.error("Add reminder error:",d)}}),l=Dr({mutationFn:async({id:d,...f})=>{const{data:h,error:m}=await ie.from("reminders").update(f).eq("id",d).select().single();if(m)throw m;return h},onSuccess:()=>{t.invalidateQueries({queryKey:["reminders"]})},onError:d=>{W.error("Errore durante l'aggiornamento del promemoria"),console.error("Update reminder error:",d)}}),c=Dr({mutationFn:async d=>{const{error:f}=await ie.from("reminders").delete().eq("id",d);if(f)throw f},onSuccess:()=>{t.invalidateQueries({queryKey:["reminders"]})},onError:d=>{W.error("Errore durante l'eliminazione del promemoria"),console.error("Delete reminder error:",d)}}),u=Dr({mutationFn:async({id:d,completed:f})=>{const{data:h,error:m}=await ie.from("reminders").update({completed:f}).eq("id",d).select().single();if(m)throw m;return h},onSuccess:()=>{t.invalidateQueries({queryKey:["reminders"]})},onError:d=>{W.error("Errore durante l'aggiornamento dello stato"),console.error("Toggle completed error:",d)}});return{reminders:r,isLoading:n,isError:a,error:i,addReminder:s,updateReminder:l,deleteReminder:c,toggleCompleted:u}}function qa(){const{user:e}=vt(),t=va(),{data:r=[],isLoading:n}=Gi({queryKey:["transactions",e?.id],queryFn:async()=>{const{data:l,error:c}=await ie.from("transactions").select(`
          *,
          categories (
            id,
            name,
            icon,
            color
          ),
          payment_methods (
            id,
            name,
            icon,
            color
          )
        `).order("date",{ascending:!1});if(c)throw c;return l},enabled:!!e}),a=Dr({mutationFn:async l=>{const{data:c,error:u}=await ie.from("transactions").insert({...l,user_id:e?.id}).select().single();if(u)throw u;return c},onSuccess:()=>{t.invalidateQueries({queryKey:["transactions"]})}}),i=Dr({mutationFn:async({id:l,...c})=>{const{data:u,error:d}=await ie.from("transactions").update(c).eq("id",l).select().single();if(d)throw d;return u},onSuccess:()=>{t.invalidateQueries({queryKey:["transactions"]})}}),s=Dr({mutationFn:async l=>{const{error:c}=await ie.from("transactions").delete().eq("id",l);if(c)throw c},onSuccess:()=>{t.invalidateQueries({queryKey:["transactions"]})}});return{transactions:r,isLoading:n,addTransaction:a,updateTransaction:i,deleteTransaction:s}}var Dd=e=>e.type==="checkbox",ks=e=>e instanceof Date,Qr=e=>e==null;const s4=e=>typeof e=="object";var hr=e=>!Qr(e)&&!Array.isArray(e)&&s4(e)&&!ks(e),o4=e=>hr(e)&&e.target?Dd(e.target)?e.target.checked:e.target.value:e,ose=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,l4=(e,t)=>e.has(ose(t)),lse=e=>{const t=e.constructor&&e.constructor.prototype;return hr(t)&&t.hasOwnProperty("isPrototypeOf")},pj=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function or(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(pj&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(hr(e)&&lse(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=or(e[a]));return n}var up=e=>/^\w*$/.test(e),zt=e=>e===void 0,gj=e=>Array.isArray(e)?e.filter(Boolean):[],yj=e=>gj(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ve=(e,t,r)=>{if(!t||!hr(e))return r;const n=(up(t)?[t]:yj(t)).reduce((a,i)=>Qr(a)?a:a[i],e);return zt(n)||n===e?zt(e[t])?r:e[t]:n},on=e=>typeof e=="boolean",Hr=e=>typeof e=="function",xt=(e,t,r)=>{let n=-1;const a=up(t)?[t]:yj(t),i=a.length,s=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==s){const u=e[l];c=hr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const wh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},na={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ya={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vj=k.createContext(null);vj.displayName="HookFormControlContext";const xj=()=>k.useContext(vj);var c4=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const s=i;return t._proxyFormState[s]!==na.all&&(t._proxyFormState[s]=!n||na.all),r&&(r[s]=!0),e[s]}});return a};const bj=typeof window<"u"?k.useLayoutEffect:k.useEffect;function cse(e){const t=xj(),{control:r=t,disabled:n,name:a,exact:i}=e||{},[s,l]=k.useState(r._formState),c=k.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return bj(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),k.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),k.useMemo(()=>c4(s,r,c.current,!1),[s,r])}var un=e=>typeof e=="string",hw=(e,t,r,n,a)=>un(e)?(n&&t.watch.add(e),ve(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),ve(r,i))):(n&&(t.watchAll=!0),r),mw=e=>Qr(e)||!s4(e);function aa(e,t,r=new WeakSet){if(mw(e)||mw(t))return Object.is(e,t);if(ks(e)&&ks(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const s=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(ks(s)&&ks(l)||hr(s)&&hr(l)||Array.isArray(s)&&Array.isArray(l)?!aa(s,l,r):!Object.is(s,l))return!1}}return!0}function use(e){const t=xj(),{control:r=t,name:n,defaultValue:a,disabled:i,exact:s,compute:l}=e||{},c=k.useRef(a),u=k.useRef(l),d=k.useRef(void 0),f=k.useRef(r),h=k.useRef(n);u.current=l;const[m,v]=k.useState(()=>{const j=r._getWatch(n,c.current);return u.current?u.current(j):j}),g=k.useCallback(j=>{const _=hw(n,r._names,j||r._formValues,!1,c.current);return u.current?u.current(_):_},[r._formValues,r._names,n]),y=k.useCallback(j=>{if(!i){const _=hw(n,r._names,j||r._formValues,!1,c.current);if(u.current){const S=u.current(_);aa(S,d.current)||(v(S),d.current=S)}else v(_)}},[r._formValues,r._names,i,n]);bj(()=>((f.current!==r||!aa(h.current,n))&&(f.current=r,h.current=n,y()),r._subscribe({name:n,formState:{values:!0},exact:s,callback:j=>{y(j.values)}})),[r,s,n,y]),k.useEffect(()=>r._removeUnmounted());const x=f.current!==r,b=h.current,w=k.useMemo(()=>{if(i)return null;const j=!x&&!aa(b,n);return x||j?g():null},[i,x,n,b,g]);return w!==null?w:m}function dse(e){const t=xj(),{name:r,disabled:n,control:a=t,shouldUnregister:i,defaultValue:s,exact:l=!0}=e,c=l4(a._names.array,r),u=k.useMemo(()=>ve(a._formValues,r,ve(a._defaultValues,r,s)),[a,r,s]),d=use({control:a,name:r,defaultValue:u,exact:l}),f=cse({control:a,name:r,exact:l}),h=k.useRef(e),m=k.useRef(void 0),v=k.useRef(a.register(r,{...e.rules,value:d,...on(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const g=k.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ve(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!ve(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ve(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ve(f.validatingFields,r)},error:{enumerable:!0,get:()=>ve(f.errors,r)}}),[f,r]),y=k.useCallback(j=>v.current.onChange({target:{value:o4(j),name:r},type:wh.CHANGE}),[r]),x=k.useCallback(()=>v.current.onBlur({target:{value:ve(a._formValues,r),name:r},type:wh.BLUR}),[r,a._formValues]),b=k.useCallback(j=>{const _=ve(a._fields,r);_&&_._f&&j&&(_._f.ref={focus:()=>Hr(j.focus)&&j.focus(),select:()=>Hr(j.select)&&j.select(),setCustomValidity:S=>Hr(j.setCustomValidity)&&j.setCustomValidity(S),reportValidity:()=>Hr(j.reportValidity)&&j.reportValidity()})},[a._fields,r]),w=k.useMemo(()=>({name:r,value:d,...on(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:y,onBlur:x,ref:b}),[r,n,f.disabled,y,x,b,d]);return k.useEffect(()=>{const j=a._options.shouldUnregister||i,_=m.current;_&&_!==r&&!c&&a.unregister(_),a.register(r,{...h.current.rules,...on(h.current.disabled)?{disabled:h.current.disabled}:{}});const S=(N,T)=>{const C=ve(a._fields,N);C&&C._f&&(C._f.mount=T)};if(S(r,!0),j){const N=or(ve(a._options.defaultValues,r,h.current.defaultValue));xt(a._defaultValues,r,N),zt(ve(a._formValues,r))&&xt(a._formValues,r,N)}return!c&&a.register(r),m.current=r,()=>{(c?j&&!a._state.action:j)?a.unregister(r):S(r,!1)}},[r,a,c,i]),k.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),k.useMemo(()=>({field:w,formState:f,fieldState:g}),[w,f,g])}const fse=e=>e.render(dse(e)),wj=k.createContext(null);wj.displayName="HookFormContext";const hse=()=>k.useContext(wj),mse=e=>{const{children:t,watch:r,getValues:n,getFieldState:a,setError:i,clearErrors:s,setValue:l,trigger:c,formState:u,resetField:d,reset:f,handleSubmit:h,unregister:m,control:v,register:g,setFocus:y,subscribe:x}=e;return k.createElement(wj.Provider,{value:k.useMemo(()=>({watch:r,getValues:n,getFieldState:a,setError:i,clearErrors:s,setValue:l,trigger:c,formState:u,resetField:d,reset:f,handleSubmit:h,unregister:m,control:v,register:g,setFocus:y,subscribe:x}),[s,v,u,a,n,h,g,f,d,i,y,l,x,c,m,r])},k.createElement(vj.Provider,{value:v},t))};var u4=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Wc=e=>Array.isArray(e)?e:[e],oE=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function d4(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],i=t[n];if(a&&hr(a)&&i){const s=d4(a,i);hr(s)&&(r[n]=s)}else e[n]&&(r[n]=i)}return r}var Ur=e=>hr(e)&&!Object.keys(e).length,_j=e=>e.type==="file",_h=e=>{if(!pj)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},f4=e=>e.type==="select-multiple",jj=e=>e.type==="radio",pse=e=>jj(e)||Dd(e),sy=e=>_h(e)&&e.isConnected;function gse(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=zt(e)?n++:e[t[n++]];return e}function yse(e){for(const t in e)if(e.hasOwnProperty(t)&&!zt(e[t]))return!1;return!0}function lr(e,t){const r=Array.isArray(t)?t:up(t)?[t]:yj(t),n=r.length===1?e:gse(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(hr(n)&&Ur(n)||Array.isArray(n)&&yse(n))&&lr(e,r.slice(0,-1)),e}var vse=e=>{for(const t in e)if(Hr(e[t]))return!0;return!1};function h4(e){return Array.isArray(e)||hr(e)&&!vse(e)}function pw(e,t={}){for(const r in e){const n=e[r];h4(n)?(t[r]=Array.isArray(n)?[]:{},pw(n,t[r])):zt(n)||(t[r]=!0)}return t}function $o(e,t,r){r||(r=pw(t));for(const n in e){const a=e[n];if(h4(a))zt(t)||mw(r[n])?r[n]=pw(a,Array.isArray(a)?[]:{}):$o(a,Qr(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!aa(a,i)}}return r}const lE={value:!1,isValid:!1},cE={value:!0,isValid:!0};var m4=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!zt(e[0].attributes.value)?zt(e[0].value)||e[0].value===""?cE:{value:e[0].value,isValid:!0}:cE:lE}return lE},p4=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>zt(e)?e:t?e===""?NaN:e&&+e:r&&un(e)?new Date(e):n?n(e):e;const uE={isValid:!1,value:null};var g4=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,uE):uE;function dE(e){const t=e.ref;return _j(t)?t.files:jj(t)?g4(e.refs).value:f4(t)?[...t.selectedOptions].map(({value:r})=>r):Dd(t)?m4(e.refs).value:p4(zt(t.value)?e.ref.value:t.value,e)}var xse=(e,t,r,n)=>{const a={};for(const i of e){const s=ve(t,i);s&&xt(a,i,s._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},jh=e=>e instanceof RegExp,yc=e=>zt(e)?e:jh(e)?e.source:hr(e)?jh(e.value)?e.value.source:e.value:e,fE=e=>({isOnSubmit:!e||e===na.onSubmit,isOnBlur:e===na.onBlur,isOnChange:e===na.onChange,isOnAll:e===na.all,isOnTouch:e===na.onTouched});const hE="AsyncFunction";var bse=e=>!!e&&!!e.validate&&!!(Hr(e.validate)&&e.validate.constructor.name===hE||hr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===hE)),wse=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),mE=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Hc=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=ve(e,a);if(i){const{_f:s,...l}=i;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],a)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if(Hc(l,t))break}else if(hr(l)&&Hc(l,t))break}}};function pE(e,t,r){const n=ve(e,r);if(n||up(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),s=ve(t,i),l=ve(e,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var _se=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Ur(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(s=>t[s]===(!n||na.all))},jse=(e,t,r)=>!e||!t||e===t||Wc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Sse=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,Nse=(e,t)=>!gj(ve(e,t)).length&&lr(e,t),Cse=(e,t,r)=>{const n=Wc(ve(e,r));return xt(n,"root",t[r]),xt(e,r,n),e};function gE(e,t,r="validate"){if(un(e)||Array.isArray(e)&&e.every(un)||on(e)&&!e)return{type:r,message:un(e)?e:"",ref:t}}var Co=e=>hr(e)&&!jh(e)?e:{value:e,message:""},yE=async(e,t,r,n,a,i)=>{const{ref:s,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:v,name:g,valueAsNumber:y,mount:x}=e._f,b=ve(r,g);if(!x||t.has(g))return{};const w=l?l[0]:s,j=E=>{a&&w.reportValidity&&(w.setCustomValidity(on(E)?"":E||""),w.reportValidity())},_={},S=jj(s),N=Dd(s),T=S||N,C=(y||_j(s))&&zt(s.value)&&zt(b)||_h(s)&&s.value===""||b===""||Array.isArray(b)&&!b.length,A=u4.bind(null,g,n,_),P=(E,R,O,M=Ya.maxLength,D=Ya.minLength)=>{const I=E?R:O;_[g]={type:E?M:D,message:I,ref:s,...A(E?M:D,I)}};if(i?!Array.isArray(b)||!b.length:c&&(!T&&(C||Qr(b))||on(b)&&!b||N&&!m4(l).isValid||S&&!g4(l).isValid)){const{value:E,message:R}=un(c)?{value:!!c,message:c}:Co(c);if(E&&(_[g]={type:Ya.required,message:R,ref:w,...A(Ya.required,R)},!n))return j(R),_}if(!C&&(!Qr(f)||!Qr(h))){let E,R;const O=Co(h),M=Co(f);if(!Qr(b)&&!isNaN(b)){const D=s.valueAsNumber||b&&+b;Qr(O.value)||(E=D>O.value),Qr(M.value)||(R=D<M.value)}else{const D=s.valueAsDate||new Date(b),I=V=>new Date(new Date().toDateString()+" "+V),F=s.type=="time",$=s.type=="week";un(O.value)&&b&&(E=F?I(b)>I(O.value):$?b>O.value:D>new Date(O.value)),un(M.value)&&b&&(R=F?I(b)<I(M.value):$?b<M.value:D<new Date(M.value))}if((E||R)&&(P(!!E,O.message,M.message,Ya.max,Ya.min),!n))return j(_[g].message),_}if((u||d)&&!C&&(un(b)||i&&Array.isArray(b))){const E=Co(u),R=Co(d),O=!Qr(E.value)&&b.length>+E.value,M=!Qr(R.value)&&b.length<+R.value;if((O||M)&&(P(O,E.message,R.message),!n))return j(_[g].message),_}if(m&&!C&&un(b)){const{value:E,message:R}=Co(m);if(jh(E)&&!b.match(E)&&(_[g]={type:Ya.pattern,message:R,ref:s,...A(Ya.pattern,R)},!n))return j(R),_}if(v){if(Hr(v)){const E=await v(b,r),R=gE(E,w);if(R&&(_[g]={...R,...A(Ya.validate,R.message)},!n))return j(R.message),_}else if(hr(v)){let E={};for(const R in v){if(!Ur(E)&&!n)break;const O=gE(await v[R](b,r),w,R);O&&(E={...O,...A(R,O.message)},j(O.message),n&&(_[g]=E))}if(!Ur(E)&&(_[g]={ref:w,...E},!n))return _}}return j(!0),_};const Tse={mode:na.onSubmit,reValidateMode:na.onChange,shouldFocusError:!0};function Ese(e={}){let t={...Tse,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Hr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=hr(t.defaultValues)||hr(t.values)?or(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:or(a),s={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const m={array:oE(),state:oE()},v=t.criteriaMode===na.all,g=L=>U=>{clearTimeout(u),u=setTimeout(L,U)},y=async L=>{if(!s.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||L)){let U;t.resolver?(U=Ur((await T()).errors),x()):U=await A(n,!0),U!==r.isValid&&m.state.next({isValid:U})}},x=(L,U)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((L||Array.from(l.mount)).forEach(H=>{H&&(U?xt(r.validatingFields,H,U):lr(r.validatingFields,H))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Ur(r.validatingFields)}))},b=(L,U=[],H,fe,de=!0,ne=!0)=>{if(fe&&H&&!t.disabled){if(s.action=!0,ne&&Array.isArray(ve(n,L))){const B=H(ve(n,L),fe.argA,fe.argB);de&&xt(n,L,B)}if(ne&&Array.isArray(ve(r.errors,L))){const B=H(ve(r.errors,L),fe.argA,fe.argB);de&&xt(r.errors,L,B),Nse(r.errors,L)}if((f.touchedFields||h.touchedFields)&&ne&&Array.isArray(ve(r.touchedFields,L))){const B=H(ve(r.touchedFields,L),fe.argA,fe.argB);de&&xt(r.touchedFields,L,B)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=$o(a,i)),m.state.next({name:L,isDirty:E(L,U),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else xt(i,L,U)},w=(L,U)=>{xt(r.errors,L,U),m.state.next({errors:r.errors})},j=L=>{r.errors=L,m.state.next({errors:r.errors,isValid:!1})},_=(L,U,H,fe)=>{const de=ve(n,L);if(de){const ne=ve(i,L,zt(H)?ve(a,L):H);zt(ne)||fe&&fe.defaultChecked||U?xt(i,L,U?ne:dE(de._f)):M(L,ne),s.mount&&!s.action&&y()}},S=(L,U,H,fe,de)=>{let ne=!1,B=!1;const le={name:L};if(!t.disabled){if(!H||fe){(f.isDirty||h.isDirty)&&(B=r.isDirty,r.isDirty=le.isDirty=E(),ne=B!==le.isDirty);const ge=aa(ve(a,L),U);B=!!ve(r.dirtyFields,L),ge?lr(r.dirtyFields,L):xt(r.dirtyFields,L,!0),le.dirtyFields=r.dirtyFields,ne=ne||(f.dirtyFields||h.dirtyFields)&&B!==!ge}if(H){const ge=ve(r.touchedFields,L);ge||(xt(r.touchedFields,L,H),le.touchedFields=r.touchedFields,ne=ne||(f.touchedFields||h.touchedFields)&&ge!==H)}ne&&de&&m.state.next(le)}return ne?le:{}},N=(L,U,H,fe)=>{const de=ve(r.errors,L),ne=(f.isValid||h.isValid)&&on(U)&&r.isValid!==U;if(t.delayError&&H?(c=g(()=>w(L,H)),c(t.delayError)):(clearTimeout(u),c=null,H?xt(r.errors,L,H):lr(r.errors,L)),(H?!aa(de,H):de)||!Ur(fe)||ne){const B={...fe,...ne&&on(U)?{isValid:U}:{},errors:r.errors,name:L};r={...r,...B},m.state.next(B)}},T=async L=>(x(L,!0),await t.resolver(i,t.context,xse(L||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),C=async L=>{const{errors:U}=await T(L);if(x(L),L)for(const H of L){const fe=ve(U,H);fe?xt(r.errors,H,fe):lr(r.errors,H)}else r.errors=U;return U},A=async(L,U,H={valid:!0})=>{for(const fe in L){const de=L[fe];if(de){const{_f:ne,...B}=de;if(ne){const le=l.array.has(ne.name),ge=de._f&&bse(de._f);ge&&f.validatingFields&&x([ne.name],!0);const Oe=await yE(de,l.disabled,i,v,t.shouldUseNativeValidation&&!U,le);if(ge&&f.validatingFields&&x([ne.name]),Oe[ne.name]&&(H.valid=!1,U||e.shouldUseNativeValidation))break;!U&&(ve(Oe,ne.name)?le?Cse(r.errors,Oe,ne.name):xt(r.errors,ne.name,Oe[ne.name]):lr(r.errors,ne.name))}!Ur(B)&&await A(B,U,H)}}return H.valid},P=()=>{for(const L of l.unMount){const U=ve(n,L);U&&(U._f.refs?U._f.refs.every(H=>!sy(H)):!sy(U._f.ref))&&Se(L)}l.unMount=new Set},E=(L,U)=>!t.disabled&&(L&&U&&xt(i,L,U),!aa(X(),a)),R=(L,U,H)=>hw(L,l,{...s.mount?i:zt(U)?a:un(L)?{[L]:U}:U},H,U),O=L=>gj(ve(s.mount?i:a,L,t.shouldUnregister?ve(a,L,[]):[])),M=(L,U,H={})=>{const fe=ve(n,L);let de=U;if(fe){const ne=fe._f;ne&&(!ne.disabled&&xt(i,L,p4(U,ne)),de=_h(ne.ref)&&Qr(U)?"":U,f4(ne.ref)?[...ne.ref.options].forEach(B=>B.selected=de.includes(B.value)):ne.refs?Dd(ne.ref)?ne.refs.forEach(B=>{(!B.defaultChecked||!B.disabled)&&(Array.isArray(de)?B.checked=!!de.find(le=>le===B.value):B.checked=de===B.value||!!de)}):ne.refs.forEach(B=>B.checked=B.value===de):_j(ne.ref)?ne.ref.value="":(ne.ref.value=de,ne.ref.type||m.state.next({name:L,values:or(i)})))}(H.shouldDirty||H.shouldTouch)&&S(L,de,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&V(L)},D=(L,U,H)=>{for(const fe in U){if(!U.hasOwnProperty(fe))return;const de=U[fe],ne=L+"."+fe,B=ve(n,ne);(l.array.has(L)||hr(de)||B&&!B._f)&&!ks(de)?D(ne,de,H):M(ne,de,H)}},I=(L,U,H={})=>{const fe=ve(n,L),de=l.array.has(L),ne=or(U);xt(i,L,ne),de?(m.array.next({name:L,values:or(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&H.shouldDirty&&m.state.next({name:L,dirtyFields:$o(a,i),isDirty:E(L,ne)})):fe&&!fe._f&&!Qr(ne)?D(L,ne,H):M(L,ne,H),mE(L,l)?m.state.next({...r,name:L,values:or(i)}):m.state.next({name:s.mount?L:void 0,values:or(i)})},F=async L=>{s.mount=!0;const U=L.target;let H=U.name,fe=!0;const de=ve(n,H),ne=ge=>{fe=Number.isNaN(ge)||ks(ge)&&isNaN(ge.getTime())||aa(ge,ve(i,H,ge))},B=fE(t.mode),le=fE(t.reValidateMode);if(de){let ge,Oe;const Ze=U.type?dE(de._f):o4(L),Be=L.type===wh.BLUR||L.type===wh.FOCUS_OUT,Kt=!wse(de._f)&&!t.resolver&&!ve(r.errors,H)&&!de._f.deps||Sse(Be,ve(r.touchedFields,H),r.isSubmitted,le,B),Ct=mE(H,l,Be);xt(i,H,Ze),Be?(!U||!U.readOnly)&&(de._f.onBlur&&de._f.onBlur(L),c&&c(0)):de._f.onChange&&de._f.onChange(L);const _i=S(H,Ze,Be),wa=!Ur(_i)||Ct;if(!Be&&m.state.next({name:H,type:L.type,values:or(i)}),Kt)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Be&&y():Be||y()),wa&&m.state.next({name:H,...Ct?{}:_i});if(!Be&&Ct&&m.state.next({...r}),t.resolver){const{errors:hs}=await T([H]);if(x([H]),ne(Ze),fe){const lc=pE(r.errors,n,H),Ve=pE(hs,n,lc.name||H);ge=Ve.error,H=Ve.name,Oe=Ur(hs)}}else x([H],!0),ge=(await yE(de,l.disabled,i,v,t.shouldUseNativeValidation))[H],x([H]),ne(Ze),fe&&(ge?Oe=!1:(f.isValid||h.isValid)&&(Oe=await A(n,!0)));fe&&(de._f.deps&&(!Array.isArray(de._f.deps)||de._f.deps.length>0)&&V(de._f.deps),N(H,Oe,ge,_i))}},$=(L,U)=>{if(ve(r.errors,U)&&L.focus)return L.focus(),1},V=async(L,U={})=>{let H,fe;const de=Wc(L);if(t.resolver){const ne=await C(zt(L)?L:de);H=Ur(ne),fe=L?!de.some(B=>ve(ne,B)):H}else L?(fe=(await Promise.all(de.map(async ne=>{const B=ve(n,ne);return await A(B&&B._f?{[ne]:B}:B)}))).every(Boolean),!(!fe&&!r.isValid)&&y()):fe=H=await A(n);return m.state.next({...!un(L)||(f.isValid||h.isValid)&&H!==r.isValid?{}:{name:L},...t.resolver||!L?{isValid:H}:{},errors:r.errors}),U.shouldFocus&&!fe&&Hc(n,$,L?de:l.mount),fe},X=(L,U)=>{let H={...s.mount?i:a};return U&&(H=d4(U.dirtyFields?r.dirtyFields:r.touchedFields,H)),zt(L)?H:un(L)?ve(H,L):L.map(fe=>ve(H,fe))},Y=(L,U)=>({invalid:!!ve((U||r).errors,L),isDirty:!!ve((U||r).dirtyFields,L),error:ve((U||r).errors,L),isValidating:!!ve(r.validatingFields,L),isTouched:!!ve((U||r).touchedFields,L)}),q=L=>{L&&Wc(L).forEach(U=>lr(r.errors,U)),m.state.next({errors:L?r.errors:{}})},oe=(L,U,H)=>{const fe=(ve(n,L,{_f:{}})._f||{}).ref,de=ve(r.errors,L)||{},{ref:ne,message:B,type:le,...ge}=de;xt(r.errors,L,{...ge,...U,ref:fe}),m.state.next({name:L,errors:r.errors,isValid:!1}),H&&H.shouldFocus&&fe&&fe.focus&&fe.focus()},me=(L,U)=>Hr(L)?m.state.subscribe({next:H=>"values"in H&&L(R(void 0,U),H)}):R(L,U,!0),xe=L=>m.state.subscribe({next:U=>{jse(L.name,U.name,L.exact)&&_se(U,L.formState||f,Ie,L.reRenderRoot)&&L.callback({values:{...i},...r,...U,defaultValues:a})}}).unsubscribe,te=L=>(s.mount=!0,h={...h,...L.formState},xe({...L,formState:{...d,...L.formState}})),Se=(L,U={})=>{for(const H of L?Wc(L):l.mount)l.mount.delete(H),l.array.delete(H),U.keepValue||(lr(n,H),lr(i,H)),!U.keepError&&lr(r.errors,H),!U.keepDirty&&lr(r.dirtyFields,H),!U.keepTouched&&lr(r.touchedFields,H),!U.keepIsValidating&&lr(r.validatingFields,H),!t.shouldUnregister&&!U.keepDefaultValue&&lr(a,H);m.state.next({values:or(i)}),m.state.next({...r,...U.keepDirty?{isDirty:E()}:{}}),!U.keepIsValid&&y()},re=({disabled:L,name:U})=>{if(on(L)&&s.mount||L||l.disabled.has(U)){const de=l.disabled.has(U)!==!!L;L?l.disabled.add(U):l.disabled.delete(U),de&&s.mount&&!s.action&&y()}},ae=(L,U={})=>{let H=ve(n,L);const fe=on(U.disabled)||on(t.disabled);return xt(n,L,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:L}},name:L,mount:!0,...U}}),l.mount.add(L),H?re({disabled:on(U.disabled)?U.disabled:t.disabled,name:L}):_(L,!0,U.value),{...fe?{disabled:U.disabled||t.disabled}:{},...t.progressive?{required:!!U.required,min:yc(U.min),max:yc(U.max),minLength:yc(U.minLength),maxLength:yc(U.maxLength),pattern:yc(U.pattern)}:{},name:L,onChange:F,onBlur:F,ref:de=>{if(de){ae(L,U),H=ve(n,L);const ne=zt(de.value)&&de.querySelectorAll&&de.querySelectorAll("input,select,textarea")[0]||de,B=pse(ne),le=H._f.refs||[];if(B?le.find(ge=>ge===ne):ne===H._f.ref)return;xt(n,L,{_f:{...H._f,...B?{refs:[...le.filter(sy),ne,...Array.isArray(ve(a,L))?[{}]:[]],ref:{type:ne.type,name:L}}:{ref:ne}}}),_(L,!1,void 0,ne)}else H=ve(n,L,{}),H._f&&(H._f.mount=!1),(t.shouldUnregister||U.shouldUnregister)&&!(l4(l.array,L)&&s.action)&&l.unMount.add(L)}}},Q=()=>t.shouldFocusError&&Hc(n,$,l.mount),K=L=>{on(L)&&(m.state.next({disabled:L}),Hc(n,(U,H)=>{const fe=ve(n,H);fe&&(U.disabled=fe._f.disabled||L,Array.isArray(fe._f.refs)&&fe._f.refs.forEach(de=>{de.disabled=fe._f.disabled||L}))},0,!1))},Te=(L,U)=>async H=>{let fe;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let de=or(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:ne,values:B}=await T();x(),r.errors=ne,de=or(B)}else await A(n);if(l.disabled.size)for(const ne of l.disabled)lr(de,ne);if(lr(r.errors,"root"),Ur(r.errors)){m.state.next({errors:{}});try{await L(de,H)}catch(ne){fe=ne}}else U&&await U({...r.errors},H),Q(),setTimeout(Q);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ur(r.errors)&&!fe,submitCount:r.submitCount+1,errors:r.errors}),fe)throw fe},Z=(L,U={})=>{ve(n,L)&&(zt(U.defaultValue)?I(L,or(ve(a,L))):(I(L,U.defaultValue),xt(a,L,or(U.defaultValue))),U.keepTouched||lr(r.touchedFields,L),U.keepDirty||(lr(r.dirtyFields,L),r.isDirty=U.defaultValue?E(L,or(ve(a,L))):E()),U.keepError||(lr(r.errors,L),f.isValid&&y()),m.state.next({...r}))},G=(L,U={})=>{const H=L?or(L):a,fe=or(H),de=Ur(L),ne=de?a:fe;if(U.keepDefaultValues||(a=H),!U.keepValues){if(U.keepDirtyValues){const B=new Set([...l.mount,...Object.keys($o(a,i))]);for(const le of Array.from(B)){const ge=ve(r.dirtyFields,le),Oe=ve(i,le),Ze=ve(ne,le);ge&&!zt(Oe)?xt(ne,le,Oe):!ge&&!zt(Ze)&&I(le,Ze)}}else{if(pj&&zt(L))for(const B of l.mount){const le=ve(n,B);if(le&&le._f){const ge=Array.isArray(le._f.refs)?le._f.refs[0]:le._f.ref;if(_h(ge)){const Oe=ge.closest("form");if(Oe){Oe.reset();break}}}}if(U.keepFieldsRef)for(const B of l.mount)I(B,ve(ne,B));else n={}}i=t.shouldUnregister?U.keepDefaultValues?or(a):{}:or(ne),m.array.next({values:{...ne}}),m.state.next({values:{...ne}})}l={mount:U.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!f.isValid||!!U.keepIsValid||!!U.keepDirtyValues||!t.shouldUnregister&&!Ur(ne),s.watch=!!t.shouldUnregister,s.keepIsValid=!!U.keepIsValid,s.action=!1,U.keepErrors||(r.errors={}),m.state.next({submitCount:U.keepSubmitCount?r.submitCount:0,isDirty:de?!1:U.keepDirty?r.isDirty:!!(U.keepDefaultValues&&!aa(L,a)),isSubmitted:U.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:de?{}:U.keepDirtyValues?U.keepDefaultValues&&i?$o(a,i):r.dirtyFields:U.keepDefaultValues&&L?$o(a,L):U.keepDirty?r.dirtyFields:{},touchedFields:U.keepTouched?r.touchedFields:{},errors:U.keepErrors?r.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},se=(L,U)=>G(Hr(L)?L(i):L,{...t.resetOptions,...U}),be=(L,U={})=>{const H=ve(n,L),fe=H&&H._f;if(fe){const de=fe.refs?fe.refs[0]:fe.ref;de.focus&&setTimeout(()=>{de.focus(),U.shouldSelect&&Hr(de.select)&&de.select()})}},Ie=L=>{r={...r,...L}},et={control:{register:ae,unregister:Se,getFieldState:Y,handleSubmit:Te,setError:oe,_subscribe:xe,_runSchema:T,_updateIsValidating:x,_focusError:Q,_getWatch:R,_getDirty:E,_setValid:y,_setFieldArray:b,_setDisabledField:re,_setErrors:j,_getFieldArray:O,_reset:G,_resetDefaultValues:()=>Hr(t.defaultValues)&&t.defaultValues().then(L=>{se(L,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:K,_subjects:m,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return s},set _state(L){s=L},get _defaultValues(){return a},get _names(){return l},set _names(L){l=L},get _formState(){return r},get _options(){return t},set _options(L){t={...t,...L}}},subscribe:te,trigger:V,register:ae,handleSubmit:Te,watch:me,setValue:I,getValues:X,reset:se,resetField:Z,clearErrors:q,unregister:Se,setError:oe,setFocus:be,getFieldState:Y};return{...et,formControl:et}}function dp(e={}){const t=k.useRef(void 0),r=k.useRef(void 0),[n,a]=k.useState({isDirty:!1,isValidating:!1,isLoading:Hr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Hr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Hr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...l}=Ese(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,bj(()=>{const s=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,s},[i]),k.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),k.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),k.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),k.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),k.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==n.isDirty&&i._subjects.state.next({isDirty:s})}},[i,n.isDirty]),k.useEffect(()=>{var s;e.values&&!aa(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((s=i._options.resetOptions)===null||s===void 0)&&s.keepIsValid||i._setValid(),r.current=e.values,a(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),k.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=k.useMemo(()=>c4(n,i),[i,n]),t.current}const vE=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ve(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},y4=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?vE(n.ref,r,e):n.refs&&n.refs.forEach(a=>vE(a,r,e))}},Ase=(e,t)=>{t.shouldUseNativeValidation&&y4(e,t);const r={};for(const n in e){const a=ve(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(Pse(t.names||Object.keys(e),n)){const s=Object.assign({},ve(r,n));xt(s,"root",i),xt(r,n,s)}else xt(r,n,i)}return r},Pse=(e,t)=>e.some(r=>r.startsWith(t+"."));var Ose=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[s]={message:l.message,type:l.code}}else r[s]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[s].types,u=c&&c[n.code];r[s]=u4(s,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},fp=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve((function(s,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&y4({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(s){if((function(l){return Array.isArray(l?.errors)})(s))return{values:{},errors:Ase(Ose(s.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw s}))}catch(s){return Promise.reject(s)}}},ot;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),s={};for(const l of i)s[l]=a[l];return e.objectValues(s)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},e.find=(a,i)=>{for(const s of a)if(i(s))return s},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(ot||(ot={}));var xE;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(xE||(xE={}));const Ne=ot.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ki=e=>{switch(typeof e){case"undefined":return Ne.undefined;case"string":return Ne.string;case"number":return Number.isNaN(e)?Ne.nan:Ne.number;case"boolean":return Ne.boolean;case"function":return Ne.function;case"bigint":return Ne.bigint;case"symbol":return Ne.symbol;case"object":return Array.isArray(e)?Ne.array:e===null?Ne.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ne.promise:typeof Map<"u"&&e instanceof Map?Ne.map:typeof Set<"u"&&e instanceof Set?Ne.set:typeof Date<"u"&&e instanceof Date?Ne.date:Ne.object;default:return Ne.unknown}},he=ot.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class di extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let l=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(s))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof di))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ot.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}di.create=e=>new di(e);const gw=(e,t)=>{let r;switch(e.code){case he.invalid_type:e.received===Ne.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case he.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ot.jsonStringifyReplacer)}`;break;case he.unrecognized_keys:r=`Unrecognized key(s) in object: ${ot.joinValues(e.keys,", ")}`;break;case he.invalid_union:r="Invalid input";break;case he.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ot.joinValues(e.options)}`;break;case he.invalid_enum_value:r=`Invalid enum value. Expected ${ot.joinValues(e.options)}, received '${e.received}'`;break;case he.invalid_arguments:r="Invalid function arguments";break;case he.invalid_return_type:r="Invalid function return type";break;case he.invalid_date:r="Invalid date";break;case he.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ot.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case he.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case he.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case he.custom:r="Invalid input";break;case he.invalid_intersection_types:r="Intersection results could not be merged";break;case he.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case he.not_finite:r="Number must be finite";break;default:r=t.defaultError,ot.assertNever(e)}return{message:r}};let kse=gw;function Rse(){return kse}const Mse=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],s={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(s,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function we(e,t){const r=Rse(),n=Mse({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===gw?void 0:gw].filter(a=>!!a)});e.common.issues.push(n)}class Sn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Ge;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,s=await a.value;n.push({key:i,value:s})}return Sn.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return Ge;i.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(n[i.value]=s.value)}return{status:t.value,value:n}}}const Ge=Object.freeze({status:"aborted"}),Oc=e=>({status:"dirty",value:e}),Un=e=>({status:"valid",value:e}),bE=e=>e.status==="aborted",wE=e=>e.status==="dirty",fl=e=>e.status==="valid",Sh=e=>typeof Promise<"u"&&e instanceof Promise;var Ee;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Ee||(Ee={}));class Ji{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _E=(e,t)=>{if(fl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new di(e.common.issues);return this._error=r,this._error}}};function Qe(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(s,l)=>{const{message:c}=e;return s.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:s.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class st{get description(){return this._def.description}_getType(t){return ki(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ki(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Sn,ctx:{common:t.parent.common,data:t.data,parsedType:ki(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Sh(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ki(t)},a=this._parseSync({data:t,path:n.path,parent:n});return _E(n,a)}"~validate"(t){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ki(t)};if(!this["~standard"].async)try{const n=this._parseSync({data:t,path:[],parent:r});return fl(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>fl(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ki(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Sh(a)?a:Promise.resolve(a));return _E(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const s=t(a),l=()=>i.addIssue({code:he.custom,...n(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(l(),!1)):s?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new ml({schema:this,typeName:Ke.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ui.create(this,this._def)}nullable(){return pl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ka.create(this)}promise(){return Th.create(this,this._def)}or(t){return Nh.create([this,t],this._def)}and(t){return Ch.create(this,t,this._def)}transform(t){return new ml({...Qe(this._def),schema:this,typeName:Ke.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new vw({...Qe(this._def),innerType:this,defaultValue:r,typeName:Ke.ZodDefault})}brand(){return new noe({typeName:Ke.ZodBranded,type:this,...Qe(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new xw({...Qe(this._def),innerType:this,catchValue:r,typeName:Ke.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Sj.create(this,t)}readonly(){return bw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Dse=/^c[^\s-]{8,}$/i,Ise=/^[0-9a-z]+$/,$se=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Lse=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Fse=/^[a-z0-9_-]{21}$/i,Bse=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,zse=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Use=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Vse="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let oy;const qse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Wse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Hse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Gse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Kse=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Yse=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,v4="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Xse=new RegExp(`^${v4}$`);function x4(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Zse(e){return new RegExp(`^${x4(e)}$`)}function Jse(e){let t=`${v4}T${x4(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Qse(e,t){return!!((t==="v4"||!t)&&qse.test(e)||(t==="v6"||!t)&&Hse.test(e))}function eoe(e,t){if(!Bse.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function toe(e,t){return!!((t==="v4"||!t)&&Wse.test(e)||(t==="v6"||!t)&&Gse.test(e))}class Fi extends st{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ne.string){const i=this._getOrReturnCtx(t);return we(i,{code:he.invalid_type,expected:Ne.string,received:i.parsedType}),Ge}const n=new Sn;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),we(a,{code:he.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),we(a,{code:he.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const s=t.data.length>i.value,l=t.data.length<i.value;(s||l)&&(a=this._getOrReturnCtx(t,a),s?we(a,{code:he.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&we(a,{code:he.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Use.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"email",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")oy||(oy=new RegExp(Vse,"u")),oy.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"emoji",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Lse.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"uuid",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Fse.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"nanoid",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Dse.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"cuid",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Ise.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"cuid2",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")$se.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"ulid",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),we(a,{validation:"url",code:he.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"regex",code:he.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),we(a,{code:he.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),we(a,{code:he.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),we(a,{code:he.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Jse(i).test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{code:he.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Xse.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{code:he.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Zse(i).test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{code:he.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?zse.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"duration",code:he.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Qse(t.data,i.version)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"ip",code:he.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?eoe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"jwt",code:he.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?toe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"cidr",code:he.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Kse.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"base64",code:he.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Yse.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"base64url",code:he.invalid_string,message:i.message}),n.dirty()):ot.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:he.invalid_string,...Ee.errToObj(n)})}_addCheck(t){return new Fi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ee.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ee.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ee.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ee.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ee.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ee.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ee.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ee.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ee.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ee.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ee.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ee.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ee.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Ee.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Ee.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Ee.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ee.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Ee.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ee.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ee.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ee.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ee.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ee.errToObj(r)})}nonempty(t){return this.min(1,Ee.errToObj(t))}trim(){return new Fi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Fi.create=e=>new Fi({checks:[],typeName:Ke.ZodString,coerce:e?.coerce??!1,...Qe(e)});function roe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),s=Number.parseInt(t.toFixed(a).replace(".",""));return i%s/10**a}class ju extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ne.number){const i=this._getOrReturnCtx(t);return we(i,{code:he.invalid_type,expected:Ne.number,received:i.parsedType}),Ge}let n;const a=new Sn;for(const i of this._def.checks)i.kind==="int"?ot.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),we(n,{code:he.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),we(n,{code:he.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),we(n,{code:he.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?roe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),we(n,{code:he.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),we(n,{code:he.not_finite,message:i.message}),a.dirty()):ot.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ee.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ee.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ee.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ee.toString(r))}setLimit(t,r,n,a){return new ju({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ee.toString(a)}]})}_addCheck(t){return new ju({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ee.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ee.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ee.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ee.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ee.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ee.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ot.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ju.create=e=>new ju({checks:[],typeName:Ke.ZodNumber,coerce:e?.coerce||!1,...Qe(e)});class Su extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ne.bigint)return this._getInvalidInput(t);let n;const a=new Sn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),we(n,{code:he.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),we(n,{code:he.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),we(n,{code:he.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):ot.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return we(r,{code:he.invalid_type,expected:Ne.bigint,received:r.parsedType}),Ge}gte(t,r){return this.setLimit("min",t,!0,Ee.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ee.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ee.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ee.toString(r))}setLimit(t,r,n,a){return new Su({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ee.toString(a)}]})}_addCheck(t){return new Su({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ee.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ee.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Su.create=e=>new Su({checks:[],typeName:Ke.ZodBigInt,coerce:e?.coerce??!1,...Qe(e)});class jE extends st{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ne.boolean){const n=this._getOrReturnCtx(t);return we(n,{code:he.invalid_type,expected:Ne.boolean,received:n.parsedType}),Ge}return Un(t.data)}}jE.create=e=>new jE({typeName:Ke.ZodBoolean,coerce:e?.coerce||!1,...Qe(e)});class Nu extends st{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ne.date){const i=this._getOrReturnCtx(t);return we(i,{code:he.invalid_type,expected:Ne.date,received:i.parsedType}),Ge}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return we(i,{code:he.invalid_date}),Ge}const n=new Sn;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),we(a,{code:he.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),we(a,{code:he.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ot.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Nu({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ee.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ee.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Nu.create=e=>new Nu({checks:[],coerce:e?.coerce||!1,typeName:Ke.ZodDate,...Qe(e)});class SE extends st{_parse(t){if(this._getType(t)!==Ne.symbol){const n=this._getOrReturnCtx(t);return we(n,{code:he.invalid_type,expected:Ne.symbol,received:n.parsedType}),Ge}return Un(t.data)}}SE.create=e=>new SE({typeName:Ke.ZodSymbol,...Qe(e)});class NE extends st{_parse(t){if(this._getType(t)!==Ne.undefined){const n=this._getOrReturnCtx(t);return we(n,{code:he.invalid_type,expected:Ne.undefined,received:n.parsedType}),Ge}return Un(t.data)}}NE.create=e=>new NE({typeName:Ke.ZodUndefined,...Qe(e)});class CE extends st{_parse(t){if(this._getType(t)!==Ne.null){const n=this._getOrReturnCtx(t);return we(n,{code:he.invalid_type,expected:Ne.null,received:n.parsedType}),Ge}return Un(t.data)}}CE.create=e=>new CE({typeName:Ke.ZodNull,...Qe(e)});class TE extends st{constructor(){super(...arguments),this._any=!0}_parse(t){return Un(t.data)}}TE.create=e=>new TE({typeName:Ke.ZodAny,...Qe(e)});class EE extends st{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Un(t.data)}}EE.create=e=>new EE({typeName:Ke.ZodUnknown,...Qe(e)});class Qi extends st{_parse(t){const r=this._getOrReturnCtx(t);return we(r,{code:he.invalid_type,expected:Ne.never,received:r.parsedType}),Ge}}Qi.create=e=>new Qi({typeName:Ke.ZodNever,...Qe(e)});class AE extends st{_parse(t){if(this._getType(t)!==Ne.undefined){const n=this._getOrReturnCtx(t);return we(n,{code:he.invalid_type,expected:Ne.void,received:n.parsedType}),Ge}return Un(t.data)}}AE.create=e=>new AE({typeName:Ke.ZodVoid,...Qe(e)});class ka extends st{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ne.array)return we(r,{code:he.invalid_type,expected:Ne.array,received:r.parsedType}),Ge;if(a.exactLength!==null){const s=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(s||l)&&(we(r,{code:s?he.too_big:he.too_small,minimum:l?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(we(r,{code:he.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(we(r,{code:he.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,l)=>a.type._parseAsync(new Ji(r,s,r.path,l)))).then(s=>Sn.mergeArray(n,s));const i=[...r.data].map((s,l)=>a.type._parseSync(new Ji(r,s,r.path,l)));return Sn.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new ka({...this._def,minLength:{value:t,message:Ee.toString(r)}})}max(t,r){return new ka({...this._def,maxLength:{value:t,message:Ee.toString(r)}})}length(t,r){return new ka({...this._def,exactLength:{value:t,message:Ee.toString(r)}})}nonempty(t){return this.min(1,t)}}ka.create=(e,t)=>new ka({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ke.ZodArray,...Qe(t)});function Lo(e){if(e instanceof fr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ui.create(Lo(n))}return new fr({...e._def,shape:()=>t})}else return e instanceof ka?new ka({...e._def,type:Lo(e.element)}):e instanceof Ui?Ui.create(Lo(e.unwrap())):e instanceof pl?pl.create(Lo(e.unwrap())):e instanceof Zs?Zs.create(e.items.map(t=>Lo(t))):e}class fr extends st{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ot.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ne.object){const u=this._getOrReturnCtx(t);return we(u,{code:he.invalid_type,expected:Ne.object,received:u.parsedType}),Ge}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:s}=this._getCached(),l=[];if(!(this._def.catchall instanceof Qi&&this._def.unknownKeys==="strip"))for(const u in a.data)s.includes(u)||l.push(u);const c=[];for(const u of s){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ji(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Qi){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(we(a,{code:he.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ji(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Sn.mergeObjectSync(n,u)):Sn.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ee.errToObj,new fr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{const a=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Ee.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new fr({...this._def,unknownKeys:"strip"})}passthrough(){return new fr({...this._def,unknownKeys:"passthrough"})}extend(t){return new fr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new fr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ke.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new fr({...this._def,catchall:t})}pick(t){const r={};for(const n of ot.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new fr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of ot.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new fr({...this._def,shape:()=>r})}deepPartial(){return Lo(this)}partial(t){const r={};for(const n of ot.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new fr({...this._def,shape:()=>r})}required(t){const r={};for(const n of ot.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Ui;)i=i._def.innerType;r[n]=i}return new fr({...this._def,shape:()=>r})}keyof(){return b4(ot.objectKeys(this.shape))}}fr.create=(e,t)=>new fr({shape:()=>e,unknownKeys:"strip",catchall:Qi.create(),typeName:Ke.ZodObject,...Qe(t)});fr.strictCreate=(e,t)=>new fr({shape:()=>e,unknownKeys:"strict",catchall:Qi.create(),typeName:Ke.ZodObject,...Qe(t)});fr.lazycreate=(e,t)=>new fr({shape:e,unknownKeys:"strip",catchall:Qi.create(),typeName:Ke.ZodObject,...Qe(t)});class Nh extends st{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const s=i.map(l=>new di(l.ctx.common.issues));return we(r,{code:he.invalid_union,unionErrors:s}),Ge}if(r.common.async)return Promise.all(n.map(async i=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=s.map(c=>new di(c));return we(r,{code:he.invalid_union,unionErrors:l}),Ge}}get options(){return this._def.options}}Nh.create=(e,t)=>new Nh({options:e,typeName:Ke.ZodUnion,...Qe(t)});function yw(e,t){const r=ki(e),n=ki(t);if(e===t)return{valid:!0,data:e};if(r===Ne.object&&n===Ne.object){const a=ot.objectKeys(t),i=ot.objectKeys(e).filter(l=>a.indexOf(l)!==-1),s={...e,...t};for(const l of i){const c=yw(e[l],t[l]);if(!c.valid)return{valid:!1};s[l]=c.data}return{valid:!0,data:s}}else if(r===Ne.array&&n===Ne.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const s=e[i],l=t[i],c=yw(s,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ne.date&&n===Ne.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ch extends st{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,s)=>{if(bE(i)||bE(s))return Ge;const l=yw(i.value,s.value);return l.valid?((wE(i)||wE(s))&&r.dirty(),{status:r.value,value:l.data}):(we(n,{code:he.invalid_intersection_types}),Ge)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ch.create=(e,t,r)=>new Ch({left:e,right:t,typeName:Ke.ZodIntersection,...Qe(r)});class Zs extends st{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.array)return we(n,{code:he.invalid_type,expected:Ne.array,received:n.parsedType}),Ge;if(n.data.length<this._def.items.length)return we(n,{code:he.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ge;!this._def.rest&&n.data.length>this._def.items.length&&(we(n,{code:he.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((s,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ji(n,s,n.path,l)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>Sn.mergeArray(r,s)):Sn.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Zs({...this._def,rest:t})}}Zs.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Zs({items:e,typeName:Ke.ZodTuple,rest:null,...Qe(t)})};class PE extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.map)return we(n,{code:he.invalid_type,expected:Ne.map,received:n.parsedType}),Ge;const a=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Ji(n,l,n.path,[u,"key"])),value:i._parse(new Ji(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ge;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of s){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ge;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}PE.create=(e,t,r)=>new PE({valueType:t,keyType:e,typeName:Ke.ZodMap,...Qe(r)});class Cu extends st{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.set)return we(n,{code:he.invalid_type,expected:Ne.set,received:n.parsedType}),Ge;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(we(n,{code:he.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(we(n,{code:he.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function s(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ge;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Ji(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>s(c)):s(l)}min(t,r){return new Cu({...this._def,minSize:{value:t,message:Ee.toString(r)}})}max(t,r){return new Cu({...this._def,maxSize:{value:t,message:Ee.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Cu.create=(e,t)=>new Cu({valueType:e,minSize:null,maxSize:null,typeName:Ke.ZodSet,...Qe(t)});class OE extends st{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}OE.create=(e,t)=>new OE({getter:e,typeName:Ke.ZodLazy,...Qe(t)});class kE extends st{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return we(r,{received:r.data,code:he.invalid_literal,expected:this._def.value}),Ge}return{status:"valid",value:t.data}}get value(){return this._def.value}}kE.create=(e,t)=>new kE({value:e,typeName:Ke.ZodLiteral,...Qe(t)});function b4(e,t){return new hl({values:e,typeName:Ke.ZodEnum,...Qe(t)})}class hl extends st{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return we(r,{expected:ot.joinValues(n),received:r.parsedType,code:he.invalid_type}),Ge}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return we(r,{received:r.data,code:he.invalid_enum_value,options:n}),Ge}return Un(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return hl.create(t,{...this._def,...r})}exclude(t,r=this._def){return hl.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}hl.create=b4;class RE extends st{_parse(t){const r=ot.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ne.string&&n.parsedType!==Ne.number){const a=ot.objectValues(r);return we(n,{expected:ot.joinValues(a),received:n.parsedType,code:he.invalid_type}),Ge}if(this._cache||(this._cache=new Set(ot.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=ot.objectValues(r);return we(n,{received:n.data,code:he.invalid_enum_value,options:a}),Ge}return Un(t.data)}get enum(){return this._def.values}}RE.create=(e,t)=>new RE({values:e,typeName:Ke.ZodNativeEnum,...Qe(t)});class Th extends st{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ne.promise&&r.common.async===!1)return we(r,{code:he.invalid_type,expected:Ne.promise,received:r.parsedType}),Ge;const n=r.parsedType===Ne.promise?r.data:Promise.resolve(r.data);return Un(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Th.create=(e,t)=>new Th({type:e,typeName:Ke.ZodPromise,...Qe(t)});class ml extends st{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:s=>{we(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(n.data,i);if(n.common.async)return Promise.resolve(s).then(async l=>{if(r.value==="aborted")return Ge;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ge:c.status==="dirty"||r.value==="dirty"?Oc(c.value):c});{if(r.value==="aborted")return Ge;const l=this._def.schema._parseSync({data:s,path:n.path,parent:n});return l.status==="aborted"?Ge:l.status==="dirty"||r.value==="dirty"?Oc(l.value):l}}if(a.type==="refinement"){const s=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ge:(l.status==="dirty"&&r.dirty(),s(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ge:(l.status==="dirty"&&r.dirty(),s(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!fl(s))return Ge;const l=a.transform(s.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>fl(s)?Promise.resolve(a.transform(s.value,i)).then(l=>({status:r.value,value:l})):Ge);ot.assertNever(a)}}ml.create=(e,t,r)=>new ml({schema:e,typeName:Ke.ZodEffects,effect:t,...Qe(r)});ml.createWithPreprocess=(e,t,r)=>new ml({schema:t,effect:{type:"preprocess",transform:e},typeName:Ke.ZodEffects,...Qe(r)});class Ui extends st{_parse(t){return this._getType(t)===Ne.undefined?Un(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ui.create=(e,t)=>new Ui({innerType:e,typeName:Ke.ZodOptional,...Qe(t)});class pl extends st{_parse(t){return this._getType(t)===Ne.null?Un(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}pl.create=(e,t)=>new pl({innerType:e,typeName:Ke.ZodNullable,...Qe(t)});class vw extends st{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ne.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}vw.create=(e,t)=>new vw({innerType:e,typeName:Ke.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Qe(t)});class xw extends st{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Sh(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new di(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new di(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}xw.create=(e,t)=>new xw({innerType:e,typeName:Ke.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Qe(t)});class ME extends st{_parse(t){if(this._getType(t)!==Ne.nan){const n=this._getOrReturnCtx(t);return we(n,{code:he.invalid_type,expected:Ne.nan,received:n.parsedType}),Ge}return{status:"valid",value:t.data}}}ME.create=e=>new ME({typeName:Ke.ZodNaN,...Qe(e)});class noe extends st{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Sj extends st{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ge:i.status==="dirty"?(r.dirty(),Oc(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ge:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new Sj({in:t,out:r,typeName:Ke.ZodPipeline})}}class bw extends st{_parse(t){const r=this._def.innerType._parse(t),n=a=>(fl(a)&&(a.value=Object.freeze(a.value)),a);return Sh(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}bw.create=(e,t)=>new bw({innerType:e,typeName:Ke.ZodReadonly,...Qe(t)});var Ke;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ke||(Ke={}));const Ut=Fi.create,hp=Nu.create;Qi.create;ka.create;const Id=fr.create;Nh.create;Ch.create;Zs.create;const Eh=hl.create;Th.create;Ui.create;pl.create;const mp=mse,w4=p.createContext({}),It=({...e})=>o.jsx(w4.Provider,{value:{name:e.name},children:o.jsx(fse,{...e})}),pp=()=>{const e=p.useContext(w4),t=p.useContext(_4),{getFieldState:r,formState:n}=hse(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},_4=p.createContext({}),Et=p.forwardRef(({className:e,...t},r)=>{const n=p.useId();return o.jsx(_4.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:J("space-y-2",e),...t})})});Et.displayName="FormItem";const At=p.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=pp();return o.jsx(Me,{ref:r,className:J(n&&"text-destructive",e),htmlFor:a,...t})});At.displayName="FormLabel";const Pt=p.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=pp();return o.jsx(yL,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});Pt.displayName="FormControl";const aoe=p.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=pp();return o.jsx("p",{ref:r,id:n,className:J("text-sm text-muted-foreground",e),...t})});aoe.displayName="FormDescription";const Ot=p.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=pp(),s=a?String(a?.message):t;return s?o.jsx("p",{ref:n,id:i,className:J("text-sm font-medium text-destructive",e),...r,children:s}):null});Ot.displayName="FormMessage";const $d=p.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));$d.displayName="Textarea";function ioe(e){const t=soe(e),r=p.forwardRef((n,a)=>{const{children:i,...s}=n,l=p.Children.toArray(i),c=l.find(loe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function soe(e){const t=p.forwardRef((r,n)=>{const{children:a,...i}=r;if(p.isValidElement(a)){const s=uoe(a),l=coe(i,a.props);return a.type!==p.Fragment&&(l.ref=n?za(n,s):s),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ooe=Symbol("radix.slottable");function loe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ooe}function coe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function uoe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gp="Popover",[j4]=Fr(gp,[ts]),Ld=ts(),[doe,is]=j4(gp),S4=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!1}=e,l=Ld(t),c=p.useRef(null),[u,d]=p.useState(!1),[f,h]=$n({prop:n,defaultProp:a??!1,onChange:i,caller:gp});return o.jsx(Vm,{...l,children:o.jsx(doe,{scope:t,contentId:hn(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:s,children:r})})};S4.displayName=gp;var N4="PopoverAnchor",foe=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=is(N4,r),i=Ld(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=a;return p.useEffect(()=>(s(),()=>l()),[s,l]),o.jsx(jd,{...i,...n,ref:t})});foe.displayName=N4;var C4="PopoverTrigger",T4=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=is(C4,r),i=Ld(r),s=Fe(t,a.triggerRef),l=o.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":k4(a.open),...n,ref:s,onClick:ce(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:o.jsx(jd,{asChild:!0,...i,children:l})});T4.displayName=C4;var Nj="PopoverPortal",[hoe,moe]=j4(Nj,{forceMount:void 0}),E4=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=is(Nj,t);return o.jsx(hoe,{scope:t,forceMount:r,children:o.jsx(Sr,{present:r||i.open,children:o.jsx(Fl,{asChild:!0,container:a,children:n})})})};E4.displayName=Nj;var gl="PopoverContent",A4=p.forwardRef((e,t)=>{const r=moe(gl,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=is(gl,e.__scopePopover);return o.jsx(Sr,{present:n||i.open,children:i.modal?o.jsx(goe,{...a,ref:t}):o.jsx(yoe,{...a,ref:t})})});A4.displayName=gl;var poe=ioe("PopoverContent.RemoveScroll"),goe=p.forwardRef((e,t)=>{const r=is(gl,e.__scopePopover),n=p.useRef(null),a=Fe(t,n),i=p.useRef(!1);return p.useEffect(()=>{const s=n.current;if(s)return np(s)},[]),o.jsx(Od,{as:poe,allowPinchZoom:!0,children:o.jsx(P4,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(e.onCloseAutoFocus,s=>{s.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:ce(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ce(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),yoe=p.forwardRef((e,t)=>{const r=is(gl,e.__scopePopover),n=p.useRef(!1),a=p.useRef(!1);return o.jsx(P4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;r.triggerRef.current?.contains(s)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),P4=p.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=is(gl,r),m=Ld(r);return tp(),o.jsx(Pd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(io,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(qm,{"data-state":k4(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),O4="PopoverClose",voe=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=is(O4,r);return o.jsx(Ce.button,{type:"button",...n,ref:t,onClick:ce(e.onClick,()=>a.onOpenChange(!1))})});voe.displayName=O4;var xoe="PopoverArrow",boe=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ld(r);return o.jsx(Wm,{...a,...n,ref:t})});boe.displayName=xoe;function k4(e){return e?"open":"closed"}var woe=S4,_oe=T4,joe=E4,R4=A4;const fi=woe,hi=_oe,La=p.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>o.jsx(joe,{children:o.jsx(R4,{ref:a,align:t,sideOffset:r,className:J("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));La.displayName=R4.displayName;function Tu(e,[t,r]){return Math.min(r,Math.max(t,e))}var Soe=p.createContext(void 0);function Zl(e){const t=p.useContext(Soe);return e||t||"ltr"}function Noe(e){const t=Coe(e),r=p.forwardRef((n,a)=>{const{children:i,...s}=n,l=p.Children.toArray(i),c=l.find(Eoe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Coe(e){const t=p.forwardRef((r,n)=>{const{children:a,...i}=r;if(p.isValidElement(a)){const s=Poe(a),l=Aoe(i,a.props);return a.type!==p.Fragment&&(l.ref=n?za(n,s):s),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Toe=Symbol("radix.slottable");function Eoe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Toe}function Aoe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Poe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Cj(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ooe=[" ","Enter","ArrowUp","ArrowDown"],koe=[" ","Enter"],Js="Select",[yp,vp,Roe]=gd(Js),[Jl]=Fr(Js,[Roe,ts]),xp=ts(),[Moe,ss]=Jl(Js),[Doe,Ioe]=Jl(Js),M4=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:s,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:v}=e,g=xp(t),[y,x]=p.useState(null),[b,w]=p.useState(null),[j,_]=p.useState(!1),S=Zl(u),[N,T]=$n({prop:n,defaultProp:a??!1,onChange:i,caller:Js}),[C,A]=$n({prop:s,defaultProp:l,onChange:c,caller:Js}),P=p.useRef(null),E=y?v||!!y.closest("form"):!0,[R,O]=p.useState(new Set),M=Array.from(R).map(D=>D.props.value).join(";");return o.jsx(Vm,{...g,children:o.jsxs(Moe,{required:m,scope:t,trigger:y,onTriggerChange:x,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:hn(),value:C,onValueChange:A,open:N,onOpenChange:T,dir:S,triggerPointerDownPosRef:P,disabled:h,children:[o.jsx(yp.Provider,{scope:t,children:o.jsx(Doe,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(D=>{O(I=>new Set(I).add(D))},[]),onNativeOptionRemove:p.useCallback(D=>{O(I=>{const F=new Set(I);return F.delete(D),F})},[]),children:r})}),E?o.jsxs(a5,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:D=>A(D.target.value),disabled:h,form:v,children:[C===void 0?o.jsx("option",{value:""}):null,Array.from(R)]},M):null]})})};M4.displayName=Js;var D4="SelectTrigger",I4=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=xp(r),s=ss(D4,r),l=s.disabled||n,c=Fe(t,s.onTriggerChange),u=vp(r),d=p.useRef("touch"),[f,h,m]=s5(g=>{const y=u().filter(w=>!w.disabled),x=y.find(w=>w.value===s.value),b=o5(y,g,x);b!==void 0&&s.onValueChange(b.value)}),v=g=>{l||(s.onOpenChange(!0),m()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(jd,{asChild:!0,...i,children:o.jsx(Ce.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":i5(s.value)?"":void 0,...a,ref:c,onClick:ce(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:ce(a.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:ce(a.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(y&&g.key===" ")&&Ooe.includes(g.key)&&(v(),g.preventDefault())})})})});I4.displayName=D4;var $4="SelectValue",L4=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:s="",...l}=e,c=ss($4,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Fe(t,c.onValueNodeChange);return ar(()=>{u(d)},[u,d]),o.jsx(Ce.span,{...l,ref:f,style:{pointerEvents:"none"},children:i5(c.value)?o.jsx(o.Fragment,{children:s}):i})});L4.displayName=$4;var $oe="SelectIcon",F4=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(Ce.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});F4.displayName=$oe;var Loe="SelectPortal",B4=e=>o.jsx(Fl,{asChild:!0,...e});B4.displayName=Loe;var Qs="SelectContent",z4=p.forwardRef((e,t)=>{const r=ss(Qs,e.__scopeSelect),[n,a]=p.useState();if(ar(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?md.createPortal(o.jsx(U4,{scope:e.__scopeSelect,children:o.jsx(yp.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(V4,{...e,ref:t})});z4.displayName=Qs;var Jn=10,[U4,os]=Jl(Qs),Foe="SelectContentImpl",Boe=Noe("SelectContent.RemoveScroll"),V4=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y,...x}=e,b=ss(Qs,r),[w,j]=p.useState(null),[_,S]=p.useState(null),N=Fe(t,te=>j(te)),[T,C]=p.useState(null),[A,P]=p.useState(null),E=vp(r),[R,O]=p.useState(!1),M=p.useRef(!1);p.useEffect(()=>{if(w)return np(w)},[w]),tp();const D=p.useCallback(te=>{const[Se,...re]=E().map(K=>K.ref.current),[ae]=re.slice(-1),Q=document.activeElement;for(const K of te)if(K===Q||(K?.scrollIntoView({block:"nearest"}),K===Se&&_&&(_.scrollTop=0),K===ae&&_&&(_.scrollTop=_.scrollHeight),K?.focus(),document.activeElement!==Q))return},[E,_]),I=p.useCallback(()=>D([T,w]),[D,T,w]);p.useEffect(()=>{R&&I()},[R,I]);const{onOpenChange:F,triggerPointerDownPosRef:$}=b;p.useEffect(()=>{if(w){let te={x:0,y:0};const Se=ae=>{te={x:Math.abs(Math.round(ae.pageX)-($.current?.x??0)),y:Math.abs(Math.round(ae.pageY)-($.current?.y??0))}},re=ae=>{te.x<=10&&te.y<=10?ae.preventDefault():w.contains(ae.target)||F(!1),document.removeEventListener("pointermove",Se),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",re,{capture:!0})}}},[w,F,$]),p.useEffect(()=>{const te=()=>F(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[F]);const[V,X]=s5(te=>{const Se=E().filter(Q=>!Q.disabled),re=Se.find(Q=>Q.ref.current===document.activeElement),ae=o5(Se,te,re);ae&&setTimeout(()=>ae.ref.current.focus())}),Y=p.useCallback((te,Se,re)=>{const ae=!M.current&&!re;(b.value!==void 0&&b.value===Se||ae)&&(C(te),ae&&(M.current=!0))},[b.value]),q=p.useCallback(()=>w?.focus(),[w]),oe=p.useCallback((te,Se,re)=>{const ae=!M.current&&!re;(b.value!==void 0&&b.value===Se||ae)&&P(te)},[b.value]),me=n==="popper"?ww:q4,xe=me===ww?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y}:{};return o.jsx(U4,{scope:r,content:w,viewport:_,onViewportChange:S,itemRefCallback:Y,selectedItem:T,onItemLeave:q,itemTextRefCallback:oe,focusSelectedItem:I,selectedItemText:A,position:n,isPositioned:R,searchRef:V,children:o.jsx(Od,{as:Boe,allowPinchZoom:!0,children:o.jsx(Pd,{asChild:!0,trapped:b.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:ce(a,te=>{b.trigger?.focus({preventScroll:!0}),te.preventDefault()}),children:o.jsx(io,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:o.jsx(me,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:te=>te.preventDefault(),...x,...xe,onPlaced:()=>O(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ce(x.onKeyDown,te=>{const Se=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!Se&&te.key.length===1&&X(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let ae=E().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(te.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Q=te.target,K=ae.indexOf(Q);ae=ae.slice(K+1)}setTimeout(()=>D(ae)),te.preventDefault()}})})})})})})});V4.displayName=Foe;var zoe="SelectItemAlignedPosition",q4=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=ss(Qs,r),s=os(Qs,r),[l,c]=p.useState(null),[u,d]=p.useState(null),f=Fe(t,N=>d(N)),h=vp(r),m=p.useRef(!1),v=p.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:x,focusSelectedItem:b}=s,w=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&y&&x){const N=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(i.dir!=="rtl"){const Q=A.left-T.left,K=C.left-Q,Te=N.left-K,Z=N.width+Te,G=Math.max(Z,T.width),se=window.innerWidth-Jn,be=Tu(K,[Jn,Math.max(Jn,se-G)]);l.style.minWidth=Z+"px",l.style.left=be+"px"}else{const Q=T.right-A.right,K=window.innerWidth-C.right-Q,Te=window.innerWidth-N.right-K,Z=N.width+Te,G=Math.max(Z,T.width),se=window.innerWidth-Jn,be=Tu(K,[Jn,Math.max(Jn,se-G)]);l.style.minWidth=Z+"px",l.style.right=be+"px"}const P=h(),E=window.innerHeight-Jn*2,R=g.scrollHeight,O=window.getComputedStyle(u),M=parseInt(O.borderTopWidth,10),D=parseInt(O.paddingTop,10),I=parseInt(O.borderBottomWidth,10),F=parseInt(O.paddingBottom,10),$=M+D+R+F+I,V=Math.min(y.offsetHeight*5,$),X=window.getComputedStyle(g),Y=parseInt(X.paddingTop,10),q=parseInt(X.paddingBottom,10),oe=N.top+N.height/2-Jn,me=E-oe,xe=y.offsetHeight/2,te=y.offsetTop+xe,Se=M+D+te,re=$-Se;if(Se<=oe){const Q=P.length>0&&y===P[P.length-1].ref.current;l.style.bottom="0px";const K=u.clientHeight-g.offsetTop-g.offsetHeight,Te=Math.max(me,xe+(Q?q:0)+K+I),Z=Se+Te;l.style.height=Z+"px"}else{const Q=P.length>0&&y===P[0].ref.current;l.style.top="0px";const Te=Math.max(oe,M+g.offsetTop+(Q?Y:0)+xe)+re;l.style.height=Te+"px",g.scrollTop=Se-oe+g.offsetTop}l.style.margin=`${Jn}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=E+"px",n?.(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,g,y,x,i.dir,n]);ar(()=>w(),[w]);const[j,_]=p.useState();ar(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const S=p.useCallback(N=>{N&&v.current===!0&&(w(),b?.(),v.current=!1)},[w,b]);return o.jsx(Voe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(Ce.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});q4.displayName=zoe;var Uoe="SelectPopperPosition",ww=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Jn,...i}=e,s=xp(r);return o.jsx(qm,{...s,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ww.displayName=Uoe;var[Voe,Tj]=Jl(Qs,{}),_w="SelectViewport",W4=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=os(_w,r),s=Tj(_w,r),l=Fe(t,i.onViewportChange),c=p.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(yp.Slot,{scope:r,children:o.jsx(Ce.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ce(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h?.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const v=window.innerHeight-Jn*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),x=Math.max(g,y);if(x<v){const b=x+m,w=Math.min(v,b),j=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});W4.displayName=_w;var H4="SelectGroup",[qoe,Woe]=Jl(H4),Hoe=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=hn();return o.jsx(qoe,{scope:r,id:a,children:o.jsx(Ce.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Hoe.displayName=H4;var G4="SelectLabel",K4=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Woe(G4,r);return o.jsx(Ce.div,{id:a.id,...n,ref:t})});K4.displayName=G4;var Ah="SelectItem",[Goe,Y4]=Jl(Ah),X4=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...s}=e,l=ss(Ah,r),c=os(Ah,r),u=l.value===n,[d,f]=p.useState(i??""),[h,m]=p.useState(!1),v=Fe(t,b=>c.itemRefCallback?.(b,n,a)),g=hn(),y=p.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Goe,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:p.useCallback(b=>{f(w=>w||(b?.textContent??"").trim())},[]),children:o.jsx(yp.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:o.jsx(Ce.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:v,onFocus:ce(s.onFocus,()=>m(!0)),onBlur:ce(s.onBlur,()=>m(!1)),onClick:ce(s.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:ce(s.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:ce(s.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:ce(s.onPointerMove,b=>{y.current=b.pointerType,a?c.onItemLeave?.():y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ce(s.onPointerLeave,b=>{b.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:ce(s.onKeyDown,b=>{c.searchRef?.current!==""&&b.key===" "||(koe.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});X4.displayName=Ah;var kc="SelectItemText",Z4=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,s=ss(kc,r),l=os(kc,r),c=Y4(kc,r),u=Ioe(kc,r),[d,f]=p.useState(null),h=Fe(t,x=>f(x),c.onItemTextChange,x=>l.itemTextRefCallback?.(x,c.value,c.disabled)),m=d?.textContent,v=p.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return ar(()=>(g(v),()=>y(v)),[g,y,v]),o.jsxs(o.Fragment,{children:[o.jsx(Ce.span,{id:c.textId,...i,ref:h}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?md.createPortal(i.children,s.valueNode):null]})});Z4.displayName=kc;var J4="SelectItemIndicator",Q4=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Y4(J4,r).isSelected?o.jsx(Ce.span,{"aria-hidden":!0,...n,ref:t}):null});Q4.displayName=J4;var jw="SelectScrollUpButton",e5=p.forwardRef((e,t)=>{const r=os(jw,e.__scopeSelect),n=Tj(jw,e.__scopeSelect),[a,i]=p.useState(!1),s=Fe(t,n.onScrollButtonChange);return ar(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(r5,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});e5.displayName=jw;var Sw="SelectScrollDownButton",t5=p.forwardRef((e,t)=>{const r=os(Sw,e.__scopeSelect),n=Tj(Sw,e.__scopeSelect),[a,i]=p.useState(!1),s=Fe(t,n.onScrollButtonChange);return ar(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(r5,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});t5.displayName=Sw;var r5=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=os("SelectScrollButton",r),s=p.useRef(null),l=vp(r),c=p.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),ar(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),o.jsx(Ce.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ce(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:ce(a.onPointerMove,()=>{i.onItemLeave?.(),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:ce(a.onPointerLeave,()=>{c()})})}),Koe="SelectSeparator",n5=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(Ce.div,{"aria-hidden":!0,...n,ref:t})});n5.displayName=Koe;var Nw="SelectArrow",Yoe=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=xp(r),i=ss(Nw,r),s=os(Nw,r);return i.open&&s.position==="popper"?o.jsx(Wm,{...a,...n,ref:t}):null});Yoe.displayName=Nw;var Xoe="SelectBubbleInput",a5=p.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=p.useRef(null),i=Fe(n,a),s=Cj(t);return p.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[s,t]),o.jsx(Ce.select,{...r,style:{...DM,...r.style},ref:i,defaultValue:t})});a5.displayName=Xoe;function i5(e){return e===""||e===void 0}function s5(e){const t=Qt(e),r=p.useRef(""),n=p.useRef(0),a=p.useCallback(s=>{const l=r.current+s;t(l),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),i=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function o5(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=Zoe(e,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Zoe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Joe=M4,l5=I4,Qoe=L4,ele=F4,tle=B4,c5=z4,rle=W4,u5=K4,d5=X4,nle=Z4,ale=Q4,f5=e5,h5=t5,m5=n5;const St=Joe,Nt=Qoe,wt=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(l5,{ref:n,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(ele,{asChild:!0,children:o.jsx(il,{className:"h-4 w-4 opacity-50"})})]}));wt.displayName=l5.displayName;const p5=p.forwardRef(({className:e,...t},r)=>o.jsx(f5,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(cD,{className:"h-4 w-4"})}));p5.displayName=f5.displayName;const g5=p.forwardRef(({className:e,...t},r)=>o.jsx(h5,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(il,{className:"h-4 w-4"})}));g5.displayName=h5.displayName;const _t=p.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>o.jsx(tle,{children:o.jsxs(c5,{ref:a,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(p5,{}),o.jsx(rle,{className:J("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(g5,{})]})}));_t.displayName=c5.displayName;const ile=p.forwardRef(({className:e,...t},r)=>o.jsx(u5,{ref:r,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ile.displayName=u5.displayName;const Ae=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(d5,{ref:n,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(ale,{children:o.jsx(Ln,{className:"h-4 w-4"})})}),o.jsx(nle,{children:t})]}));Ae.displayName=d5.displayName;const sle=p.forwardRef(({className:e,...t},r)=>o.jsx(m5,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));sle.displayName=m5.displayName;function Ql(){const{user:e}=vt(),t=va(),{data:r=[],isLoading:n}=Gi({queryKey:["categories",e?.id],queryFn:async()=>{const{data:h,error:m}=await ie.from("categories").select("*").order("name");if(m)throw m;return h},enabled:!!e}),a=Dr({mutationFn:async h=>{const{data:m,error:v}=await ie.from("categories").insert({...h,user_id:e?.id,is_default:!1}).select().single();if(v)throw v;return m},onSuccess:()=>{t.invalidateQueries({queryKey:["categories"]})}}),i=Dr({mutationFn:async({id:h,...m})=>{const{data:v,error:g}=await ie.from("categories").update(m).eq("id",h).select().single();if(g)throw g;return v},onSuccess:()=>{t.invalidateQueries({queryKey:["categories"]})}}),s=Dr({mutationFn:async h=>{const{error:m}=await ie.from("categories").delete().eq("id",h);if(m)throw m},onSuccess:()=>{t.invalidateQueries({queryKey:["categories"]})}}),l=r.filter(h=>!h.parent_id),c=h=>r.filter(m=>m.parent_id===h),u=h=>r.some(m=>m.parent_id===h),d=r.filter(h=>h.type==="entrata"&&!h.parent_id),f=r.filter(h=>h.type==="uscita"&&!h.parent_id);return{categories:r,parentCategories:l,incomeCategories:d,expenseCategories:f,isLoading:n,addCategory:a,updateCategory:i,deleteCategory:s,getSubcategories:c,hasSubcategories:u}}function bp(){const{user:e}=vt(),t=va(),{data:r=[],isLoading:n}=Gi({queryKey:["payment_methods",e?.id],queryFn:async()=>{const{data:l,error:c}=await ie.from("payment_methods").select("*").order("name");if(c)throw c;return l},enabled:!!e}),a=Dr({mutationFn:async l=>{const{data:c,error:u}=await ie.from("payment_methods").insert({...l,user_id:e?.id,is_default:!1}).select().single();if(u)throw u;return c},onSuccess:()=>{t.invalidateQueries({queryKey:["payment_methods"]})}}),i=Dr({mutationFn:async({id:l,...c})=>{const{data:u,error:d}=await ie.from("payment_methods").update(c).eq("id",l).select().single();if(d)throw d;return u},onSuccess:()=>{t.invalidateQueries({queryKey:["payment_methods"]})}}),s=Dr({mutationFn:async l=>{const{error:c}=await ie.from("payment_methods").delete().eq("id",l);if(c)throw c},onSuccess:()=>{t.invalidateQueries({queryKey:["payment_methods"]})}});return{paymentMethods:r,isLoading:n,addPaymentMethod:a,updatePaymentMethod:i,deletePaymentMethod:s}}const ole={"credit-card":o.jsx(fn,{className:"w-4 h-4"}),banknote:o.jsx(iD,{className:"w-4 h-4"}),"building-2":o.jsx(oD,{className:"w-4 h-4"}),smartphone:o.jsx(sl,{className:"w-4 h-4"}),wallet:o.jsx(eu,{className:"w-4 h-4"})};function wp({value:e,onValueChange:t,placeholder:r="Seleziona metodo"}){const{paymentMethods:n,isLoading:a}=bp(),i=l=>l?ole[l]||o.jsx(eu,{className:"w-4 h-4"}):o.jsx(eu,{className:"w-4 h-4"}),s=n.find(l=>l.id===e);return o.jsxs(St,{value:e,onValueChange:t,children:[o.jsx(wt,{children:o.jsx(Nt,{placeholder:r,children:s&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{style:{color:s.color||void 0},children:i(s.icon)}),o.jsx("span",{children:s.name})]})})}),o.jsx(_t,{children:a?o.jsx(Ae,{value:"loading",disabled:!0,children:"Caricamento..."}):n.length===0?o.jsx(Ae,{value:"empty",disabled:!0,children:"Nessun metodo disponibile"}):n.map(l=>o.jsx(Ae,{value:l.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{style:{color:l.color||void 0},children:i(l.icon)}),o.jsx("span",{children:l.name})]})},l.id))})]})}const DE=["application/pdf","image/jpeg","image/jpg","image/png","image/bmp"],IE=10*1024*1024;function y5(e,t){const{user:r}=vt(),n=va(),{data:a=[],isLoading:i}=Gi({queryKey:["attachments",e,t],queryFn:async()=>{if(!e||!t)return[];const{data:d,error:f}=await ie.from("attachments").select("*").eq("entity_type",e).eq("entity_id",t).order("created_at",{ascending:!1});if(f)throw f;return d||[]},enabled:!!r&&!!e&&!!t}),{data:s=[],isLoading:l}=Gi({queryKey:["attachments","all",r?.id],queryFn:async()=>{const{data:d,error:f}=await ie.from("attachments").select("*").order("created_at",{ascending:!1});if(f)throw f;return d||[]},enabled:!!r&&!e&&!t}),c=Dr({mutationFn:async({file:d,entityType:f,entityId:h})=>{if(!r?.id)throw new Error("Utente non autenticato");if(!DE.includes(d.type))throw new Error("Formato file non supportato. Usa PDF, JPG, PNG o BMP.");if(d.size>IE)throw new Error("File troppo grande. Massimo 10MB.");const m=d.name.split(".").pop(),v=`${Date.now()}_${Math.random().toString(36).substring(7)}.${m}`,g=`${r.id}/${f}/${h}/${v}`,{error:y}=await ie.storage.from("attachments").upload(g,d);if(y)throw y;const{data:x}=ie.storage.from("attachments").getPublicUrl(g),{data:b,error:w}=await ie.from("attachments").insert({user_id:r.id,entity_type:f,entity_id:h,file_name:d.name,file_type:d.type,file_url:x.publicUrl,file_size:d.size}).select().single();if(w)throw w;return b},onSuccess:()=>{n.invalidateQueries({queryKey:["attachments"]}),W.success("Allegato caricato")},onError:d=>{W.error(d.message||"Errore durante il caricamento")}}),u=Dr({mutationFn:async d=>{const f=d.file_url.split("/attachments/");if(f.length>1){const m=f[1];await ie.storage.from("attachments").remove([m])}const{error:h}=await ie.from("attachments").delete().eq("id",d.id);if(h)throw h},onSuccess:()=>{n.invalidateQueries({queryKey:["attachments"]}),W.success("Allegato eliminato")},onError:()=>{W.error("Errore durante l'eliminazione")}});return{attachments:a,allAttachments:s,isLoading:i,isLoadingAll:l,uploadAttachment:c,deleteAttachment:u,ALLOWED_TYPES:DE,MAX_FILE_SIZE:IE}}const $E=new Set;function _p(){const{isPro:e,isInTrial:t}=Xl(),{isAdmin:r}=so(),[n,a]=p.useState(!1),[i,s]=p.useState(""),l=r||e||t,c=p.useCallback(d=>r||l?!0:($E.has(d)||($E.add(d),s(d),a(!0)),!1),[l,r]),u=p.useCallback(()=>{a(!1)},[]);return{isPro:l,isInTrial:t,isAdmin:r,showGate:n,featureName:i,checkProFeature:c,closeGate:u,setShowGate:a}}function jp({open:e,onOpenChange:t,feature:r}){const{upgradeToPro:n,loading:a,isInTrial:i}=Xl(),s=zn();return i?null:o.jsx(ir,{open:e,onOpenChange:t,children:o.jsxs(tr,{className:"sm:max-w-md",children:[o.jsxs(rr,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 p-4 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 w-fit",children:o.jsx(er,{className:"w-8 h-8 text-white"})}),o.jsxs(nr,{className:"text-xl flex items-center justify-center gap-2",children:["Il tuo trial  terminato",o.jsx($m,{className:"w-5 h-5 text-muted-foreground"})]}),o.jsxs(Xi,{className:"text-center pt-2",children:[o.jsx("strong",{children:r}),"  una funzionalit esclusiva del piano Pro.",o.jsx("br",{}),"Abbonati per continuare ad usare tutte le funzionalit premium!"]})]}),o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg text-center",children:[o.jsxs("p",{className:"text-2xl font-bold text-primary",children:["4,99",o.jsx("span",{className:"text-base font-normal text-muted-foreground",children:"/mese"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Accesso completo a tutte le funzionalit"})]}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:o.jsx("span",{className:"text-green-600 text-xs",children:""})}),"Allegati e documenti illimitati"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:o.jsx("span",{className:"text-green-600 text-xs",children:""})}),"Export PDF, Excel e stampa"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:o.jsx("span",{className:"text-green-600 text-xs",children:""})}),"Sintesi vocale TTS avanzata"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:o.jsx("span",{className:"text-green-600 text-xs",children:""})}),"Notifiche WhatsApp"]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs(z,{onClick:()=>n(),disabled:a,className:"w-full bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white",children:[o.jsx(er,{className:"w-4 h-4 mr-2"}),a?"Caricamento...":"Abbonati a 4,99/mese"]}),o.jsx(z,{variant:"outline",onClick:()=>s("/pricing"),className:"w-full",children:"Scopri tutti i vantaggi"})]})]})]})})}function Eu({className:e}){return o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:J("text-destructive",e),children:[o.jsx("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"hsl(0, 72%, 51%)",fillOpacity:"0.15"}),o.jsx("path",{d:"M14 2V8H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("text",{x:"12",y:"17",textAnchor:"middle",fontSize:"6",fontWeight:"bold",fill:"currentColor",children:"PDF"})]})}function Ph({className:e}){return o.jsxs("svg",{viewBox:"0 0 28 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:J("text-destructive",e),children:[o.jsx("path",{d:"M12 2H4C3.46957 2 2.96086 2.21071 2.58579 2.58579C2.21071 2.96086 2 3.46957 2 4V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H16C16.5304 22 17.0391 21.7893 17.4142 21.4142C17.7893 21.0391 18 20.5304 18 20V8L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"hsl(0, 72%, 51%)",fillOpacity:"0.15"}),o.jsx("path",{d:"M12 2V8H18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("text",{x:"10",y:"17",textAnchor:"middle",fontSize:"5",fontWeight:"bold",fill:"currentColor",children:"PDF"}),o.jsx("circle",{cx:"22",cy:"14",r:"5.5",fill:"hsl(0, 72%, 51%)",stroke:"hsl(0, 72%, 40%)",strokeWidth:"1"}),o.jsx("path",{d:"M22 11V17M22 17L19.5 14.5M22 17L24.5 14.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}function v5({entityType:e,entityId:t,readOnly:r=!1}){const{attachments:n,isLoading:a,uploadAttachment:i,deleteAttachment:s}=y5(e,t),{isPro:l,showGate:c,featureName:u,checkProFeature:d,setShowGate:f}=_p(),[h,m]=p.useState(!1),[v,g]=p.useState(null),[y,x]=p.useState(!1),[b,w]=p.useState(null),j=p.useRef(null),_=()=>{d("Allegati")&&j.current?.click()},S=async M=>{const D=M.target.files;if(!(!D||D.length===0)){for(const I of Array.from(D))await i.mutateAsync({file:I,entityType:e,entityId:t});j.current&&(j.current.value="")}},N=M=>{g(M),m(!0)},T=M=>{const D=document.createElement("a");D.href=M.file_url,D.download=M.file_name,D.target="_blank",document.body.appendChild(D),D.click(),document.body.removeChild(D)},C=M=>{const D=window.open("","_blank");if(!D){W.error("Impossibile aprire finestra di stampa");return}const I=E(M.file_type);R(M.file_type)?D.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Stampa: ${M.file_name}</title>
            <style>
              * { margin: 0; padding: 0; }
              body { display: flex; justify-content: center; align-items: flex-start; min-height: 100vh; }
              iframe { width: 100%; height: 100vh; border: none; }
            </style>
          </head>
          <body>
            <iframe src="${M.file_url}" onload="setTimeout(() => { window.print(); }, 500);"></iframe>
          </body>
        </html>
      `):I&&D.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Stampa: ${M.file_name}</title>
            <style>
              * { margin: 0; padding: 0; box-sizing: border-box; }
              body { 
                display: flex; 
                justify-content: center; 
                align-items: center; 
                min-height: 100vh; 
                padding: 20px;
                background: #fff;
              }
              img { 
                max-width: 100%; 
                max-height: 90vh; 
                object-fit: contain;
              }
              @media print {
                body { padding: 0; }
                img { max-height: 100%; }
              }
            </style>
          </head>
          <body>
            <img src="${M.file_url}" alt="${M.file_name}" onload="setTimeout(() => { window.print(); }, 300);" />
          </body>
        </html>
      `),D.document.close(),W.success("Stampa avviata")},A=M=>{w(M),x(!0)},P=async()=>{b&&(await s.mutateAsync(b),x(!1),w(null))},E=M=>M.startsWith("image/"),R=M=>M==="application/pdf",O=M=>M?M<1024?`${M} B`:M<1024*1024?`${(M/1024).toFixed(1)} KB`:`${(M/(1024*1024)).toFixed(1)} MB`:"";return t?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(v0,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:"Allegati"}),n.length>0&&o.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-0.5 rounded-full",children:n.length})]}),!r&&o.jsxs(o.Fragment,{children:[o.jsx("input",{ref:j,type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.bmp",onChange:S,className:"hidden"}),o.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:_,disabled:i.isPending,className:l?"":"border-yellow-500/50 text-yellow-600",children:[i.isPending?o.jsx(Vt,{className:"h-4 w-4 animate-spin mr-2"}):l?o.jsx(qs,{className:"h-4 w-4 mr-2"}):o.jsx(er,{className:"h-4 w-4 mr-2 text-yellow-500"}),"Aggiungi allegato"]})]})]}),a?o.jsx("div",{className:"flex items-center justify-center py-4",children:o.jsx(Vt,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):n.length===0?o.jsx("div",{className:"text-sm text-muted-foreground py-2",children:"Nessun allegato presente"}):o.jsx("div",{className:"space-y-2",children:n.map(M=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg border bg-card hover:bg-muted/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[E(M.file_type)?o.jsx(Zf,{className:"h-5 w-5 text-blue-500 shrink-0"}):o.jsx(Eu,{className:"h-5 w-5 text-destructive shrink-0"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:M.file_name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:O(M.file_size)})]})]}),o.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[o.jsx(z,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>N(M),title:"Visualizza",children:o.jsx(ai,{className:"h-4 w-4"})}),o.jsx(z,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>T(M),title:"Scarica",children:o.jsx($r,{className:"h-4 w-4"})}),o.jsx(z,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>C(M),title:"Stampa allegato",children:o.jsx(Ph,{className:"h-5 w-5"})}),!r&&o.jsx(z,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>A(M),title:"Elimina",disabled:s.isPending,children:o.jsx(Lr,{className:"h-4 w-4"})})]})]},M.id))}),o.jsx(ir,{open:h,onOpenChange:m,children:o.jsxs(tr,{className:"max-w-4xl max-h-[90vh]",children:[o.jsx(rr,{children:o.jsxs(nr,{className:"flex items-center gap-2",children:[v&&R(v.file_type)&&o.jsx(Eu,{className:"h-5 w-5 text-destructive"}),v&&E(v.file_type)&&o.jsx(Zf,{className:"h-5 w-5 text-blue-500"}),v?.file_name]})}),o.jsxs("div",{className:"overflow-auto max-h-[60vh]",children:[v&&E(v.file_type)&&o.jsx("img",{src:v.file_url,alt:v.file_name,className:"w-full h-auto"}),v&&R(v.file_type)&&o.jsx("iframe",{src:v.file_url,className:"w-full h-[60vh]",title:v.file_name})]}),o.jsxs(Ls,{className:"flex-row justify-end gap-2",children:[o.jsxs(z,{variant:"outline",size:"sm",onClick:()=>v&&T(v),children:[o.jsx($r,{className:"h-4 w-4 mr-2"}),"Scarica"]}),o.jsxs(z,{variant:"default",size:"sm",onClick:()=>v&&C(v),children:[o.jsx(Ph,{className:"h-5 w-5 mr-2"}),"Stampa allegato"]})]})]})}),o.jsx(Fn,{open:y,onOpenChange:x,children:o.jsxs(gn,{children:[o.jsxs(yn,{children:[o.jsx(xn,{children:"Eliminare allegato?"}),o.jsxs(bn,{children:['Stai per eliminare "',b?.file_name,'". Questa azione non pu essere annullata.']})]}),o.jsxs(vn,{children:[o.jsx(_n,{children:"Annulla"}),o.jsx(wn,{onClick:P,className:"bg-destructive text-destructive-foreground",children:"Elimina"})]})]})}),o.jsx(jp,{open:c,onOpenChange:f,feature:u})]}):o.jsx("div",{className:"border rounded-lg p-4 bg-muted/50",children:o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(v0,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm",children:"Salva prima per aggiungere allegati"})]})})}const lle=Id({title:Ut().min(1,"Inserisci un titolo"),description:Ut().optional(),amount:Ut().optional(),category_id:Ut().optional(),payment_method_id:Ut().optional(),due_date:hp(),notify_days_before:Ut()});function cle({reminder:e,open:t,onOpenChange:r}){const{updateReminder:n}=as(),{expenseCategories:a}=Ql(),i=dp({resolver:fp(lle),defaultValues:{title:e.title,description:e.description||"",amount:e.amount?.toString()||"",category_id:e.category_id||"",payment_method_id:e.payment_method_id||"",due_date:new Date(e.due_date),notify_days_before:e.notify_days_before?.toString()||"3"}});p.useEffect(()=>{t&&i.reset({title:e.title,description:e.description||"",amount:e.amount?.toString()||"",category_id:e.category_id||"",payment_method_id:e.payment_method_id||"",due_date:new Date(e.due_date),notify_days_before:e.notify_days_before?.toString()||"3"})},[t,e,i]);const s=async l=>{try{await n.mutateAsync({id:e.id,title:l.title,description:l.description||null,amount:l.amount?parseFloat(l.amount):null,category_id:l.category_id||null,due_date:ye(l.due_date,"yyyy-MM-dd"),notify_days_before:parseInt(l.notify_days_before)}),W.success("Promemoria aggiornato"),r(!1)}catch{W.error("Errore durante il salvataggio")}};return o.jsx(ir,{open:t,onOpenChange:r,children:o.jsxs(tr,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsx(rr,{children:o.jsx(nr,{children:"Modifica Promemoria"})}),o.jsx(mp,{...i,children:o.jsxs("form",{onSubmit:i.handleSubmit(s),className:"space-y-4",children:[o.jsx(It,{control:i.control,name:"title",render:({field:l})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Titolo"}),o.jsx(Pt,{children:o.jsx(gt,{placeholder:"Es: Rata mutuo",...l})}),o.jsx(Ot,{})]})}),o.jsx(It,{control:i.control,name:"amount",render:({field:l})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Importo ()"}),o.jsx(Pt,{children:o.jsx(gt,{type:"number",step:"0.01",placeholder:"0.00",...l})}),o.jsx(Ot,{})]})}),o.jsx(It,{control:i.control,name:"category_id",render:({field:l})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Categoria"}),o.jsxs(St,{onValueChange:l.onChange,value:l.value,children:[o.jsx(Pt,{children:o.jsx(wt,{children:o.jsx(Nt,{placeholder:"Seleziona categoria"})})}),o.jsx(_t,{children:a.map(c=>o.jsx(Ae,{value:c.id,children:c.name},c.id))})]}),o.jsx(Ot,{})]})}),o.jsx(It,{control:i.control,name:"payment_method_id",render:({field:l})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Modalit di pagamento"}),o.jsx(Pt,{children:o.jsx(wp,{value:l.value||"",onValueChange:l.onChange,placeholder:"Seleziona metodo"})}),o.jsx(Ot,{})]})}),o.jsx(It,{control:i.control,name:"description",render:({field:l})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Descrizione"}),o.jsx(Pt,{children:o.jsx($d,{placeholder:"Descrizione opzionale...",className:"resize-none",...l})}),o.jsx(Ot,{})]})}),o.jsx(It,{control:i.control,name:"due_date",render:({field:l})=>o.jsxs(Et,{className:"flex flex-col",children:[o.jsx(At,{children:"Data scadenza"}),o.jsxs(fi,{children:[o.jsx(hi,{asChild:!0,children:o.jsx(Pt,{children:o.jsxs(z,{variant:"outline",className:J("w-full pl-3 text-left font-normal text-primary border-primary/30 hover:bg-primary/10",!l.value&&"text-muted-foreground"),children:[l.value?ye(l.value,"dd/MM/yyyy"):o.jsx("span",{children:"Seleziona data"}),o.jsx(Gt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(La,{className:"w-auto p-0",align:"start",children:o.jsx(ya,{mode:"single",selected:l.value,onSelect:l.onChange,initialFocus:!0})})]}),o.jsx(Ot,{})]})}),o.jsx(It,{control:i.control,name:"notify_days_before",render:({field:l})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Notifica giorni prima"}),o.jsxs(St,{onValueChange:l.onChange,value:l.value,children:[o.jsx(Pt,{children:o.jsx(wt,{children:o.jsx(Nt,{})})}),o.jsxs(_t,{children:[o.jsx(Ae,{value:"1",children:"1 giorno prima"}),o.jsx(Ae,{value:"2",children:"2 giorni prima"}),o.jsx(Ae,{value:"3",children:"3 giorni prima"}),o.jsx(Ae,{value:"5",children:"5 giorni prima"}),o.jsx(Ae,{value:"7",children:"1 settimana prima"})]})]}),o.jsx(Ot,{})]})}),o.jsx(sa,{className:"my-4"}),o.jsx(v5,{entityType:"reminder",entityId:e.id}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(z,{type:"button",variant:"outline",className:"flex-1 text-primary border-primary/30 hover:bg-primary/10",onClick:()=>r(!1),children:"Annulla"}),o.jsx(z,{type:"submit",className:"flex-1 gradient-primary",disabled:n.isPending,children:n.isPending?"Salvando...":"Salva"})]})]})})]})})}function ule(e){const t=c=>ye(c,"yyyyMMdd'T'HHmmss"),r=c=>c.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"),n=`${Date.now()}-${Math.random().toString(36).substring(2,11)}@gestionescadenze`,a=t(e.startDate),i=e.endDate?t(e.endDate):t(new Date(e.startDate.getTime()+3600*1e3)),s=t(new Date);let l=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Gestione Scadenze//IT
CALSCALE:GREGORIAN
METHOD:PUBLISH
BEGIN:VEVENT
UID:${n}
DTSTAMP:${s}
DTSTART:${a}
DTEND:${i}
SUMMARY:${r(e.title)}`;return e.description&&(l+=`
DESCRIPTION:${r(e.description)}`),e.location&&(l+=`
LOCATION:${r(e.location)}`),e.reminder!==void 0&&(l+=`
BEGIN:VALARM
TRIGGER:-PT${e.reminder}M
ACTION:DISPLAY
DESCRIPTION:${r(e.title)}
END:VALARM`),l+=`
END:VEVENT
END:VCALENDAR`,l}function dle(e,t="Gestione Scadenze"){const r=s=>ye(s,"yyyyMMdd'T'HHmmss"),n=s=>s.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"),a=r(new Date);let i=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Gestione Scadenze//IT
CALSCALE:GREGORIAN
METHOD:PUBLISH
X-WR-CALNAME:${n(t)}`;return e.forEach((s,l)=>{const c=`${Date.now()}-${l}-${Math.random().toString(36).substring(2,11)}@gestionescadenze`,u=r(s.startDate),d=s.endDate?r(s.endDate):r(new Date(s.startDate.getTime()+3600*1e3));i+=`
BEGIN:VEVENT
UID:${c}
DTSTAMP:${a}
DTSTART:${u}
DTEND:${d}
SUMMARY:${n(s.title)}`,s.description&&(i+=`
DESCRIPTION:${n(s.description)}`),s.location&&(i+=`
LOCATION:${n(s.location)}`),s.reminder!==void 0&&(i+=`
BEGIN:VALARM
TRIGGER:-PT${s.reminder}M
ACTION:DISPLAY
DESCRIPTION:${n(s.title)}
END:VALARM`),i+=`
END:VEVENT`}),i+=`
END:VCALENDAR`,i}function fle(e,t="scadenze.ics"){const r=new Blob([e],{type:"text/calendar;charset=utf-8"}),n=URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n)}function hle(e){const t=ule(e),r=new Blob([t],{type:"text/calendar;charset=utf-8"}),n=URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=`${e.title.replace(/[^a-zA-Z0-9]/g,"_")}.ics`,document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(()=>{URL.revokeObjectURL(n)},1e3)}function x5({reminder:e}){const{user:t}=vt(),{updateReminder:r,deleteReminder:n,toggleCompleted:a}=as(),{addTransaction:i}=qa(),{isPro:s,showGate:l,featureName:c,checkProFeature:u,setShowGate:d}=_p(),[f,h]=p.useState(!1),[m,v]=p.useState(!1),[g,y]=p.useState(!1),[x,b]=p.useState(!1),[w,j]=p.useState(!1),[_,S]=p.useState(""),[N,T]=p.useState(new Date(e.due_date)),[C,A]=p.useState(""),[P,E]=p.useState(""),R=()=>{u("Notifiche WhatsApp")&&b(!0)};p.useEffect(()=>{(async()=>{if(!t?.id)return;const{data:xe}=await ie.from("profiles").select("whatsapp_number").eq("id",t.id).single();xe?.whatsapp_number&&(E(xe.whatsapp_number),A(xe.whatsapp_number))})()},[t?.id]);const O=async()=>{try{await n.mutateAsync(e.id),W.success("Promemoria eliminato"),v(!1)}catch{W.error("Errore durante l'eliminazione")}},M=async()=>{if(N)try{await r.mutateAsync({id:e.id,due_date:ye(N,"yyyy-MM-dd")}),W.success("Data aggiornata"),y(!1)}catch{W.error("Errore durante l'aggiornamento")}},D=async()=>{try{await a.mutateAsync({id:e.id,completed:!e.completed}),W.success(e.completed?"Segnato come da pagare":"Segnato come pagato")}catch{W.error("Errore durante l'aggiornamento")}},I=()=>{S(String(e.paid_amount||0)),j(!0)},F=async()=>{try{const me=parseFloat(_)||0,xe=Number(e.amount)||0;if(me<=0){W.error("Inserisci un importo valido");return}if(me>xe){W.error(`L'importo non pu superare ${xe.toFixed(2)}`);return}const te=xe-me;await i.mutateAsync({type:"uscita",amount:me,paid_amount:me,description:`Pagamento: ${e.title}`,category_id:e.category_id,payment_method_id:null,date:ye(new Date,"yyyy-MM-dd"),start_date:null,end_date:null,is_partial:!1,recurring:"none",attachment_url:null,plan_id:null,installment_index:null,installment_total:null}),te>0?(await r.mutateAsync({id:e.id,amount:te,paid_amount:0}),W.success(`Pagamento di ${me.toFixed(2)} registrato. Rimanenza: ${te.toFixed(2)}`)):(await r.mutateAsync({id:e.id,amount:0,paid_amount:0,completed:!0}),W.success("Promemoria saldato completamente!")),j(!1)}catch{W.error("Errore durante il salvataggio")}},$=Number(e.paid_amount)||0,V=e.amount&&$>0&&$<Number(e.amount),X=me=>{let xe=me.replace(/\D/g,"");return xe.startsWith("0")?xe="39"+xe.substring(1):!xe.startsWith("39")&&xe.length<=10&&(xe="39"+xe),xe},Y=async()=>{if(!C.trim()){W.error("Inserisci un numero WhatsApp");return}const me=X(C);t?.id&&C!==P&&(await ie.from("profiles").update({whatsapp_number:C}).eq("id",t.id),E(C));const xe=ye(new Date(e.due_date),"dd MMMM yyyy",{locale:$a}),te=e.amount?`
 Importo: ${q(Number(e.amount))}`:"",Se=` *Promemoria Scadenza*

 *${e.title}*
${e.description?` ${e.description}
`:""} Scadenza: ${xe}${te}

 Non dimenticare questa scadenza!`,re=`https://wa.me/${me}?text=${encodeURIComponent(Se)}`;b(!1),setTimeout(()=>{const ae=window.open(re,"_blank","noopener,noreferrer");!ae||ae.closed||typeof ae.closed>"u"?W.info("Clicca il link per aprire WhatsApp",{action:{label:"Apri WhatsApp",onClick:()=>{window.open(re,"_blank")}},duration:1e4}):W.success("WhatsApp aperto")},150)},q=me=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(me),oe=()=>{const me=new Date(e.due_date);me.setHours(9,0,0,0);const xe=e.amount?` - Importo: ${q(Number(e.amount))}`:"",te={title:` ${e.title}`,description:`${e.description||""}${xe}`,startDate:me,reminder:(e.notify_days_before||3)*24*60};hle(te),W.success("File calendario scaricato. Aprilo per aggiungerlo al Calendario.")};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-primary hover:text-primary/80",onClick:()=>h(!0),title:"Modifica promemoria",children:o.jsx(xd,{className:"w-4 h-4"})}),o.jsxs(z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-income hover:text-income/80 relative",onClick:R,title:"Invia promemoria via WhatsApp",children:[o.jsx(gN,{className:"w-4 h-4"}),!s&&o.jsx(er,{className:"w-2.5 h-2.5 absolute -top-0.5 -right-0.5 text-amber-500"})]}),o.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-500 hover:text-blue-400",onClick:oe,title:"Aggiungi al Calendario",children:o.jsx(Gt,{className:"w-4 h-4"})}),o.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-expense hover:text-expense/80",onClick:()=>y(!0),title:"Cambia data scadenza",children:o.jsx(hW,{className:"w-4 h-4"})}),e.amount&&o.jsx(z,{variant:"ghost",size:"icon",className:`h-8 w-8 ${V?"text-amber-500":"text-muted-foreground hover:text-amber-500"}`,onClick:I,title:"Gestisci acconto",children:o.jsx(Xf,{className:"w-4 h-4"})}),o.jsx(z,{variant:"ghost",size:"icon",className:`h-8 w-8 ${e.completed?"text-income":"text-muted-foreground hover:text-income"}`,onClick:D,title:e.completed?"Segna come da pagare":"Segna come pagato",children:o.jsx(Ln,{className:"w-4 h-4"})}),o.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive/80",onClick:()=>v(!0),title:"Elimina promemoria",children:o.jsx(Lr,{className:"w-4 h-4"})})]}),o.jsx(cle,{reminder:e,open:f,onOpenChange:h}),o.jsx(Fn,{open:m,onOpenChange:v,children:o.jsxs(gn,{children:[o.jsxs(yn,{children:[o.jsx(xn,{children:"Eliminare questo promemoria?"}),o.jsxs(bn,{children:['Stai per eliminare "',e.title,'". Questa azione non pu essere annullata.']})]}),o.jsxs(vn,{children:[o.jsx(_n,{children:"Annulla"}),o.jsx(wn,{onClick:O,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Elimina"})]})]})}),o.jsx(ir,{open:g,onOpenChange:y,children:o.jsxs(tr,{className:"sm:max-w-md",children:[o.jsx(rr,{children:o.jsx(nr,{children:"Cambia data scadenza"})}),o.jsx("div",{className:"flex justify-center py-4",children:o.jsx(ya,{mode:"single",selected:N,onSelect:T,initialFocus:!0})}),o.jsxs(Ls,{children:[o.jsx(z,{variant:"outline",onClick:()=>y(!1),children:"Annulla"}),o.jsx(z,{onClick:M,disabled:!N||r.isPending,className:"gradient-primary",children:r.isPending?"Salvando...":"Salva"})]})]})}),o.jsx(ir,{open:x,onOpenChange:b,children:o.jsxs(tr,{className:"sm:max-w-md",children:[o.jsxs(rr,{children:[o.jsx(nr,{children:"Invia promemoria WhatsApp"}),o.jsx(Xi,{children:"Inserisci il numero WhatsApp a cui inviare il promemoria"})]}),o.jsxs("div",{className:"py-4 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"whatsapp-number",children:"Numero WhatsApp"}),o.jsx(gt,{id:"whatsapp-number",type:"tel",placeholder:"Es: 3331234567 o +39 333 1234567",value:C,onChange:me=>A(me.target.value)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Il numero viene salvato per usi futuri"})]}),o.jsxs("div",{className:"bg-secondary/50 rounded-lg p-4 space-y-2",children:[o.jsx("p",{className:"font-medium",children:e.title}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),o.jsxs("p",{className:"text-sm",children:["Scadenza: ",ye(new Date(e.due_date),"dd/MM/yyyy")]}),e.amount&&o.jsxs("p",{className:"text-sm font-medium text-expense",children:["Importo: ",q(Number(e.amount))]})]})]}),o.jsxs(Ls,{children:[o.jsx(z,{variant:"outline",onClick:()=>b(!1),children:"Annulla"}),o.jsxs(z,{onClick:Y,disabled:!C.trim(),className:"bg-income hover:bg-income/90",children:[o.jsx(gN,{className:"w-4 h-4 mr-2"}),"Apri WhatsApp"]})]})]})}),e.amount&&Number(e.amount)>0&&o.jsx(ir,{open:w,onOpenChange:j,children:o.jsxs(tr,{className:"sm:max-w-sm",children:[o.jsxs(rr,{children:[o.jsxs(nr,{className:"text-primary flex items-center gap-2",children:[o.jsx(Xf,{className:"w-5 h-5"}),"Registra Pagamento"]}),o.jsx(Xi,{children:"Registra un pagamento per questo promemoria. Verr creata una transazione e aggiornata la rimanenza."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsx("div",{className:"bg-secondary/50 rounded-lg p-3 space-y-2",children:o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Importo da pagare:"}),o.jsxs("span",{className:"font-bold text-expense",children:["",Number(e.amount).toFixed(2)]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"acconto-reminder",children:"Importo pagamento ()"}),o.jsx(gt,{id:"acconto-reminder",type:"number",step:"0.01",min:"0",max:Number(e.amount),value:_,onChange:me=>S(me.target.value),placeholder:`Max ${Number(e.amount).toFixed(2)}`})]}),parseFloat(_)>0&&parseFloat(_)<=Number(e.amount)&&o.jsxs("div",{className:"bg-primary/10 rounded-lg p-3 space-y-1",children:[o.jsx("p",{className:"text-sm font-medium",children:"Dopo questo pagamento:"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Nuova rimanenza:"}),o.jsxs("span",{className:`font-bold ${Number(e.amount)-parseFloat(_)===0?"text-income":"text-expense"}`,children:["",(Number(e.amount)-parseFloat(_)).toFixed(2)]})]}),Number(e.amount)-parseFloat(_)===0&&o.jsx("p",{className:"text-xs text-income mt-1",children:" Il promemoria verr segnato come completato"})]})]}),o.jsxs(Ls,{children:[o.jsx(z,{variant:"outline",onClick:()=>j(!1),children:"Annulla"}),o.jsx(z,{onClick:F,className:"bg-primary",disabled:!_||parseFloat(_)<=0||parseFloat(_)>Number(e.amount),children:"Registra Pagamento"})]})]})}),o.jsx(jp,{open:l,onOpenChange:d,feature:c})]})}function mle({reminders:e,onToggleComplete:t}){const[r,n]=p.useState(!1);p.useRef(null);const a=p.useMemo(()=>e.filter(c=>!c.completed).sort((c,u)=>{const d=Pi(c.due_date).getTime(),f=Pi(u.due_date).getTime();return d!==f?d-f:(Number(u.amount)||0)-(Number(c.amount)||0)}),[e]),i=c=>{const u=Ps(Pi(c),new Date);return u<0?{label:"Scaduto",color:"text-expense"}:u===0?{label:"Oggi",color:"text-warning"}:u===1?{label:"Domani",color:"text-warning"}:{label:`${u} giorni`,color:"text-muted-foreground"}},s=()=>{const c=window.open("","_blank");if(!c)return;const u=f=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(f),d=a.reduce((f,h)=>f+(Number(h.amount)||0),0);c.document.write(`
      <html>
        <head>
          <title>Prossime Scadenze</title>
          <style>
            body { font-family: Arial; padding: 20px; }
            table { width: 100%; border-collapse: collapse; }
            th, td { border: 1px solid #ddd; padding: 8px; }
            th { background: #f5f5f5; }
            .right { text-align: right; }
          </style>
        </head>
        <body>
          <h1>Prossime Scadenze</h1>
          <table>
            <thead>
              <tr>
                <th>Titolo</th>
                <th>Data</th>
                <th>Stato</th>
                <th class="right">Importo</th>
              </tr>
            </thead>
            <tbody>
              ${a.map(f=>{const h=Ps(Pi(f.due_date),new Date),m=h<0?"Scaduto":h===0?"Oggi":h===1?"Domani":`${h} giorni`;return`
                    <tr>
                      <td>${f.title}</td>
                      <td>${ye(Pi(f.due_date),"dd/MM/yyyy")}</td>
                      <td>${m}</td>
                      <td class="right">${f.amount?u(Number(f.amount)):"-"}</td>
                    </tr>
                  `}).join("")}
              <tr>
                <td colspan="3"><strong>Totale</strong></td>
                <td class="right"><strong>${u(d)}</strong></td>
              </tr>
            </tbody>
          </table>
        </body>
      </html>
    `),c.document.close(),c.print()},l=({inModal:c=!1})=>o.jsx("div",{className:J("space-y-3",c?"max-h-[70vh] overflow-y-auto":"h-auto overflow-visible"),children:a.map((u,d)=>{const{label:f,color:h}=i(u.due_date),m=Ps(Pi(u.due_date),new Date)<0;return o.jsxs(nt.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:Math.min(d*.05,.5)},className:J("flex items-center justify-between p-3 rounded-xl bg-secondary/50 gap-2",m&&"border border-expense/30"),children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[m&&o.jsx(vd,{className:"w-4 h-4 text-expense flex-shrink-0"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:u.title}),o.jsxs("div",{className:"flex items-center gap-2 text-xs mt-1",children:[o.jsx(Gt,{className:"w-3 h-3"}),o.jsx("span",{children:ye(Pi(u.due_date),"d MMM",{locale:$a})}),o.jsx("span",{className:J("font-medium",h),children:f}),u.amount&&o.jsxs("span",{className:"font-semibold",children:["",Number(u.amount).toFixed(2)]})]})]})]}),o.jsx(x5,{reminder:u})]},u.id)})});return o.jsxs(o.Fragment,{children:[o.jsxs(nt.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},className:"glass rounded-2xl p-5 shadow-card",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 text-[#067d1c]",children:[o.jsx(qi,{className:"w-5 h-5"}),"Prossime Scadenze (",a.length,")"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(z,{size:"sm",variant:"outline",onClick:s,children:o.jsx(Jf,{className:"w-4 h-4"})}),o.jsxs(z,{size:"sm",variant:"outline",onClick:()=>n(!0),children:[o.jsx(y6,{className:"w-4 h-4"}),"Tutti"]})]})]}),a.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nessuna scadenza imminente"}):o.jsx(l,{})]}),o.jsx(ir,{open:r,onOpenChange:n,children:o.jsxs(tr,{className:"max-w-4xl max-h-[90vh]",children:[o.jsx(rr,{children:o.jsxs(nr,{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"flex items-center gap-2 text-[#067d1c]",children:[o.jsx(qi,{className:"w-5 h-5"}),"Prossime Scadenze (",a.length,")"]}),o.jsx(z,{size:"sm",variant:"outline",onClick:s,children:o.jsx(Jf,{className:"w-4 h-4"})})]})}),o.jsx(l,{inModal:!0})]})})]})}const Re=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Re.displayName="Card";const We=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:J("flex flex-col space-y-1.5 p-6",e),...t}));We.displayName="CardHeader";const He=p.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:J("text-2xl font-semibold leading-none tracking-tight",e),...t}));He.displayName="CardTitle";const Tt=p.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:J("text-sm text-muted-foreground",e),...t}));Tt.displayName="CardDescription";const De=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:J("p-6 pt-0",e),...t}));De.displayName="CardContent";const ple=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:J("flex items-center p-6 pt-0",e),...t}));ple.displayName="CardFooter";const gle=Dm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),yt=p.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,className:J(gle({variant:t}),e),...r}));yt.displayName="Badge";function yle(){const e=zn(),{transactions:t}=qa(),r=p.useMemo(()=>{const l=fa(new Date),c=ij(l,7);return t.filter(u=>{if(!u.plan_id||!u.installment_index)return!1;const d=new Date(u.date);return!(u.is_partial===!0||Number(u.paid_amount)>=Number(u.amount))&&Xs(d,c)}).sort((u,d)=>new Date(u.date).getTime()-new Date(d.date).getTime())},[t]),n=p.useMemo(()=>r.reduce((l,c)=>l+Number(c.amount),0),[r]),a=l=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(l),i=l=>{const c=fa(new Date),d=fa(new Date(l)).getTime()-c.getTime();return Math.ceil(d/(1e3*60*60*24))},s=l=>{const c=i(l);return c<0?"text-destructive bg-destructive/10 border-destructive/30":c<=2?"text-amber-600 bg-amber-50 dark:bg-amber-950/30 border-amber-500/30":"text-primary bg-primary/5 border-primary/20"};return r.length===0?null:o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:o.jsxs(Re,{className:"bg-gradient-to-br from-primary/5 to-transparent border-primary/20",children:[o.jsx(We,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(He,{className:"text-lg flex items-center gap-2",children:[o.jsx(fn,{className:"w-5 h-5 text-primary"}),"Rate in Scadenza",r.length>0&&o.jsx(yt,{variant:"secondary",className:"ml-2",children:r.length})]}),o.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>e("/plans"),className:"text-primary hover:bg-primary/10",children:["Vai ai Piani",o.jsx(Yf,{className:"w-4 h-4 ml-1"})]})]})}),o.jsxs(De,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-expense/10 border border-expense/20",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vd,{className:"w-4 h-4 text-expense"}),o.jsx("span",{className:"text-sm font-medium",children:"Totale da pagare (7 giorni)"})]}),o.jsx("span",{className:"text-lg font-bold text-expense",children:a(n)})]}),o.jsx("div",{className:"space-y-2",children:r.slice(0,5).map((l,c)=>{const u=i(l.date),d=s(l.date);return o.jsxs(nt.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:c*.05},className:J("flex items-center justify-between p-3 rounded-lg border",d),children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"font-medium text-sm truncate",children:l.description||"Rata"}),o.jsxs(yt,{variant:"outline",className:"text-xs shrink-0",children:["Rata ",l.installment_index,"/",l.installment_total]})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[o.jsx(Gt,{className:"w-3 h-3"}),o.jsx("span",{children:ye(new Date(l.date),"dd MMM yyyy",{locale:$a})}),o.jsx("span",{className:"font-medium",children:u<0?`(scaduta da ${Math.abs(u)} giorni)`:u===0?"(oggi!)":`(tra ${u} giorni)`})]})]}),o.jsx("span",{className:"font-bold text-base ml-3",children:a(Number(l.amount))})]},l.id)})}),r.length>5&&o.jsxs(z,{variant:"link",className:"w-full text-primary",onClick:()=>e("/plans"),children:["Vedi tutte le ",r.length," rate "]})]})]})})}function vle(){const{user:e}=vt(),{upgradeToPro:t,loading:r,isInTrial:n,trialDaysRemaining:a,subscription:i}=Xl(),{isAdmin:s}=so(),l=zn(),[c,u]=p.useState(!1);return!e||c||s?null:n?o.jsxs(nt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative mb-6 rounded-xl overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 via-indigo-500/20 to-blue-500/20"}),o.jsxs("div",{className:"relative p-4 md:p-5 border border-blue-500/30 rounded-xl backdrop-blur-sm",children:[o.jsx("button",{onClick:()=>u(!0),className:"absolute top-2 right-2 p-1 rounded-full hover:bg-background/50 text-muted-foreground hover:text-foreground transition-colors",children:o.jsx(ma,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 rounded-full bg-gradient-to-br from-blue-400 to-indigo-500 shadow-lg",children:o.jsx($m,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:["Trial Pro Attivo",o.jsx(eh,{className:"w-4 h-4 text-blue-500"})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[a," giorni rimasti - Accesso completo a tutte le funzionalit"]})]})]}),o.jsx("div",{className:"flex gap-2 md:ml-auto",children:o.jsxs(z,{size:"sm",onClick:()=>t(),disabled:r,className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white shadow-lg",children:[o.jsx(er,{className:"w-4 h-4 mr-1"}),r?"Caricamento...":"Abbonati ora"]})})]})]})]}):i.status!=="active"?o.jsxs(nt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative mb-6 rounded-xl overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/20 via-orange-500/20 to-yellow-500/20"}),o.jsxs("div",{className:"relative p-4 md:p-5 border border-yellow-500/30 rounded-xl backdrop-blur-sm",children:[o.jsx("button",{onClick:()=>u(!0),className:"absolute top-2 right-2 p-1 rounded-full hover:bg-background/50 text-muted-foreground hover:text-foreground transition-colors",children:o.jsx(ma,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 shadow-lg",children:o.jsx(er,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:["Il tuo trial  terminato",o.jsx(eh,{className:"w-4 h-4 text-yellow-500"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Abbonati per sbloccare tutte le funzionalit premium"})]})]}),o.jsxs("div",{className:"flex gap-2 md:ml-auto",children:[o.jsx(z,{variant:"outline",size:"sm",onClick:()=>l("/pricing"),className:"border-yellow-500/50 text-yellow-600 hover:bg-yellow-500/10",children:"Scopri di pi"}),o.jsxs(z,{size:"sm",onClick:()=>t(),disabled:r,className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white shadow-lg",children:[o.jsx(er,{className:"w-4 h-4 mr-1"}),r?"Caricamento...":"Abbonati 4,99/mese"]})]})]})]})]}):null}function Ej(){const[e,t]=p.useState(!1),[r,n]=p.useState(!1),[a,i]=p.useState({voiceName:null,rate:1,pitch:1}),s=p.useRef(null);p.useEffect(()=>{(async()=>{try{const{data:{user:d}}=await ie.auth.getUser();if(!d)return;const{data:f,error:h}=await ie.from("profiles").select("tts_voice_name, tts_rate, tts_pitch").eq("id",d.id).maybeSingle();if(h)throw h;f&&i({voiceName:f.tts_voice_name,rate:Number(f.tts_rate)||1,pitch:Number(f.tts_pitch)||1})}catch(d){console.error("Error loading TTS settings:",d)}})()},[]);const l=p.useCallback(async u=>{if(!u.trim()){W.error("Nessun testo da leggere");return}if(!("speechSynthesis"in window)){W.error("Sintesi vocale non supportata dal browser");return}window.speechSynthesis.cancel(),n(!0),t(!1);try{const d=new SpeechSynthesisUtterance(u);s.current=d;const f=window.speechSynthesis.getVoices();let h;a.voiceName&&(h=f.find(m=>m.name===a.voiceName)),h||(h=f.find(m=>m.lang.startsWith("it"))||f[0]),h?(d.voice=h,d.lang=h.lang):d.lang="it-IT",d.rate=a.rate,d.pitch=a.pitch,d.onstart=()=>{n(!1),t(!0)},d.onend=()=>{t(!1),s.current=null},d.onerror=m=>{t(!1),n(!1),s.current=null,m.error!=="canceled"&&W.error("Errore nella sintesi vocale")},window.speechSynthesis.speak(d)}catch(d){console.error("TTS error:",d),W.error("Errore nella sintesi vocale"),n(!1)}},[a]),c=p.useCallback(()=>{window.speechSynthesis.cancel(),s.current=null,t(!1)},[]);return{speak:l,stop:c,isPlaying:e,isLoading:r}}function xle(){const{user:e}=vt(),{transactions:t}=qa(),{reminders:r,toggleCompleted:n}=as(),{speak:a,stop:i,isPlaying:s,isLoading:l}=Ej(),{isPro:c,showGate:u,featureName:d,checkProFeature:f,setShowGate:h}=_p(),[m,v]=p.useState(!1),g=()=>{if(!f("Sintesi vocale TTS"))return;if(s){i(),v(!1);return}const _=`Riepilogo finanziario di ${new Date().toLocaleDateString("it-IT",{month:"long",year:"numeric"})}. 
      Entrate del mese: ${y.income.toFixed(0)} euro. 
      Uscite del mese: ${y.expenses.toFixed(0)} euro. 
      Saldo attuale: ${y.balance.toFixed(0)} euro.`;y.balance>0?(v(!0),a(_+" Il saldo  positivo, ottimo lavoro!")):y.balance<0?(v(!0),a(_+" Attenzione, il saldo  negativo.")):(v(!0),a(_))},y=p.useMemo(()=>{const w=new Date,j=w.getMonth(),_=w.getFullYear(),S=t.filter(A=>{const P=new Date(A.date);return P.getMonth()===j&&P.getFullYear()===_}),N=S.filter(A=>A.type==="entrata").reduce((A,P)=>A+Number(P.amount),0),T=S.filter(A=>A.type==="uscita").reduce((A,P)=>A+Number(P.amount),0),C=N-T;return{income:N,expenses:T,balance:C}},[t]),x=(w,j)=>{n.mutate({id:w,completed:j})},b=w=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(w);return o.jsx(pn,{children:o.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[o.jsxs(nt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"coin-container",children:o.jsx("div",{className:"banknote-shine coin-rotate w-10 h-10 md:w-12 md:h-12 rounded-full",children:o.jsx("img",{src:dl,alt:"Euro",className:"w-10 h-10 md:w-12 md:h-12 object-contain"})})}),o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-[#067d1c]",children:"Gestione Scadenze"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(op,{}),o.jsxs(z,{variant:"outline",size:"sm",onClick:g,disabled:l,className:`gap-2 ${c?"text-primary border-primary/30 hover:bg-primary/10":"border-yellow-500/50 text-yellow-600"}`,children:[!c&&o.jsx(er,{className:"w-3 h-3 text-yellow-500"}),l?o.jsx(Vt,{className:"w-4 h-4 animate-spin"}):s?o.jsx(Lm,{className:"w-4 h-4"}):m?o.jsx(Ws,{className:"w-4 h-4"}):o.jsx(Qc,{className:"w-4 h-4"}),l?"Carico...":s?"Stop":"Leggi"]})]})]}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Ecco il riepilogo delle tue finanze"})]}),o.jsx(vle,{}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[o.jsx(ty,{title:"Entrate del mese",value:b(y.income),icon:wd,variant:"income",delay:0}),o.jsx(ty,{title:"Uscite del mese",value:b(y.expenses),icon:bd,variant:"expense",delay:.1}),o.jsx(ty,{title:"Saldo",value:b(y.balance),icon:eu,variant:"balance",delay:.2})]}),o.jsx("div",{className:"mb-6",children:o.jsx(yle,{})}),o.jsx(mle,{reminders:r,onToggleComplete:x}),o.jsx(jp,{open:u,onOpenChange:h,feature:d})]})})}const ble=()=>o.jsx(xle,{}),b5=Id({email:Ut().email("Email non valida"),password:Ut().min(6,"La password deve avere almeno 6 caratteri")}),wle=b5.extend({fullName:Ut().min(2,"Il nome deve avere almeno 2 caratteri")});function _le(){const[e,t]=p.useState(!0),[r,n]=p.useState(""),[a,i]=p.useState(""),[s,l]=p.useState(""),[c,u]=p.useState(!1),[d,f]=p.useState({}),[h,m]=p.useState(!1),[v,g]=p.useState(!1),[y,x]=p.useState(!1),{signIn:b,signUp:w,user:j}=vt(),_=zn(),{toast:S}=pd();p.useEffect(()=>{j&&_("/")},[j,_]);const N=async()=>{if(!r.trim()){S({title:"Email richiesta",description:"Inserisci la tua email per recuperare la password.",variant:"destructive"});return}if(!Ut().email().safeParse(r).success){S({title:"Email non valida",description:"Inserisci un indirizzo email valido.",variant:"destructive"});return}x(!0);try{const{error:A}=await ie.auth.resetPasswordForEmail(r,{redirectTo:`${window.location.origin}/auth`});A?S({title:"Errore",description:"Si  verificato un errore. Riprova pi tardi.",variant:"destructive"}):(S({title:"Email inviata!",description:"Controlla la tua casella email per recuperare la password."}),g(!1))}catch{S({title:"Errore",description:"Si  verificato un errore. Riprova.",variant:"destructive"})}finally{x(!1)}},T=async C=>{C.preventDefault(),f({}),u(!0);try{const A=e?b5:wle,P=e?{email:r,password:a}:{email:r,password:a,fullName:s},E=A.safeParse(P);if(!E.success){const R={};E.error.errors.forEach(O=>{O.path[0]&&(R[O.path[0]]=O.message)}),f(R),u(!1);return}if(e){const{error:R}=await b(r,a);R&&(console.error("Auth error:",R),R.message.includes("Invalid login")||R.message.includes("invalid_credentials")?S({title:"Credenziali non valide",description:"Email o password errati. Riprova.",variant:"destructive"}):R.message.includes("Email not confirmed")?S({title:"Email non confermata",description:"Verifica la tua email prima di accedere.",variant:"destructive"}):S({title:"Errore di accesso",description:"Si  verificato un errore. Riprova pi tardi.",variant:"destructive"}))}else{const{error:R}=await w(r,a,s);R?(console.error("Signup error:",R),R.message.includes("already registered")||R.message.includes("already exists")?S({title:"Email gi registrata",description:"Questa email  gi associata a un account. Prova ad accedere.",variant:"destructive"}):R.message.includes("weak_password")?S({title:"Password debole",description:"La password deve essere pi sicura.",variant:"destructive"}):S({title:"Errore di registrazione",description:"Si  verificato un errore. Riprova pi tardi.",variant:"destructive"})):S({title:"Account creato!",description:"Benvenuto in Gestione Scadenze."})}}catch{S({title:"Errore",description:"Si  verificato un errore. Riprova.",variant:"destructive"})}finally{u(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:[o.jsx(Mi,{to:"/landing",className:"absolute top-4 left-4",children:o.jsxs(z,{variant:"ghost",size:"sm",className:"gap-2",children:[o.jsx(Q_,{className:"w-4 h-4"}),"Indietro"]})}),o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-md",children:o.jsxs("div",{className:"glass rounded-2xl p-8 shadow-card",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(nt.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.1,type:"spring"},className:"w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:o.jsx("img",{src:aF,alt:"100 Euro",className:"w-full h-full object-contain"})}),o.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:e?"Bentornato!":"Crea Account"}),o.jsx("p",{className:"text-muted-foreground",children:e?"Accedi per gestire le tue scadenze":"Inizia a gestire le tue finanze"})]}),o.jsxs("form",{onSubmit:T,className:"space-y-5",children:[!e&&o.jsxs(nt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[o.jsx(Me,{htmlFor:"fullName",className:"text-foreground",children:"Nome completo"}),o.jsxs("div",{className:"relative mt-1.5",children:[o.jsx(th,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(gt,{id:"fullName",type:"text",value:s,onChange:C=>l(C.target.value),placeholder:"Mario Rossi",className:"pl-10"})]}),d.fullName&&o.jsx("p",{className:"text-destructive text-sm mt-1",children:d.fullName})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"email",className:"text-foreground",children:"Email"}),o.jsxs("div",{className:"relative mt-1.5",children:[o.jsx(Jc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(gt,{id:"email",name:"email",type:"email",value:r,onChange:C=>n(C.target.value),placeholder:"mario@esempio.it",className:"pl-10",autoComplete:"email",autoCapitalize:"none",autoCorrect:"off"})]}),d.email&&o.jsx("p",{className:"text-destructive text-sm mt-1",children:d.email})]}),o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"password",className:"text-foreground",children:"Password"}),o.jsxs("div",{className:"relative mt-1.5",children:[o.jsx(g0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(gt,{id:"password",name:"password",type:h?"text":"password",value:a,onChange:C=>i(C.target.value),placeholder:"",className:"pl-10 pr-10",autoComplete:e?"current-password":"new-password",autoCapitalize:"none",autoCorrect:"off"}),o.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors z-10","aria-label":h?"Nascondi password":"Mostra password",children:h?o.jsx(FW,{className:"w-5 h-5"}):o.jsx(ai,{className:"w-5 h-5"})})]}),d.password&&o.jsx("p",{className:"text-destructive text-sm mt-1",children:d.password}),e&&o.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-primary hover:text-primary/80 transition-colors mt-2",children:"Non ricordi la password?"})]}),o.jsx(z,{type:"submit",disabled:c,className:"w-full gradient-primary text-primary-foreground hover:opacity-90 transition-opacity",children:c?o.jsx(Vt,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[e?"Accedi":"Registrati",o.jsx(Yf,{className:"w-5 h-5 ml-2"})]})})]}),v&&o.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:C=>C.target===C.currentTarget&&g(!1),children:o.jsxs(nt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-card rounded-2xl p-6 w-full max-w-md shadow-xl",children:[o.jsx("h2",{className:"text-xl font-bold text-foreground mb-2",children:"Recupera Password"}),o.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Inserisci la tua email e ti invieremo un link per reimpostare la password."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Me,{htmlFor:"reset-email",className:"text-foreground",children:"Email"}),o.jsxs("div",{className:"relative mt-1.5",children:[o.jsx(Jc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(gt,{id:"reset-email",name:"reset-email",type:"email",value:r,onChange:C=>n(C.target.value),placeholder:"mario@esempio.it",className:"pl-10",autoComplete:"email",autoCapitalize:"none",autoCorrect:"off"})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(z,{type:"button",variant:"outline",onClick:()=>g(!1),className:"flex-1",children:"Annulla"}),o.jsx(z,{type:"button",onClick:N,disabled:y,className:"flex-1 gradient-primary",children:y?o.jsx(Vt,{className:"w-5 h-5 animate-spin"}):"Invia link"})]})]})]})}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("button",{type:"button",onClick:()=>{t(!e),f({})},className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:e?o.jsxs(o.Fragment,{children:["Non hai un account? ",o.jsx("span",{className:"text-primary font-medium",children:"Registrati"})]}):o.jsxs(o.Fragment,{children:["Hai gi un account? ",o.jsx("span",{className:"text-primary font-medium",children:"Accedi"})]})})})]})})]})}function w5(){const[e,t]=p.useState(null),[r,n]=p.useState(!1),[a,i]=p.useState(!1),[s,l]=p.useState(!1);return p.useEffect(()=>{const u=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;l(u);const d=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");i(d);const f=h=>{h.preventDefault(),t(h),n(!0)};return window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",()=>{i(!0),n(!1),t(null)}),()=>{window.removeEventListener("beforeinstallprompt",f)}},[]),{isInstallable:r,isInstalled:a,isIOS:s,promptInstall:async()=>{if(!e)return!1;e.prompt();const{outcome:u}=await e.userChoice;return u==="accepted"?(t(null),n(!1),!0):!1}}}function _5({showIcon:e=!0,children:t,...r}){const n=zn(),{isInstallable:a,isInstalled:i,isIOS:s,promptInstall:l}=w5(),c=async()=>{if(i){W.info("L'app  gi installata sul tuo dispositivo");return}if(s){n("/install");return}a?await l()&&W.success("App installata con successo!"):n("/install")};return i?null:o.jsxs(z,{onClick:c,...r,children:[e&&o.jsx($r,{className:"mr-2 w-5 h-5"}),t||"Installa App"]})}function jle({showIcon:e=!0,children:t,...r}){const n=()=>{W.info(`Per disinstallare l'app:

 Android: Vai in Impostazioni > App > Gestione Scadenze > Disinstalla
 iOS: Tieni premuta l'icona e seleziona "Rimuovi app"
 Desktop: Clicca sui 3 puntini nel browser e seleziona "Disinstalla"`,{duration:8e3})};return o.jsxs(z,{onClick:n,...r,children:[e&&o.jsx(Lr,{className:"mr-2 w-4 h-4"}),t||"Disinstalla"]})}const Sle=""+new URL("100-euro-note-BL0jq_MK.png",import.meta.url).href;function Nle(){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/30",children:[o.jsxs("header",{className:"p-4 md:p-6 flex items-center justify-between max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"coin-container",children:o.jsx("div",{className:"banknote-shine coin-rotate w-10 h-10 rounded-full",children:o.jsx("img",{src:dl,alt:"Euro",className:"w-10 h-10 object-contain"})})}),o.jsx("span",{className:"font-bold text-xl text-foreground",children:"Gestione Scadenze"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Mi,{to:"/auth",children:o.jsx(z,{variant:"ghost",size:"sm",children:"Accedi"})}),o.jsx(Mi,{to:"/auth",children:o.jsx(z,{size:"sm",className:"gradient-primary text-primary-foreground shadow-glow",children:"Inizia Gratis"})})]})]}),o.jsxs("main",{className:"px-4 md:px-6 py-12 md:py-20 max-w-7xl mx-auto",children:[o.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-3xl mx-auto mb-16",children:[o.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-foreground mb-6 leading-tight",children:["Gestisci le tue ",o.jsx("span",{className:"text-primary",children:"finanze"})," in modo semplice"]}),o.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-8",children:"Tieni traccia di transazioni, scadenze e promemoria. Ricevi notifiche e mantieni il controllo del tuo budget."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx(Mi,{to:"/auth",children:o.jsxs(z,{size:"lg",className:"gradient-primary text-primary-foreground shadow-glow w-full sm:w-auto",children:["Registrati Gratis",o.jsx(Yf,{className:"ml-2 w-5 h-5"})]})}),o.jsx(_5,{variant:"outline",size:"lg",className:"w-full sm:w-auto"})]})]}),o.jsxs(nt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"grid md:grid-cols-3 gap-6 mb-16",children:[o.jsx(Re,{className:"shadow-card border-primary/20 bg-card/50 backdrop-blur",children:o.jsxs(De,{className:"p-6 text-center",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(wd,{className:"w-7 h-7 text-primary"})}),o.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Transazioni"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Registra entrate e uscite, categorizza le spese e visualizza report dettagliati"})]})}),o.jsx(Re,{className:"shadow-card border-primary/20 bg-card/50 backdrop-blur",children:o.jsxs(De,{className:"p-6 text-center",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(qi,{className:"w-7 h-7 text-primary"})}),o.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Promemoria"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Non dimenticare mai una scadenza con promemoria personalizzati e notifiche"})]})}),o.jsx(Re,{className:"shadow-card border-primary/20 bg-card/50 backdrop-blur",children:o.jsxs(De,{className:"p-6 text-center",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(Ko,{className:"w-7 h-7 text-primary"})}),o.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Sicuro"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"I tuoi dati sono protetti e sincronizzati in cloud su tutti i dispositivi"})]})})]}),o.jsx(nt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"bg-gradient-to-r from-primary/10 via-primary/5 to-transparent rounded-3xl p-8 md:p-12 mb-16",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(sl,{className:"w-6 h-6 text-primary"}),o.jsx("span",{className:"text-sm font-medium text-primary uppercase tracking-wide",children:"App Installabile"})]}),o.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Installa l'app sul tuo dispositivo"}),o.jsxs("ul",{className:"space-y-3 mb-6",children:[o.jsxs("li",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx($i,{className:"w-5 h-5 text-income"}),"Funziona offline"]}),o.jsxs("li",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx($i,{className:"w-5 h-5 text-income"}),"Accesso rapido dalla home screen"]}),o.jsxs("li",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx($i,{className:"w-5 h-5 text-income"}),"Notifiche push (Android/Desktop)"]}),o.jsxs("li",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx($i,{className:"w-5 h-5 text-income"}),"Nessun download da App Store"]})]}),o.jsx(Mi,{to:"/install",children:o.jsxs(z,{className:"gradient-primary text-primary-foreground shadow-glow",children:[o.jsx($r,{className:"mr-2 w-5 h-5"}),"Come Installare"]})})]}),o.jsx("div",{className:"flex-shrink-0 banknote-container",children:o.jsx(nt.div,{className:"w-72 h-44 flex items-center justify-center p-3",animate:{y:[0,-15,0,-8,0],rotateX:[0,5,0,-5,0],rotateY:[0,15,0,-15,0],rotateZ:[-2,2,-2],scale:[1,1.02,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},style:{transformStyle:"preserve-3d"},children:o.jsx("div",{className:"banknote-shine w-full h-full rounded-lg",children:o.jsx("img",{src:Sle,alt:"100 Euro",className:"w-full h-full object-contain drop-shadow-2xl"})})})})]})}),o.jsxs(nt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"text-center",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Pronto a iniziare?"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Registrati gratuitamente e inizia a gestire le tue finanze oggi stesso"}),o.jsx(Mi,{to:"/auth",children:o.jsxs(z,{size:"lg",className:"gradient-primary text-primary-foreground shadow-glow",children:["Crea Account Gratuito",o.jsx(Yf,{className:"ml-2 w-5 h-5"})]})})]})]}),o.jsxs("footer",{className:"p-6 text-center text-muted-foreground text-sm border-t border-border/50 mt-12",children:[o.jsx("p",{children:" 2024 Gestione Scadenze. Tutti i diritti riservati."}),o.jsx("p",{className:"mt-2",children:"PWA disponibile su iOS, Android, Windows e Mac"})]})]})}const LE="records-per-page",Cle=25;function j5(){const[e,t]=p.useState(()=>{try{const n=localStorage.getItem(LE);if(n){const a=n==="all"?"all":parseInt(n,10);if(a==="all"||[10,25,50,100].includes(a))return a}}catch{console.warn("Failed to read records-per-page from localStorage")}return Cle});return p.useEffect(()=>{try{localStorage.setItem(LE,String(e))}catch{console.warn("Failed to save records-per-page to localStorage")}},[e]),{recordsPerPage:e,setRecordsPerPage:t,applyLimit:n=>e==="all"?n:n.slice(0,e)}}const Tle=[{value:10,label:"10"},{value:25,label:"25"},{value:50,label:"50"},{value:100,label:"100"},{value:"all",label:"Tutti"}];function S5({value:e,onChange:t,totalCount:r}){const n=s=>{const l=s==="all"?"all":parseInt(s,10);t(l)},a=e==="all"?r:Math.min(e,r||e),i=r!==void 0?`Mostra ${a} di ${r}`:`Mostra ${e==="all"?"Tutti":e}`;return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:i}),o.jsxs(St,{value:String(e),onValueChange:n,children:[o.jsx(wt,{className:"w-[80px] h-8 text-sm border-primary/30",children:o.jsx(Nt,{})}),o.jsx(_t,{children:Tle.map(s=>o.jsx(Ae,{value:String(s.value),children:s.label},s.value))})]})]})}var ly="rovingFocusGroup.onEntryFocus",Ele={bubbles:!1,cancelable:!0},Fd="RovingFocusGroup",[Cw,N5,Ale]=gd(Fd),[Ple,Sp]=Fr(Fd,[Ale]),[Ole,kle]=Ple(Fd),C5=p.forwardRef((e,t)=>o.jsx(Cw.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Cw.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Rle,{...e,ref:t})})}));C5.displayName=Fd;var Rle=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),m=Fe(t,h),v=Zl(i),[g,y]=$n({prop:s,defaultProp:l??null,onChange:c,caller:Fd}),[x,b]=p.useState(!1),w=Qt(u),j=N5(r),_=p.useRef(!1),[S,N]=p.useState(0);return p.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(ly,w),()=>T.removeEventListener(ly,w)},[w]),o.jsx(Ole,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:g,onItemFocus:p.useCallback(T=>y(T),[y]),onItemShiftTab:p.useCallback(()=>b(!0),[]),onFocusableItemAdd:p.useCallback(()=>N(T=>T+1),[]),onFocusableItemRemove:p.useCallback(()=>N(T=>T-1),[]),children:o.jsx(Ce.div,{tabIndex:x||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:ce(e.onMouseDown,()=>{_.current=!0}),onFocus:ce(e.onFocus,T=>{const C=!_.current;if(T.target===T.currentTarget&&C&&!x){const A=new CustomEvent(ly,Ele);if(T.currentTarget.dispatchEvent(A),!A.defaultPrevented){const P=j().filter(D=>D.focusable),E=P.find(D=>D.active),R=P.find(D=>D.id===g),M=[E,R,...P].filter(Boolean).map(D=>D.ref.current);A5(M,d)}}_.current=!1}),onBlur:ce(e.onBlur,()=>b(!1))})})}),T5="RovingFocusGroupItem",E5=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:s,...l}=e,c=hn(),u=i||c,d=kle(T5,r),f=d.currentTabStopId===u,h=N5(r),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:g}=d;return p.useEffect(()=>{if(n)return m(),()=>v()},[n,m,v]),o.jsx(Cw.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:o.jsx(Ce.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ce(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:ce(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ce(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=Ile(y,d.orientation,d.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=h().filter(j=>j.focusable).map(j=>j.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const j=w.indexOf(y.currentTarget);w=d.loop?$le(w,j+1):w.slice(j+1)}setTimeout(()=>A5(w))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:g!=null}):s})})});E5.displayName=T5;var Mle={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Dle(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ile(e,t,r){const n=Dle(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Mle[n]}function A5(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function $le(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var P5=C5,O5=E5;function Lle(e){const t=Fle(e),r=p.forwardRef((n,a)=>{const{children:i,...s}=n,l=p.Children.toArray(i),c=l.find(zle);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Fle(e){const t=p.forwardRef((r,n)=>{const{children:a,...i}=r;if(p.isValidElement(a)){const s=Vle(a),l=Ule(i,a.props);return a.type!==p.Fragment&&(l.ref=n?za(n,s):s),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ble=Symbol("radix.slottable");function zle(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ble}function Ule(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Vle(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Tw=["Enter"," "],qle=["ArrowDown","PageUp","Home"],k5=["ArrowUp","PageDown","End"],Wle=[...qle,...k5],Hle={ltr:[...Tw,"ArrowRight"],rtl:[...Tw,"ArrowLeft"]},Gle={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Bd="Menu",[Au,Kle,Yle]=gd(Bd),[oo,R5]=Fr(Bd,[Yle,ts,Sp]),Np=ts(),M5=Sp(),[Xle,lo]=oo(Bd),[Zle,zd]=oo(Bd),D5=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:s=!0}=e,l=Np(t),[c,u]=p.useState(null),d=p.useRef(!1),f=Qt(i),h=Zl(a);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),o.jsx(Vm,{...l,children:o.jsx(Xle,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(Zle,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:s,children:n})})})};D5.displayName=Bd;var Jle="MenuAnchor",Aj=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Np(r);return o.jsx(jd,{...a,...n,ref:t})});Aj.displayName=Jle;var Pj="MenuPortal",[Qle,I5]=oo(Pj,{forceMount:void 0}),$5=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=lo(Pj,t);return o.jsx(Qle,{scope:t,forceMount:r,children:o.jsx(Sr,{present:r||i.open,children:o.jsx(Fl,{asChild:!0,container:a,children:n})})})};$5.displayName=Pj;var Dn="MenuContent",[ece,Oj]=oo(Dn),L5=p.forwardRef((e,t)=>{const r=I5(Dn,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=lo(Dn,e.__scopeMenu),s=zd(Dn,e.__scopeMenu);return o.jsx(Au.Provider,{scope:e.__scopeMenu,children:o.jsx(Sr,{present:n||i.open,children:o.jsx(Au.Slot,{scope:e.__scopeMenu,children:s.modal?o.jsx(tce,{...a,ref:t}):o.jsx(rce,{...a,ref:t})})})})}),tce=p.forwardRef((e,t)=>{const r=lo(Dn,e.__scopeMenu),n=p.useRef(null),a=Fe(t,n);return p.useEffect(()=>{const i=n.current;if(i)return np(i)},[]),o.jsx(kj,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ce(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),rce=p.forwardRef((e,t)=>{const r=lo(Dn,e.__scopeMenu);return o.jsx(kj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),nce=Lle("MenuContent.ScrollLock"),kj=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:v,...g}=e,y=lo(Dn,r),x=zd(Dn,r),b=Np(r),w=M5(r),j=Kle(r),[_,S]=p.useState(null),N=p.useRef(null),T=Fe(t,N,y.onContentChange),C=p.useRef(0),A=p.useRef(""),P=p.useRef(0),E=p.useRef(null),R=p.useRef("right"),O=p.useRef(0),M=v?Od:p.Fragment,D=v?{as:nce,allowPinchZoom:!0}:void 0,I=$=>{const V=A.current+$,X=j().filter(te=>!te.disabled),Y=document.activeElement,q=X.find(te=>te.ref.current===Y)?.textValue,oe=X.map(te=>te.textValue),me=pce(oe,V,q),xe=X.find(te=>te.textValue===me)?.ref.current;(function te(Se){A.current=Se,window.clearTimeout(C.current),Se!==""&&(C.current=window.setTimeout(()=>te(""),1e3))})(V),xe&&setTimeout(()=>xe.focus())};p.useEffect(()=>()=>window.clearTimeout(C.current),[]),tp();const F=p.useCallback($=>R.current===E.current?.side&&yce($,E.current?.area),[]);return o.jsx(ece,{scope:r,searchRef:A,onItemEnter:p.useCallback($=>{F($)&&$.preventDefault()},[F]),onItemLeave:p.useCallback($=>{F($)||(N.current?.focus(),S(null))},[F]),onTriggerLeave:p.useCallback($=>{F($)&&$.preventDefault()},[F]),pointerGraceTimerRef:P,onPointerGraceIntentChange:p.useCallback($=>{E.current=$},[]),children:o.jsx(M,{...D,children:o.jsx(Pd,{asChild:!0,trapped:a,onMountAutoFocus:ce(i,$=>{$.preventDefault(),N.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:o.jsx(io,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:o.jsx(P5,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:S,onEntryFocus:ce(c,$=>{x.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(qm,{role:"menu","aria-orientation":"vertical","data-state":eB(y.open),"data-radix-menu-content":"",dir:x.dir,...b,...g,ref:T,style:{outline:"none",...g.style},onKeyDown:ce(g.onKeyDown,$=>{const X=$.target.closest("[data-radix-menu-content]")===$.currentTarget,Y=$.ctrlKey||$.altKey||$.metaKey,q=$.key.length===1;X&&($.key==="Tab"&&$.preventDefault(),!Y&&q&&I($.key));const oe=N.current;if($.target!==oe||!Wle.includes($.key))return;$.preventDefault();const xe=j().filter(te=>!te.disabled).map(te=>te.ref.current);k5.includes($.key)&&xe.reverse(),hce(xe)}),onBlur:ce(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(C.current),A.current="")}),onPointerMove:ce(e.onPointerMove,Pu($=>{const V=$.target,X=O.current!==$.clientX;if($.currentTarget.contains(V)&&X){const Y=$.clientX>O.current?"right":"left";R.current=Y,O.current=$.clientX}}))})})})})})})});L5.displayName=Dn;var ace="MenuGroup",Rj=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Ce.div,{role:"group",...n,ref:t})});Rj.displayName=ace;var ice="MenuLabel",F5=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Ce.div,{...n,ref:t})});F5.displayName=ice;var Oh="MenuItem",FE="menu.itemSelect",Cp=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=p.useRef(null),s=zd(Oh,e.__scopeMenu),l=Oj(Oh,e.__scopeMenu),c=Fe(t,i),u=p.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(FE,{bubbles:!0,cancelable:!0});f.addEventListener(FE,m=>n?.(m),{once:!0}),Y_(f,h),h.defaultPrevented?u.current=!1:s.onClose()}};return o.jsx(B5,{...a,ref:c,disabled:r,onClick:ce(e.onClick,d),onPointerDown:f=>{e.onPointerDown?.(f),u.current=!0},onPointerUp:ce(e.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:ce(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||Tw.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Cp.displayName=Oh;var B5=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,s=Oj(Oh,r),l=M5(r),c=p.useRef(null),u=Fe(t,c),[d,f]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const v=c.current;v&&m((v.textContent??"").trim())},[i.children]),o.jsx(Au.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:o.jsx(O5,{asChild:!0,...l,focusable:!n,children:o.jsx(Ce.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:ce(e.onPointerMove,Pu(v=>{n?s.onItemLeave(v):(s.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ce(e.onPointerLeave,Pu(v=>s.onItemLeave(v))),onFocus:ce(e.onFocus,()=>f(!0)),onBlur:ce(e.onBlur,()=>f(!1))})})})}),sce="MenuCheckboxItem",z5=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return o.jsx(H5,{scope:e.__scopeMenu,checked:r,children:o.jsx(Cp,{role:"menuitemcheckbox","aria-checked":kh(r)?"mixed":r,...a,ref:t,"data-state":Dj(r),onSelect:ce(a.onSelect,()=>n?.(kh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});z5.displayName=sce;var U5="MenuRadioGroup",[oce,lce]=oo(U5,{value:void 0,onValueChange:()=>{}}),V5=p.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Qt(n);return o.jsx(oce,{scope:e.__scopeMenu,value:r,onValueChange:i,children:o.jsx(Rj,{...a,ref:t})})});V5.displayName=U5;var q5="MenuRadioItem",W5=p.forwardRef((e,t)=>{const{value:r,...n}=e,a=lce(q5,e.__scopeMenu),i=r===a.value;return o.jsx(H5,{scope:e.__scopeMenu,checked:i,children:o.jsx(Cp,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":Dj(i),onSelect:ce(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});W5.displayName=q5;var Mj="MenuItemIndicator",[H5,cce]=oo(Mj,{checked:!1}),G5=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=cce(Mj,r);return o.jsx(Sr,{present:n||kh(i.checked)||i.checked===!0,children:o.jsx(Ce.span,{...a,ref:t,"data-state":Dj(i.checked)})})});G5.displayName=Mj;var uce="MenuSeparator",K5=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Ce.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});K5.displayName=uce;var dce="MenuArrow",Y5=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Np(r);return o.jsx(Wm,{...a,...n,ref:t})});Y5.displayName=dce;var fce="MenuSub",[WCe,X5]=oo(fce),Rc="MenuSubTrigger",Z5=p.forwardRef((e,t)=>{const r=lo(Rc,e.__scopeMenu),n=zd(Rc,e.__scopeMenu),a=X5(Rc,e.__scopeMenu),i=Oj(Rc,e.__scopeMenu),s=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(Aj,{asChild:!0,...u,children:o.jsx(B5,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":eB(r.open),...e,ref:za(t,a.onTriggerChange),onClick:f=>{e.onClick?.(f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ce(e.onPointerMove,Pu(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:ce(e.onPointerLeave,Pu(f=>{d();const h=r.content?.getBoundingClientRect();if(h){const m=r.content?.dataset.side,v=m==="right",g=v?-5:5,y=h[v?"left":"right"],x=h[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+g,y:f.clientY},{x:y,y:h.top},{x,y:h.top},{x,y:h.bottom},{x:y,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ce(e.onKeyDown,f=>{const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||Hle[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});Z5.displayName=Rc;var J5="MenuSubContent",Q5=p.forwardRef((e,t)=>{const r=I5(Dn,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=lo(Dn,e.__scopeMenu),s=zd(Dn,e.__scopeMenu),l=X5(J5,e.__scopeMenu),c=p.useRef(null),u=Fe(t,c);return o.jsx(Au.Provider,{scope:e.__scopeMenu,children:o.jsx(Sr,{present:n||i.open,children:o.jsx(Au.Slot,{scope:e.__scopeMenu,children:o.jsx(kj,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{s.isUsingKeyboardRef.current&&c.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ce(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ce(e.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:ce(e.onKeyDown,d=>{const f=d.currentTarget.contains(d.target),h=Gle[s.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),l.trigger?.focus(),d.preventDefault())})})})})})});Q5.displayName=J5;function eB(e){return e?"open":"closed"}function kh(e){return e==="indeterminate"}function Dj(e){return kh(e)?"indeterminate":e?"checked":"unchecked"}function hce(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function mce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function pce(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=mce(e,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function gce(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const l=t[i],c=t[s],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function yce(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return gce(r,t)}function Pu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var vce=D5,xce=Aj,bce=$5,wce=L5,_ce=Rj,jce=F5,Sce=Cp,Nce=z5,Cce=V5,Tce=W5,Ece=G5,Ace=K5,Pce=Y5,Oce=Z5,kce=Q5,Tp="DropdownMenu",[Rce]=Fr(Tp,[R5]),Xr=R5(),[Mce,tB]=Rce(Tp),rB=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:s,modal:l=!0}=e,c=Xr(t),u=p.useRef(null),[d,f]=$n({prop:a,defaultProp:i??!1,onChange:s,caller:Tp});return o.jsx(Mce,{scope:t,triggerId:hn(),triggerRef:u,contentId:hn(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(vce,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};rB.displayName=Tp;var nB="DropdownMenuTrigger",aB=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=tB(nB,r),s=Xr(r);return o.jsx(xce,{asChild:!0,...s,children:o.jsx(Ce.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:za(t,i.triggerRef),onPointerDown:ce(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ce(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});aB.displayName=nB;var Dce="DropdownMenuPortal",iB=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Xr(t);return o.jsx(bce,{...n,...r})};iB.displayName=Dce;var sB="DropdownMenuContent",oB=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=tB(sB,r),i=Xr(r),s=p.useRef(!1);return o.jsx(wce,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:ce(e.onCloseAutoFocus,l=>{s.current||a.triggerRef.current?.focus(),s.current=!1,l.preventDefault()}),onInteractOutside:ce(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oB.displayName=sB;var Ice="DropdownMenuGroup",$ce=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xr(r);return o.jsx(_ce,{...a,...n,ref:t})});$ce.displayName=Ice;var Lce="DropdownMenuLabel",lB=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xr(r);return o.jsx(jce,{...a,...n,ref:t})});lB.displayName=Lce;var Fce="DropdownMenuItem",cB=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xr(r);return o.jsx(Sce,{...a,...n,ref:t})});cB.displayName=Fce;var Bce="DropdownMenuCheckboxItem",uB=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xr(r);return o.jsx(Nce,{...a,...n,ref:t})});uB.displayName=Bce;var zce="DropdownMenuRadioGroup",Uce=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xr(r);return o.jsx(Cce,{...a,...n,ref:t})});Uce.displayName=zce;var Vce="DropdownMenuRadioItem",dB=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xr(r);return o.jsx(Tce,{...a,...n,ref:t})});dB.displayName=Vce;var qce="DropdownMenuItemIndicator",fB=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xr(r);return o.jsx(Ece,{...a,...n,ref:t})});fB.displayName=qce;var Wce="DropdownMenuSeparator",hB=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xr(r);return o.jsx(Ace,{...a,...n,ref:t})});hB.displayName=Wce;var Hce="DropdownMenuArrow",Gce=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xr(r);return o.jsx(Pce,{...a,...n,ref:t})});Gce.displayName=Hce;var Kce="DropdownMenuSubTrigger",mB=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xr(r);return o.jsx(Oce,{...a,...n,ref:t})});mB.displayName=Kce;var Yce="DropdownMenuSubContent",pB=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xr(r);return o.jsx(kce,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pB.displayName=Yce;var Xce=rB,Zce=aB,Jce=iB,gB=oB,yB=lB,vB=cB,xB=uB,bB=dB,wB=fB,_B=hB,jB=mB,SB=pB;const la=Xce,ca=Zce,Qce=p.forwardRef(({className:e,inset:t,children:r,...n},a)=>o.jsxs(jB,{ref:a,className:J("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(Im,{className:"ml-auto h-4 w-4"})]}));Qce.displayName=jB.displayName;const eue=p.forwardRef(({className:e,...t},r)=>o.jsx(SB,{ref:r,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));eue.displayName=SB.displayName;const On=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(Jce,{children:o.jsx(gB,{ref:n,sideOffset:t,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));On.displayName=gB.displayName;const ut=p.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(vB,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));ut.displayName=vB.displayName;const tue=p.forwardRef(({className:e,children:t,checked:r,...n},a)=>o.jsxs(xB,{ref:a,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(wB,{children:o.jsx(Ln,{className:"h-4 w-4"})})}),t]}));tue.displayName=xB.displayName;const rue=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(bB,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(wB,{children:o.jsx(EW,{className:"h-2 w-2 fill-current"})})}),t]}));rue.displayName=bB.displayName;const nue=p.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(yB,{ref:n,className:J("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));nue.displayName=yB.displayName;const Rh=p.forwardRef(({className:e,...t},r)=>o.jsx(_B,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));Rh.displayName=_B.displayName;var Ep="Tabs",[aue]=Fr(Ep,[Sp]),NB=Sp(),[iue,Ij]=aue(Ep),CB=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Zl(l),[f,h]=$n({prop:n,onChange:a,defaultProp:i??"",caller:Ep});return o.jsx(iue,{scope:r,baseId:hn(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:c,children:o.jsx(Ce.div,{dir:d,"data-orientation":s,...u,ref:t})})});CB.displayName=Ep;var TB="TabsList",EB=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=Ij(TB,r),s=NB(r);return o.jsx(P5,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(Ce.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});EB.displayName=TB;var AB="TabsTrigger",PB=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,s=Ij(AB,r),l=NB(r),c=RB(s.baseId,n),u=MB(s.baseId,n),d=n===s.value;return o.jsx(O5,{asChild:!0,...l,focusable:!a,active:d,children:o.jsx(Ce.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:ce(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:ce(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:ce(e.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!a&&f&&s.onValueChange(n)})})})});PB.displayName=AB;var OB="TabsContent",kB=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...s}=e,l=Ij(OB,r),c=RB(l.baseId,n),u=MB(l.baseId,n),d=n===l.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(Sr,{present:a||d,children:({present:h})=>o.jsx(Ce.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});kB.displayName=OB;function RB(e,t){return`${e}-trigger-${t}`}function MB(e,t){return`${e}-content-${t}`}var sue=CB,DB=EB,IB=PB,$B=kB;const LB=sue,$j=p.forwardRef(({className:e,...t},r)=>o.jsx(DB,{ref:r,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));$j.displayName=DB.displayName;const Ou=p.forwardRef(({className:e,...t},r)=>o.jsx(IB,{ref:r,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Ou.displayName=IB.displayName;const oue=p.forwardRef(({className:e,...t},r)=>o.jsx($B,{ref:r,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));oue.displayName=$B.displayName;var Ap="Switch",[lue]=Fr(Ap),[cue,uue]=lue(Ap),FB=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=p.useState(null),v=Fe(t,w=>m(w)),g=p.useRef(!1),y=h?d||!!h.closest("form"):!0,[x,b]=$n({prop:a,defaultProp:i??!1,onChange:u,caller:Ap});return o.jsxs(cue,{scope:r,checked:x,disabled:l,children:[o.jsx(Ce.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":VB(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:ce(e.onClick,w=>{b(j=>!j),y&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),y&&o.jsx(UB,{control:h,bubbles:!g.current,name:n,value:c,checked:x,required:s,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});FB.displayName=Ap;var BB="SwitchThumb",zB=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=uue(BB,r);return o.jsx(Ce.span,{"data-state":VB(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});zB.displayName=BB;var due="SwitchBubbleInput",UB=p.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const s=p.useRef(null),l=Fe(s,i),c=Cj(r),u=l1(t);return p.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const v=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(v)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});UB.displayName=due;function VB(e){return e?"checked":"unchecked"}var qB=FB,fue=zB;const co=p.forwardRef(({className:e,...t},r)=>o.jsx(qB,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:o.jsx(fue,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));co.displayName=qB.displayName;function WB({value:e,onValueChange:t,type:r,placeholder:n="Seleziona categoria"}){const{categories:a,getSubcategories:i}=Ql(),s=a.filter(f=>f.type===r&&!f.parent_id),l=f=>f.icon==="custom"&&f.custom_icon_url?o.jsx("img",{src:f.custom_icon_url,alt:"",className:"w-4 h-4 rounded object-cover inline-block"}):{circle:"",home:"",car:"",utensils:"","shopping-bag":"",heart:"",briefcase:"",plane:"",gift:"",music:"",book:"",phone:"",tv:"",gamepad:"",coffee:"",pill:"","graduation-cap":"",dumbbell:"",dog:"",baby:"",wallet:"","credit-card":"","piggy-bank":"",receipt:""}[f.icon||"circle"]||"",u=(()=>{const f=[];return s.forEach(h=>{f.push({category:h,isSubcategory:!1}),i(h.id).forEach(v=>{f.push({category:v,isSubcategory:!0})})}),f})(),d=a.find(f=>f.id===e);return o.jsxs(St,{onValueChange:t,value:e,children:[o.jsx(wt,{children:o.jsx(Nt,{placeholder:n,children:d&&o.jsxs("span",{className:"flex items-center gap-2",children:[l(d),o.jsx("span",{children:d.name})]})})}),o.jsxs(_t,{className:"max-h-[300px]",children:[u.map(({category:f,isSubcategory:h})=>o.jsx(Ae,{value:f.id,className:J(h&&"pl-8"),children:o.jsxs("span",{className:"flex items-center gap-2",children:[h&&o.jsx("span",{className:"text-muted-foreground",children:""}),l(f),o.jsx("span",{className:J(h&&"text-sm"),children:f.name})]})},f.id)),u.length===0&&o.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"Nessuna categoria disponibile"})]})]})}function HB({dates:e,amount:t,isManualMode:r,onManualModeChange:n,onDateChange:a,totalAmount:i,downPayment:s=0}){const l=c=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(c);return e.length===0?null:o.jsxs("div",{className:"space-y-3 p-3 rounded-lg border border-primary/20 bg-primary/5",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[r?o.jsx(QW,{className:"w-4 h-4 text-amber-500"}):o.jsx(f8,{className:"w-4 h-4 text-primary"}),o.jsx(Me,{className:"text-sm font-medium",children:r?"Date manuali":"Date automatiche"})]}),o.jsx(co,{checked:r,onCheckedChange:n})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Importo per rata:"}),o.jsx("span",{className:"font-bold text-primary",children:l(t)})]}),s>0&&o.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[o.jsx("span",{children:"Residuo dopo acconto:"}),o.jsx("span",{children:l(i-s)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Gt,{className:"w-3 h-3 text-muted-foreground"}),o.jsxs(Me,{className:"text-xs text-muted-foreground",children:["Scadenze rate ",r&&"(clicca per modificare)",":"]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.map((c,u)=>o.jsx("div",{children:r?o.jsxs(fi,{children:[o.jsx(hi,{asChild:!0,children:o.jsxs(z,{type:"button",variant:"outline",size:"sm",className:"h-8 w-full justify-between text-xs font-normal hover:bg-primary/10 hover:border-primary",children:[o.jsxs("span",{className:"text-muted-foreground",children:["Rata ",u+1,":"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[ye(c,"dd/MM/yy"),o.jsx(Gt,{className:"w-3 h-3 opacity-50"})]})]})}),o.jsx(La,{className:"w-auto p-0",align:"end",children:o.jsx(ya,{mode:"single",selected:c,onSelect:d=>a(u,d),initialFocus:!0})})]}):o.jsxs("div",{className:"h-8 px-3 flex items-center justify-between text-xs rounded-md border bg-background",children:[o.jsxs("span",{className:"text-muted-foreground",children:["Rata ",u+1,":"]}),o.jsx("span",{children:ye(c,"dd/MM/yy")})]})},u))})]}),o.jsx("div",{className:"flex items-center gap-1 text-xs text-amber-600",children:o.jsx("span",{children:" Riceverai promemoria per ogni rata"})})]})}async function GB({user_id:e,title:t,type:r,total_amount:n,date:a,category_id:i=null,payment_method_id:s=null,recurring:l="none",installments:c,frequency:u,advance:d=0,notify_days_before:f=3,installment_day:h,custom_dates:m}){if(!c||c===1){const{error:_}=await ie.from("transactions").insert({user_id:e,type:r,amount:n,date:a,description:t,category_id:i,payment_method_id:s,recurring:l});if(_)throw _;return}if(c<1||c>12)throw new Error("Numero rate non valido (112)");if(!u)throw new Error("Frequenza rate mancante");const v=n-d,g=Number((v/c).toFixed(2)),{data:y,error:x}=await ie.from("plans").insert({user_id:e,title:t,total_amount:n,installments:c,frequency:u,start_date:a}).select().single();if(x)throw x;d>0&&await ie.from("transactions").insert({user_id:e,type:r,amount:d,date:a,description:`${t}  Acconto`,category_id:i,plan_id:y.id,installment_index:0,installment_total:c,is_partial:!0,paid_amount:d});const b=[],w=[];for(let _=0;_<c;_++){let S;if(m&&m[_])S=m[_];else{let N=u==="monthly"?ul(new Date(a),_):wu(new Date(a),_);if(h&&h>=1&&h<=31){const T=new Date(N.getFullYear(),N.getMonth()+1,0).getDate();N=_u(N,Math.min(h,T))}S=N.toISOString().split("T")[0]}b.push({user_id:e,type:r,amount:g,date:S,description:`${t}  Rata ${_+1}/${c}`,category_id:i,plan_id:y.id,installment_index:_+1,installment_total:c,is_partial:!1,paid_amount:0}),r==="uscita"&&w.push({user_id:e,title:`${t}  Rata ${_+1}/${c}`,description:`Pagamento rata ${_+1} di ${c} del piano "${t}"`,amount:g,due_date:S,notify_days_before:f,completed:!1,category_id:i,paid_amount:0})}const{error:j}=await ie.from("transactions").insert(b);if(j)throw j;if(w.length>0){const{error:_}=await ie.from("reminders").insert(w);_&&console.error("Errore creazione promemoria:",_)}}const hue=Id({type:Eh(["entrata","uscita"]),amount:Ut().min(1,"Inserisci un importo"),description:Ut().optional(),category_id:Ut().optional(),payment_method_id:Ut().optional(),date:hp(),recurring:Eh(["none","weekly","monthly"])});function mue({open:e,onOpenChange:t}){const{user:r}=vt(),n=va(),[a,i]=p.useState("uscita"),[s,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState("2"),[h,m]=p.useState("monthly"),[v,g]=p.useState(""),[y,x]=p.useState("3"),[b,w]=p.useState(""),[j,_]=p.useState(!1),[S,N]=p.useState([]),T=dp({resolver:fp(hue),defaultValues:{type:"uscita",amount:"",description:"",category_id:"",payment_method_id:"",date:new Date,recurring:"none"}}),C=T.watch("amount"),A=T.watch("date"),P=p.useMemo(()=>{const I=parseFloat(C)||0,F=parseFloat(v)||0,$=parseInt(d)||1;if(I<=0||$<=0)return 0;const V=I-F;return V<=0?0:V/$},[C,v,d]);p.useEffect(()=>{if(!c||j&&S.length>0)return;const I=parseInt(d)||1,F=A||new Date,$=b&&b!=="default"?parseInt(b):null,V=[];for(let X=0;X<I;X++){let Y=h==="monthly"?ul(F,X):wu(F,X);if($){const q=new Date(Y.getFullYear(),Y.getMonth()+1,0).getDate();Y=_u(Y,Math.min($,q))}V.push(Y)}N(V)},[c,d,h,b,A,j]);const E=(I,F)=>{if(!F)return;const $=[...S];$[I]=F,N($)},R=I=>{if(_(I),!I){const F=parseInt(d)||1,$=A||new Date,V=b&&b!=="default"?parseInt(b):null,X=[];for(let Y=0;Y<F;Y++){let q=h==="monthly"?ul($,Y):wu($,Y);if(V){const oe=new Date(q.getFullYear(),q.getMonth()+1,0).getDate();q=_u(q,Math.min(V,oe))}X.push(q)}N(X)}},O=async I=>{if(!r?.id){W.error("Devi effettuare il login");return}l(!0);try{await GB({user_id:r.id,title:I.description||(a==="entrata"?"Entrata":"Uscita"),type:a,total_amount:parseFloat(I.amount),date:ye(I.date,"yyyy-MM-dd"),category_id:I.category_id||null,payment_method_id:I.payment_method_id||null,recurring:c?"none":I.recurring,installments:c?parseInt(d):void 0,frequency:c?h:void 0,advance:c&&v?parseFloat(v):0,notify_days_before:c?parseInt(y):void 0,installment_day:c&&!j&&b&&b!=="default"?parseInt(b):void 0,custom_dates:c?S.map(F=>ye(F,"yyyy-MM-dd")):void 0}),n.invalidateQueries({queryKey:["transactions"]}),n.invalidateQueries({queryKey:["reminders"]}),W.success(c?`Piano rate creato: ${d} rate da ${P.toFixed(2)}`:"Transazione aggiunta con successo"),T.reset(),u(!1),f("2"),m("monthly"),g(""),x("3"),w(""),_(!1),N([]),t(!1)}catch(F){console.error("Error saving transaction:",F),W.error("Errore durante il salvataggio")}finally{l(!1)}},M=I=>{i(I),T.setValue("type",I),T.setValue("category_id","")},D=I=>{I||(u(!1),f("2"),m("monthly"),g(""),x("3"),w(""),_(!1),N([])),t(I)};return o.jsx(ir,{open:e,onOpenChange:D,children:o.jsxs(tr,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsx(rr,{children:o.jsx(nr,{children:"Nuova Transazione"})}),o.jsx(mp,{...T,children:o.jsxs("form",{onSubmit:T.handleSubmit(O),className:"space-y-4",children:[o.jsx(LB,{value:a,onValueChange:M,children:o.jsxs($j,{className:"grid w-full grid-cols-2",children:[o.jsx(Ou,{value:"uscita",className:"data-[state=active]:bg-expense data-[state=active]:text-expense-foreground",children:"Uscita"}),o.jsx(Ou,{value:"entrata",className:"data-[state=active]:bg-income data-[state=active]:text-income-foreground",children:"Entrata"})]})}),o.jsx(It,{control:T.control,name:"amount",render:({field:I})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Importo Totale ()"}),o.jsx(Pt,{children:o.jsx(gt,{type:"number",step:"0.01",placeholder:"0.00",...I})}),o.jsx(Ot,{})]})}),o.jsx(It,{control:T.control,name:"category_id",render:({field:I})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Categoria"}),o.jsx(Pt,{children:o.jsx(WB,{value:I.value||"",onValueChange:I.onChange,type:a,placeholder:"Seleziona categoria"})}),o.jsx(Ot,{})]})}),o.jsx(It,{control:T.control,name:"payment_method_id",render:({field:I})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Modalit di pagamento"}),o.jsx(Pt,{children:o.jsx(wp,{value:I.value||"",onValueChange:I.onChange,placeholder:"Seleziona metodo"})}),o.jsx(Ot,{})]})}),o.jsx(It,{control:T.control,name:"description",render:({field:I})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Descrizione"}),o.jsx(Pt,{children:o.jsx($d,{placeholder:"Descrizione opzionale...",className:"resize-none",...I})}),o.jsx(Ot,{})]})}),o.jsx(It,{control:T.control,name:"date",render:({field:I})=>o.jsxs(Et,{className:"flex flex-col",children:[o.jsx(At,{children:"Data"}),o.jsxs(fi,{children:[o.jsx(hi,{asChild:!0,children:o.jsx(Pt,{children:o.jsxs(z,{variant:"outline",className:J("w-full pl-3 text-left font-normal text-primary border-primary/30 hover:bg-primary/10",!I.value&&"text-muted-foreground"),children:[I.value?ye(I.value,"dd/MM/yyyy"):o.jsx("span",{children:"Seleziona data"}),o.jsx(Gt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(La,{className:"w-auto p-0",align:"start",children:o.jsx(ya,{mode:"single",selected:I.value,onSelect:I.onChange,initialFocus:!0})})]}),o.jsx(Ot,{})]})}),o.jsx(It,{control:T.control,name:"recurring",render:({field:I})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Ricorrenza"}),o.jsxs(St,{onValueChange:I.onChange,value:I.value,children:[o.jsx(Pt,{children:o.jsx(wt,{children:o.jsx(Nt,{})})}),o.jsxs(_t,{children:[o.jsx(Ae,{value:"none",children:"Nessuna"}),o.jsx(Ae,{value:"weekly",children:"Settimanale"}),o.jsx(Ae,{value:"monthly",children:"Mensile"})]})]}),o.jsx(Ot,{})]})}),o.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-secondary/20",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Me,{htmlFor:"installment-toggle",className:"text-sm font-medium",children:"Pagamento rateizzato"}),o.jsx(co,{id:"installment-toggle",checked:c,onCheckedChange:u})]}),c&&o.jsxs("div",{className:"space-y-4 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{className:"text-xs text-muted-foreground",children:"Numero Rate"}),o.jsxs(St,{value:d,onValueChange:f,children:[o.jsx(wt,{children:o.jsx(Nt,{})}),o.jsx(_t,{children:Array.from({length:12},(I,F)=>F+1).map(I=>o.jsxs(Ae,{value:I.toString(),children:[I," ",I===1?"rata":"rate"]},I))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{className:"text-xs text-muted-foreground",children:"Frequenza"}),o.jsxs(St,{value:h,onValueChange:I=>m(I),children:[o.jsx(wt,{children:o.jsx(Nt,{})}),o.jsxs(_t,{children:[o.jsx(Ae,{value:"monthly",children:"Mensile"}),o.jsx(Ae,{value:"yearly",children:"Annuale"})]})]})]})]}),!j&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{className:"text-xs text-muted-foreground",children:"Giorno del mese per le rate - opzionale"}),o.jsxs(St,{value:b,onValueChange:w,children:[o.jsx(wt,{children:o.jsx(Nt,{placeholder:"Usa data iniziale"})}),o.jsxs(_t,{children:[o.jsx(Ae,{value:"default",children:"Usa data iniziale"}),Array.from({length:31},(I,F)=>F+1).map(I=>o.jsxs(Ae,{value:I.toString(),children:["Giorno ",I]},I))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{className:"text-xs text-muted-foreground",children:"Acconto iniziale () - opzionale"}),o.jsx(gt,{type:"number",step:"0.01",placeholder:"0.00",value:v,onChange:I=>g(I.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{className:"text-xs text-muted-foreground",children:"Notifica giorni prima"}),o.jsxs(St,{value:y,onValueChange:x,children:[o.jsx(wt,{children:o.jsx(Nt,{})}),o.jsxs(_t,{children:[o.jsx(Ae,{value:"1",children:"1 giorno prima"}),o.jsx(Ae,{value:"3",children:"3 giorni prima"}),o.jsx(Ae,{value:"5",children:"5 giorni prima"}),o.jsx(Ae,{value:"7",children:"7 giorni prima"}),o.jsx(Ae,{value:"14",children:"14 giorni prima"})]})]})]}),C&&parseFloat(C)>0&&S.length>0&&o.jsx(HB,{dates:S,amount:P,isManualMode:j,onManualModeChange:R,onDateChange:E,totalAmount:parseFloat(C)||0,downPayment:parseFloat(v)||0})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(z,{type:"button",variant:"outline",className:"flex-1 text-primary border-primary/30 hover:bg-primary/10",onClick:()=>D(!1),children:"Annulla"}),o.jsx(z,{type:"submit",className:J("flex-1",a==="entrata"?"bg-income hover:bg-income/90":"bg-expense hover:bg-expense/90"),disabled:s,children:s?"Salvando...":"Salva"})]})]})})]})})}const pue=async()=>window.pdfjsLib?window.pdfjsLib:new Promise((e,t)=>{const r=document.createElement("script");r.src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js",r.onload=()=>{const n=window.pdfjsLib;n.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js",e(n)},r.onerror=t,document.head.appendChild(r)});function gue({open:e,onOpenChange:t}){const{addTransaction:r}=qa(),{categories:n}=Ql(),[a,i]=p.useState(!1),[s,l]=p.useState(!1),[c,u]=p.useState([]),[d,f]=p.useState([]),[h,m]=p.useState(""),v=p.useRef(null),g=C=>{const A=C.trim().split(`
`);if(A.length<2)return[];const P=A[0],E=P.includes("	")?"	":P.includes(";")?";":",",R=A[0].split(E).map(M=>M.trim().toLowerCase().replace(/"/g,"").replace(/data/i,"data").replace(/date/i,"date").replace(/tipo/i,"tipo").replace(/type/i,"type").replace(/categoria/i,"categoria").replace(/category/i,"category").replace(/descrizione/i,"descrizione").replace(/description/i,"description").replace(/importo/i,"importo").replace(/amount/i,"amount")),O=[];for(let M=1;M<A.length;M++){const D=A[M].split(E).map(I=>I.trim().replace(/^"|"$/g,""));if(D.length>=2){const I={};R.forEach((F,$)=>{I[F]=D[$]||""}),O.push(I)}}return O},y=C=>{try{const A=JSON.parse(C);return Array.isArray(A)?A:[A]}catch{return[]}},x=async C=>{const A=await pue(),P=await C.arrayBuffer(),E=await A.getDocument({data:P}).promise;let R="";for(let F=1;F<=E.numPages;F++){const X=(await(await E.getPage(F)).getTextContent()).items.map(Y=>Y.str).join(" ");R+=X+`
`}const O=[],M=/(\d{1,2}[\/\-\.]\d{1,2}[\/\-\.]\d{2,4})/g,D=/[$]?\s*(\d{1,3}(?:[.,]\d{3})*(?:[.,]\d{2})?)/g,I=R.split(`
`).filter(F=>F.trim().length>5);for(const F of I){const $=F.match(M),V=[...F.matchAll(D)];if($&&V.length>0){const X=V[V.length-1][1],Y=$[0],q=F.toLowerCase().includes("entrat")||F.toLowerCase().includes("accredit")||F.toLowerCase().includes("stipend")||F.toLowerCase().includes("bonifico in")||F.includes("+");let oe=F;$[0]&&(oe=F.substring(F.indexOf($[0])+$[0].length)),oe=oe.replace(/[$]?\s*\d{1,3}(?:[.,]\d{3})*(?:[.,]\d{2})?/g,"").trim(),oe=oe.substring(0,100),O.push({data:Y,tipo:q?"Entrata":"Uscita",descrizione:oe||"Transazione importata da PDF",importo:X})}}return O},b=async C=>{const A=C.target.files?.[0];if(!A)return;m(A.name),l(!0);let P=[];try{if(A.name.endsWith(".json")){const E=await A.text();P=y(E)}else if(A.name.endsWith(".pdf"))P=await x(A);else if(A.name.endsWith(".csv")||A.name.endsWith(".txt")||A.name.endsWith(".xls")){const E=await A.text();P=g(E)}else{W.error("Formato file non supportato. Usa CSV, TXT, XLS, JSON o PDF."),l(!1);return}if(P.length===0){W.error("Nessun dato valido trovato nel file"),l(!1);return}f(P),u(P),W.info(`${P.length} transazioni trovate`)}catch(E){console.error("Error parsing file:",E),W.error("Errore durante la lettura del file")}l(!1)},w=C=>{if(!C)return new Date().toISOString().split("T")[0];const A=[/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/,/^(\d{1,2})-(\d{1,2})-(\d{4})$/,/^(\d{1,2})\.(\d{1,2})\.(\d{4})$/,/^(\d{4})-(\d{2})-(\d{2})$/,/^(\d{1,2})\/(\d{1,2})\/(\d{2})$/];for(let P=0;P<A.length;P++){const E=C.match(A[P]);if(E){if(P===3)return C;let R=E[3];R.length===2&&(R=parseInt(R)>50?`19${R}`:`20${R}`);const O=E[1].padStart(2,"0"),M=E[2].padStart(2,"0");return`${R}-${M}-${O}`}}return new Date().toISOString().split("T")[0]},j=C=>{if(!C)return"uscita";const A=C.toLowerCase();return A.includes("entrat")||A.includes("income")||A.includes("in")?"entrata":"uscita"},_=(C,A)=>{if(!C)return null;const P=C.toLowerCase();return n.find(R=>R.name.toLowerCase()===P&&R.type===A)?.id||null},S=C=>{if(typeof C=="number")return Math.abs(C);if(!C)return 0;let A=C.replace(/[^\d,.-]/g,"");return A.includes(".")&&A.includes(",")?A.lastIndexOf(",")>A.lastIndexOf(".")?A=A.replace(/\./g,"").replace(",","."):A=A.replace(/,/g,""):A=A.replace(",","."),Math.abs(parseFloat(A)||0)},N=async()=>{if(d.length===0){W.error("Seleziona un file da importare");return}i(!0);let C=0,A=0;for(const P of d)try{const E=j(P.tipo||P.type),R=w(P.data||P.date),O=S(P.importo||P.amount),M=P.descrizione||P.description||"",D=_(P.categoria||P.category,E);O>0&&(await r.mutateAsync({type:E,date:R,amount:O,description:M,category_id:D,payment_method_id:null,paid_amount:0,is_partial:!1,recurring:"none",start_date:null,end_date:null,attachment_url:null,plan_id:null,installment_index:null,installment_total:null}),C++)}catch(E){console.error("Error importing row:",E),A++}i(!1),f([]),m(""),v.current&&(v.current.value=""),C>0&&W.success(`${C} transazioni importate con successo`),A>0&&W.error(`${A} transazioni non importate`),t(!1)},T=()=>{f([]),m(""),v.current&&(v.current.value="")};return o.jsx(ir,{open:e,onOpenChange:t,children:o.jsxs(tr,{className:"sm:max-w-lg",children:[o.jsxs(rr,{children:[o.jsx(nr,{className:"text-primary",children:"Importa Transazioni"}),o.jsx(Xi,{children:"Carica un file CSV, XLS, JSON o PDF con le tue transazioni"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 text-sm space-y-2",children:[o.jsxs("p",{className:"font-medium flex items-center gap-2",children:[o.jsx(vd,{className:"w-4 h-4 text-primary"}),"Formati supportati:"]}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"CSV/XLS:"})," Colonne: Data, Tipo, Categoria, Descrizione, Importo"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"JSON:"})," Array di oggetti con le stesse propriet"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"PDF:"})," Estratti conto bancari (estrazione automatica)"]}),o.jsx("li",{children:'Il tipo deve essere "Entrata" o "Uscita"'})]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("input",{ref:v,type:"file",accept:".csv,.txt,.xls,.json,.pdf",onChange:b,className:"hidden",id:"import-file",disabled:s}),o.jsxs("label",{htmlFor:"import-file",className:`flex items-center justify-center gap-2 border-2 border-dashed border-primary/30 rounded-lg p-6 cursor-pointer hover:bg-primary/5 transition-colors ${s?"opacity-50 cursor-not-allowed":""}`,children:[s?o.jsx(Vt,{className:"w-6 h-6 text-primary animate-spin"}):o.jsx(qs,{className:"w-6 h-6 text-primary"}),o.jsx("span",{className:"text-muted-foreground",children:s?"Analisi in corso...":h||"Clicca per selezionare un file"})]})]}),c.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(Vs,{className:"w-4 h-4 text-green-500"}),"Anteprima (",d.length," transazioni totali):"]}),o.jsx("div",{className:"bg-muted/30 rounded-lg p-3 text-xs overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-border",children:[o.jsx("th",{className:"text-left p-1",children:"Data"}),o.jsx("th",{className:"text-left p-1",children:"Tipo"}),o.jsx("th",{className:"text-left p-1",children:"Descrizione"}),o.jsx("th",{className:"text-right p-1",children:"Importo"})]})}),o.jsx("tbody",{children:c.map((C,A)=>o.jsxs("tr",{className:"border-b border-border/50",children:[o.jsx("td",{className:"p-1",children:C.data||C.date||"-"}),o.jsx("td",{className:"p-1",children:C.tipo||C.type||"-"}),o.jsx("td",{className:"p-1 max-w-[150px] truncate",children:C.descrizione||C.description||"-"}),o.jsx("td",{className:"p-1 text-right",children:C.importo||C.amount||"-"})]},A))})]})})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[c.length>0&&o.jsx(z,{variant:"outline",onClick:T,disabled:a,children:"Annulla"}),o.jsx(z,{onClick:N,disabled:d.length===0||a||s,className:"gradient-primary text-primary-foreground",children:a?"Importazione...":`Importa ${d.length>0?`(${d.length})`:""}`})]})]})]})})}const yue=Id({type:Eh(["entrata","uscita"]),amount:Ut().min(1,"Inserisci un importo"),description:Ut().optional(),category_id:Ut().optional(),payment_method_id:Ut().optional(),date:hp(),recurring:Eh(["none","weekly","monthly"])});function vue({transaction:e,open:t,onOpenChange:r}){const{updateTransaction:n,deleteTransaction:a}=qa(),{user:i}=vt(),s=va(),[l,c]=p.useState(e.type),[u,d]=p.useState(!1),[f,h]=p.useState(!1),[m,v]=p.useState(2),[g,y]=p.useState("monthly"),[x,b]=p.useState(0),[w,j]=p.useState(3),[_,S]=p.useState(void 0),[N,T]=p.useState([]),[C,A]=p.useState(!1),P=!!e.plan_id,E=dp({resolver:fp(yue),defaultValues:{type:e.type,amount:e.amount.toString(),description:e.description||"",category_id:e.category_id||"",payment_method_id:e.payment_method_id||"",date:new Date(e.date),recurring:e.recurring||"none"}}),R=E.watch("amount"),O=E.watch("date"),M=p.useMemo(()=>{const V=(parseFloat(R)||0)-x;return m>0?V/m:0},[R,x,m]);p.useEffect(()=>{if(f&&!C&&O&&m>0){const $=[];for(let V=0;V<m;V++){let X=g==="monthly"?ul(O,V):wu(O,V);if(_&&_>=1&&_<=31){const Y=new Date(X.getFullYear(),X.getMonth()+1,0).getDate();X=_u(X,Math.min(_,Y))}$.push(X)}T($)}},[f,C,O,m,g,_]),p.useEffect(()=>{t&&(c(e.type),h(!1),v(2),y("monthly"),b(0),j(3),S(void 0),T([]),A(!1),E.reset({type:e.type,amount:e.amount.toString(),description:e.description||"",category_id:e.category_id||"",payment_method_id:e.payment_method_id||"",date:new Date(e.date),recurring:e.recurring||"none"}))},[t,e,E]);const D=($,V)=>{if(V){const X=[...N];X[$]=V,T(X)}},I=async $=>{if(i){d(!0);try{f&&m>1?(await a.mutateAsync(e.id),await GB({user_id:i.id,title:$.description||"Transazione rateizzata",type:l,total_amount:parseFloat($.amount),date:ye($.date,"yyyy-MM-dd"),category_id:$.category_id||null,installments:m,frequency:g,advance:x,notify_days_before:w,installment_day:_,custom_dates:N.map(V=>ye(V,"yyyy-MM-dd"))}),await s.invalidateQueries({queryKey:["transactions"]}),await s.invalidateQueries({queryKey:["reminders"]}),await s.invalidateQueries({queryKey:["plans"]}),W.success("Piano rate creato con successo")):(await n.mutateAsync({id:e.id,type:l,amount:parseFloat($.amount),description:$.description||null,category_id:$.category_id||null,payment_method_id:$.payment_method_id||null,date:ye($.date,"yyyy-MM-dd"),recurring:$.recurring}),W.success("Transazione aggiornata")),r(!1)}catch(V){console.error("Error saving transaction:",V),W.error("Errore durante il salvataggio")}finally{d(!1)}}},F=$=>{c($),E.setValue("type",$),E.setValue("category_id","")};return o.jsx(ir,{open:t,onOpenChange:r,children:o.jsxs(tr,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsx(rr,{children:o.jsx(nr,{children:"Modifica Transazione"})}),o.jsx(mp,{...E,children:o.jsxs("form",{onSubmit:E.handleSubmit(I),className:"space-y-4",children:[o.jsx(LB,{value:l,onValueChange:F,children:o.jsxs($j,{className:"grid w-full grid-cols-2",children:[o.jsx(Ou,{value:"uscita",className:"data-[state=active]:bg-expense data-[state=active]:text-expense-foreground",children:"Uscita"}),o.jsx(Ou,{value:"entrata",className:"data-[state=active]:bg-income data-[state=active]:text-income-foreground",children:"Entrata"})]})}),o.jsx(It,{control:E.control,name:"amount",render:({field:$})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Importo ()"}),o.jsx(Pt,{children:o.jsx(gt,{type:"number",step:"0.01",placeholder:"0.00",...$})}),o.jsx(Ot,{})]})}),o.jsx(It,{control:E.control,name:"category_id",render:({field:$})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Categoria"}),o.jsx(Pt,{children:o.jsx(WB,{value:$.value||"",onValueChange:$.onChange,type:l,placeholder:"Seleziona categoria"})}),o.jsx(Ot,{})]})}),o.jsx(It,{control:E.control,name:"payment_method_id",render:({field:$})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Modalit di pagamento"}),o.jsx(Pt,{children:o.jsx(wp,{value:$.value||"",onValueChange:$.onChange,placeholder:"Seleziona metodo"})}),o.jsx(Ot,{})]})}),o.jsx(It,{control:E.control,name:"description",render:({field:$})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Descrizione"}),o.jsx(Pt,{children:o.jsx($d,{placeholder:"Descrizione opzionale...",className:"resize-none",...$})}),o.jsx(Ot,{})]})}),o.jsx(It,{control:E.control,name:"date",render:({field:$})=>o.jsxs(Et,{className:"flex flex-col",children:[o.jsx(At,{children:"Data"}),o.jsxs(fi,{children:[o.jsx(hi,{asChild:!0,children:o.jsx(Pt,{children:o.jsxs(z,{variant:"outline",className:J("w-full pl-3 text-left font-normal text-primary border-primary/30 hover:bg-primary/10",!$.value&&"text-muted-foreground"),children:[$.value?ye($.value,"dd/MM/yyyy"):o.jsx("span",{children:"Seleziona data"}),o.jsx(Gt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(La,{className:"w-auto p-0",align:"start",children:o.jsx(ya,{mode:"single",selected:$.value,onSelect:$.onChange,initialFocus:!0})})]}),o.jsx(Ot,{})]})}),o.jsx(It,{control:E.control,name:"recurring",render:({field:$})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Ricorrenza"}),o.jsxs(St,{onValueChange:$.onChange,value:$.value,children:[o.jsx(Pt,{children:o.jsx(wt,{children:o.jsx(Nt,{})})}),o.jsxs(_t,{children:[o.jsx(Ae,{value:"none",children:"Nessuna"}),o.jsx(Ae,{value:"weekly",children:"Settimanale"}),o.jsx(Ae,{value:"monthly",children:"Mensile"})]})]}),o.jsx(Ot,{})]})}),!P&&o.jsxs("div",{className:"space-y-4 border rounded-lg p-4 bg-muted/30",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Me,{htmlFor:"enable-installments",className:"text-sm font-medium",children:"Converti in rate"}),o.jsx(co,{id:"enable-installments",checked:f,onCheckedChange:h})]}),f&&o.jsxs("div",{className:"space-y-4 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{className:"text-xs",children:"Numero rate"}),o.jsxs(St,{value:m.toString(),onValueChange:$=>v(parseInt($)),children:[o.jsx(wt,{children:o.jsx(Nt,{})}),o.jsx(_t,{children:[2,3,4,5,6,7,8,9,10,11,12].map($=>o.jsxs(Ae,{value:$.toString(),children:[$," rate"]},$))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{className:"text-xs",children:"Frequenza"}),o.jsxs(St,{value:g,onValueChange:$=>y($),children:[o.jsx(wt,{children:o.jsx(Nt,{})}),o.jsxs(_t,{children:[o.jsx(Ae,{value:"monthly",children:"Mensile"}),o.jsx(Ae,{value:"yearly",children:"Annuale"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{className:"text-xs",children:"Acconto ()"}),o.jsx(gt,{type:"number",step:"0.01",min:"0",value:x||"",onChange:$=>b(parseFloat($.target.value)||0),placeholder:"0.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{className:"text-xs",children:"Giorno del mese"}),o.jsxs(St,{value:_?.toString()||"default",onValueChange:$=>S($==="default"?void 0:parseInt($)),children:[o.jsx(wt,{children:o.jsx(Nt,{placeholder:"Auto"})}),o.jsxs(_t,{children:[o.jsx(Ae,{value:"default",children:"Automatico"}),Array.from({length:31},($,V)=>V+1).map($=>o.jsx(Ae,{value:$.toString(),children:$},$))]})]})]})]}),l==="uscita"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{className:"text-xs",children:"Notifica giorni prima"}),o.jsxs(St,{value:w.toString(),onValueChange:$=>j(parseInt($)),children:[o.jsx(wt,{children:o.jsx(Nt,{})}),o.jsx(_t,{children:[1,2,3,5,7,10,14].map($=>o.jsxs(Ae,{value:$.toString(),children:[$," giorni"]},$))})]})]}),o.jsx(HB,{dates:N,amount:M,isManualMode:C,onManualModeChange:A,onDateChange:D,totalAmount:parseFloat(R)||0,downPayment:x})]})]}),o.jsx(sa,{className:"my-4"}),o.jsx(v5,{entityType:"transaction",entityId:e.id}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(z,{type:"button",variant:"outline",className:"flex-1 text-primary border-primary/30 hover:bg-primary/10",onClick:()=>r(!1),children:"Annulla"}),o.jsx(z,{type:"submit",className:J("flex-1",l==="entrata"?"bg-income hover:bg-income/90":"bg-expense hover:bg-expense/90"),disabled:u||n.isPending,children:u||n.isPending?"Salvando...":f?"Crea Piano Rate":"Salva"})]})]})})]})})}function xue({transaction:e,open:t,onOpenChange:r}){const{updateTransaction:n}=qa(),{reminders:a,addReminder:i,updateReminder:s,deleteReminder:l}=as(),[c,u]=p.useState(""),[d,f]=p.useState(new Date),[h,m]=p.useState(!1),v=Number(e.amount),g=Number(e.paid_amount)||0,y=v-g,x=a.find(j=>j.title===`Rimanenza: ${e.description||e.categories?.name}`&&!j.completed);p.useEffect(()=>{if(t){u("");const j=new Date;j.setDate(j.getDate()+30),f(j)}},[t]);const b=async()=>{const j=parseFloat(c)||0;if(j<=0){W.error("Inserisci un importo valido");return}if(j>y){W.error(`L'importo non pu superare la rimanenza di ${y.toFixed(2)}`);return}try{const _=g+j,S=v-_;if(await n.mutateAsync({id:e.id,paid_amount:_,is_partial:S>0}),S>0){const N=`Rimanenza: ${e.description||e.categories?.name||"Spesa"}`;x?(await s.mutateAsync({id:x.id,amount:S,due_date:ye(d,"yyyy-MM-dd")}),W.success(`Pagamento di ${j.toFixed(2)} registrato. Rimanenza aggiornata: ${S.toFixed(2)}`)):(await i.mutateAsync({title:N,description:`Rimanenza per "${e.description||e.categories?.name}"`,due_date:ye(d,"yyyy-MM-dd"),amount:S,paid_amount:0,category_id:e.category_id,completed:!1,notify_days_before:3}),W.success(`Pagamento di ${j.toFixed(2)} registrato. Promemoria creato per ${S.toFixed(2)}`))}else x&&await l.mutateAsync(x.id),W.success("Spesa saldata completamente!");r(!1)}catch(_){console.error("Error saving payment:",_),W.error("Errore durante il salvataggio del pagamento")}},w=async()=>{try{await n.mutateAsync({id:e.id,paid_amount:0,is_partial:!1}),x&&await l.mutateAsync(x.id),W.success("Pagamenti azzerati"),r(!1)}catch{W.error("Errore durante l'azzeramento")}};return o.jsx(ir,{open:t,onOpenChange:r,children:o.jsxs(tr,{className:"sm:max-w-md",children:[o.jsxs(rr,{children:[o.jsxs(nr,{className:"flex items-center gap-2 text-primary",children:[o.jsx(Xf,{className:"w-5 h-5"}),"Registra Pagamento"]}),o.jsx(Xi,{children:"Registra un acconto o pagamento parziale per questa spesa"})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"bg-secondary/50 rounded-lg p-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Importo totale spesa:"}),o.jsxs("span",{className:"font-semibold",children:["",v.toFixed(2)]})]}),g>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Gi pagato:"}),o.jsxs("span",{className:"font-medium text-income",children:["",g.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-sm border-t pt-2 mt-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rimanenza da pagare:"}),o.jsxs("span",{className:"font-bold text-expense",children:["",y.toFixed(2)]})]})]}),y>0?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"payment-amount",children:"Importo pagamento ()"}),o.jsx(gt,{id:"payment-amount",type:"number",step:"0.01",min:"0",max:y,value:c,onChange:j=>u(j.target.value),placeholder:`Max ${y.toFixed(2)}`})]}),parseFloat(c)>0&&parseFloat(c)<=y&&o.jsxs("div",{className:"bg-primary/10 rounded-lg p-3 space-y-1",children:[o.jsx("p",{className:"text-sm font-medium",children:"Dopo questo pagamento:"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Nuova rimanenza:"}),o.jsxs("span",{className:J("font-bold",y-parseFloat(c)===0?"text-income":"text-expense"),children:["",(y-parseFloat(c)).toFixed(2)]})]})]}),parseFloat(c)>0&&parseFloat(c)<y&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Data scadenza promemoria rimanenza"}),o.jsxs(fi,{open:h,onOpenChange:m,children:[o.jsx(hi,{asChild:!0,children:o.jsxs(z,{variant:"outline",className:J("w-full justify-start text-left font-normal",!d&&"text-muted-foreground"),children:[o.jsx(Gt,{className:"mr-2 h-4 w-4"}),d?ye(d,"dd/MM/yyyy"):"Seleziona data"]})}),o.jsx(La,{className:"w-auto p-0",align:"start",children:o.jsx(ya,{mode:"single",selected:d,onSelect:j=>{j&&(f(j),m(!1))},initialFocus:!0})})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Verr creato/aggiornato un promemoria per la rimanenza"})]})]}):o.jsxs("div",{className:"flex items-center gap-2 text-income bg-income/10 p-3 rounded-lg",children:[o.jsx(pD,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Questa spesa  gi stata saldata completamente"})]}),x&&o.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:[o.jsx("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Promemoria collegato attivo"}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Scadenza: ",ye(new Date(x.due_date),"dd/MM/yyyy")," - ",Number(x.amount).toFixed(2)]})]})]}),o.jsxs(Ls,{className:"flex-col sm:flex-row gap-2",children:[g>0&&o.jsx(z,{variant:"outline",onClick:w,className:"text-destructive hover:text-destructive",children:"Azzera pagamenti"}),o.jsxs("div",{className:"flex gap-2 flex-1 justify-end",children:[o.jsx(z,{variant:"outline",onClick:()=>r(!1),children:"Annulla"}),o.jsxs(z,{onClick:b,disabled:!c||parseFloat(c)<=0||parseFloat(c)>y,className:"bg-primary",children:[o.jsx(Bl,{className:"w-4 h-4 mr-1"}),"Registra Pagamento"]})]})]})]})})}function bue({transaction:e}){const{updateTransaction:t,deleteTransaction:r}=qa(),{reminders:n,deleteReminder:a}=as(),[i,s]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState(!1),f=Number(e.paid_amount)>=Number(e.amount),h=Number(e.paid_amount)||0,m=h>0&&h<Number(e.amount),v=`Rimanenza: ${e.description||e.categories?.name}`,g=n.find(w=>w.title===v&&!w.completed),y=async()=>{try{g&&await a.mutateAsync(g.id),await r.mutateAsync(e.id),W.success("Transazione eliminata"),c(!1)}catch{W.error("Errore durante l'eliminazione")}},x=async()=>{try{f?(await t.mutateAsync({id:e.id,is_partial:!1,paid_amount:0}),W.success("Segnato come da pagare")):(await t.mutateAsync({id:e.id,is_partial:!1,paid_amount:Number(e.amount)}),g&&await a.mutateAsync(g.id),W.success("Segnato come saldato"))}catch{W.error("Errore durante l'aggiornamento")}},b=e.type==="uscita";return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-primary hover:text-primary/80",onClick:()=>s(!0),title:"Modifica transazione",children:o.jsx(xd,{className:"w-4 h-4"})}),b&&o.jsx(z,{variant:"ghost",size:"icon",className:`h-8 w-8 ${m?"text-amber-500":"text-muted-foreground hover:text-amber-500"}`,onClick:()=>d(!0),title:"Registra pagamento",children:o.jsx(Xf,{className:"w-4 h-4"})}),o.jsx(z,{variant:"ghost",size:"icon",className:`h-8 w-8 ${f?"text-income":"text-muted-foreground hover:text-income"}`,onClick:x,title:f?"Segna come da pagare":"Segna come pagato",children:o.jsx(Ln,{className:"w-4 h-4"})}),o.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive/80",onClick:()=>c(!0),title:"Elimina transazione",children:o.jsx(Lr,{className:"w-4 h-4"})})]}),o.jsx(vue,{transaction:e,open:i,onOpenChange:s}),b&&o.jsx(xue,{transaction:e,open:u,onOpenChange:d}),o.jsx(Fn,{open:l,onOpenChange:c,children:o.jsxs(gn,{children:[o.jsxs(yn,{children:[o.jsx(xn,{children:"Eliminare questa transazione?"}),o.jsxs(bn,{children:['Stai per eliminare "',e.description||e.categories?.name,'". Questa azione non pu essere annullata.',g&&o.jsx("span",{className:"block mt-2 text-amber-600",children:" Verr eliminato anche il promemoria collegato per la rimanenza."})]})]}),o.jsxs(vn,{children:[o.jsx(_n,{children:"Annulla"}),o.jsx(wn,{onClick:y,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Elimina"})]})]})})]})}var cy,BE;function tn(){if(BE)return cy;BE=1;var e=Array.isArray;return cy=e,cy}var uy,zE;function KB(){if(zE)return uy;zE=1;var e=typeof Jd=="object"&&Jd&&Jd.Object===Object&&Jd;return uy=e,uy}var dy,UE;function Wa(){if(UE)return dy;UE=1;var e=KB(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return dy=r,dy}var fy,VE;function Ud(){if(VE)return fy;VE=1;var e=Wa(),t=e.Symbol;return fy=t,fy}var hy,qE;function wue(){if(qE)return hy;qE=1;var e=Ud(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(s){var l=r.call(s,a),c=s[a];try{s[a]=void 0;var u=!0}catch{}var d=n.call(s);return u&&(l?s[a]=c:delete s[a]),d}return hy=i,hy}var my,WE;function _ue(){if(WE)return my;WE=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return my=r,my}var py,HE;function xi(){if(HE)return py;HE=1;var e=Ud(),t=wue(),r=_ue(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function s(l){return l==null?l===void 0?a:n:i&&i in Object(l)?t(l):r(l)}return py=s,py}var gy,GE;function bi(){if(GE)return gy;GE=1;function e(t){return t!=null&&typeof t=="object"}return gy=e,gy}var yy,KE;function ec(){if(KE)return yy;KE=1;var e=xi(),t=bi(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return yy=n,yy}var vy,YE;function Lj(){if(YE)return vy;YE=1;var e=tn(),t=ec(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return vy=a,vy}var xy,XE;function ls(){if(XE)return xy;XE=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return xy=e,xy}var by,ZE;function Fj(){if(ZE)return by;ZE=1;var e=xi(),t=ls(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(l){if(!t(l))return!1;var c=e(l);return c==n||c==a||c==r||c==i}return by=s,by}var wy,JE;function jue(){if(JE)return wy;JE=1;var e=Wa(),t=e["__core-js_shared__"];return wy=t,wy}var _y,QE;function Sue(){if(QE)return _y;QE=1;var e=jue(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return _y=r,_y}var jy,eA;function YB(){if(eA)return jy;eA=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return jy=r,jy}var Sy,tA;function Nue(){if(tA)return Sy;tA=1;var e=Fj(),t=Sue(),r=ls(),n=YB(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!r(h)||t(h))return!1;var m=e(h)?d:i;return m.test(n(h))}return Sy=f,Sy}var Ny,rA;function Cue(){if(rA)return Ny;rA=1;function e(t,r){return t?.[r]}return Ny=e,Ny}var Cy,nA;function uo(){if(nA)return Cy;nA=1;var e=Nue(),t=Cue();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return Cy=r,Cy}var Ty,aA;function Pp(){if(aA)return Ty;aA=1;var e=uo(),t=e(Object,"create");return Ty=t,Ty}var Ey,iA;function Tue(){if(iA)return Ey;iA=1;var e=Pp();function t(){this.__data__=e?e(null):{},this.size=0}return Ey=t,Ey}var Ay,sA;function Eue(){if(sA)return Ay;sA=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Ay=e,Ay}var Py,oA;function Aue(){if(oA)return Py;oA=1;var e=Pp(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(e){var l=s[i];return l===t?void 0:l}return n.call(s,i)?s[i]:void 0}return Py=a,Py}var Oy,lA;function Pue(){if(lA)return Oy;lA=1;var e=Pp(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return Oy=n,Oy}var ky,cA;function Oue(){if(cA)return ky;cA=1;var e=Pp(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return ky=r,ky}var Ry,uA;function kue(){if(uA)return Ry;uA=1;var e=Tue(),t=Eue(),r=Aue(),n=Pue(),a=Oue();function i(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var u=s[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Ry=i,Ry}var My,dA;function Rue(){if(dA)return My;dA=1;function e(){this.__data__=[],this.size=0}return My=e,My}var Dy,fA;function Bj(){if(fA)return Dy;fA=1;function e(t,r){return t===r||t!==t&&r!==r}return Dy=e,Dy}var Iy,hA;function Op(){if(hA)return Iy;hA=1;var e=Bj();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return Iy=t,Iy}var $y,mA;function Mue(){if(mA)return $y;mA=1;var e=Op(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,s=e(i,a);if(s<0)return!1;var l=i.length-1;return s==l?i.pop():r.call(i,s,1),--this.size,!0}return $y=n,$y}var Ly,pA;function Due(){if(pA)return Ly;pA=1;var e=Op();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return Ly=t,Ly}var Fy,gA;function Iue(){if(gA)return Fy;gA=1;var e=Op();function t(r){return e(this.__data__,r)>-1}return Fy=t,Fy}var By,yA;function $ue(){if(yA)return By;yA=1;var e=Op();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return By=t,By}var zy,vA;function kp(){if(vA)return zy;vA=1;var e=Rue(),t=Mue(),r=Due(),n=Iue(),a=$ue();function i(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var u=s[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,zy=i,zy}var Uy,xA;function zj(){if(xA)return Uy;xA=1;var e=uo(),t=Wa(),r=e(t,"Map");return Uy=r,Uy}var Vy,bA;function Lue(){if(bA)return Vy;bA=1;var e=kue(),t=kp(),r=zj();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Vy=n,Vy}var qy,wA;function Fue(){if(wA)return qy;wA=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return qy=e,qy}var Wy,_A;function Rp(){if(_A)return Wy;_A=1;var e=Fue();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Wy=t,Wy}var Hy,jA;function Bue(){if(jA)return Hy;jA=1;var e=Rp();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Hy=t,Hy}var Gy,SA;function zue(){if(SA)return Gy;SA=1;var e=Rp();function t(r){return e(this,r).get(r)}return Gy=t,Gy}var Ky,NA;function Uue(){if(NA)return Ky;NA=1;var e=Rp();function t(r){return e(this,r).has(r)}return Ky=t,Ky}var Yy,CA;function Vue(){if(CA)return Yy;CA=1;var e=Rp();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return Yy=t,Yy}var Xy,TA;function Uj(){if(TA)return Xy;TA=1;var e=Lue(),t=Bue(),r=zue(),n=Uue(),a=Vue();function i(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var u=s[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Xy=i,Xy}var Zy,EA;function XB(){if(EA)return Zy;EA=1;var e=Uj(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var s=arguments,l=a?a.apply(this,s):s[0],c=i.cache;if(c.has(l))return c.get(l);var u=n.apply(this,s);return i.cache=c.set(l,u)||c,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,Zy=r,Zy}var Jy,AA;function que(){if(AA)return Jy;AA=1;var e=XB(),t=500;function r(n){var a=e(n,function(s){return i.size===t&&i.clear(),s}),i=a.cache;return a}return Jy=r,Jy}var Qy,PA;function Wue(){if(PA)return Qy;PA=1;var e=que(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(s,l,c,u){i.push(c?u.replace(r,"$1"):l||s)}),i});return Qy=n,Qy}var ev,OA;function Vj(){if(OA)return ev;OA=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return ev=e,ev}var tv,kA;function Hue(){if(kA)return tv;kA=1;var e=Ud(),t=Vj(),r=tn(),n=ec(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return t(l,s)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return tv=s,tv}var rv,RA;function ZB(){if(RA)return rv;RA=1;var e=Hue();function t(r){return r==null?"":e(r)}return rv=t,rv}var nv,MA;function JB(){if(MA)return nv;MA=1;var e=tn(),t=Lj(),r=Wue(),n=ZB();function a(i,s){return e(i)?i:t(i,s)?[i]:r(n(i))}return nv=a,nv}var av,DA;function Mp(){if(DA)return av;DA=1;var e=ec();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return av=t,av}var iv,IA;function qj(){if(IA)return iv;IA=1;var e=JB(),t=Mp();function r(n,a){a=e(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[t(a[i++])];return i&&i==s?n:void 0}return iv=r,iv}var sv,$A;function QB(){if($A)return sv;$A=1;var e=qj();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return sv=t,sv}var Gue=QB();const In=Lt(Gue);var ov,LA;function Kue(){if(LA)return ov;LA=1;function e(t){return t==null}return ov=e,ov}var Yue=Kue();const ft=Lt(Yue);var lv,FA;function Xue(){if(FA)return lv;FA=1;var e=xi(),t=tn(),r=bi(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return lv=a,lv}var Zue=Xue();const eo=Lt(Zue);var Jue=Fj();const Je=Lt(Jue);var Que=ls();const tc=Lt(Que);var cv={exports:{}},mt={};var BA;function ede(){if(BA)return mt;BA=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function g(y){if(typeof y=="object"&&y!==null){var x=y.$$typeof;switch(x){case e:switch(y=y.type,y){case r:case a:case n:case u:case d:return y;default:switch(y=y&&y.$$typeof,y){case l:case s:case c:case h:case f:case i:return y;default:return x}}case t:return x}}}return mt.ContextConsumer=s,mt.ContextProvider=i,mt.Element=e,mt.ForwardRef=c,mt.Fragment=r,mt.Lazy=h,mt.Memo=f,mt.Portal=t,mt.Profiler=a,mt.StrictMode=n,mt.Suspense=u,mt.SuspenseList=d,mt.isAsyncMode=function(){return!1},mt.isConcurrentMode=function(){return!1},mt.isContextConsumer=function(y){return g(y)===s},mt.isContextProvider=function(y){return g(y)===i},mt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},mt.isForwardRef=function(y){return g(y)===c},mt.isFragment=function(y){return g(y)===r},mt.isLazy=function(y){return g(y)===h},mt.isMemo=function(y){return g(y)===f},mt.isPortal=function(y){return g(y)===t},mt.isProfiler=function(y){return g(y)===a},mt.isStrictMode=function(y){return g(y)===n},mt.isSuspense=function(y){return g(y)===u},mt.isSuspenseList=function(y){return g(y)===d},mt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===a||y===n||y===u||y===d||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===h||y.$$typeof===f||y.$$typeof===i||y.$$typeof===s||y.$$typeof===c||y.$$typeof===v||y.getModuleId!==void 0)},mt.typeOf=g,mt}var zA;function tde(){return zA||(zA=1,cv.exports=ede()),cv.exports}var rde=tde(),uv,UA;function e3(){if(UA)return uv;UA=1;var e=xi(),t=bi(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return uv=n,uv}var dv,VA;function nde(){if(VA)return dv;VA=1;var e=e3();function t(r){return e(r)&&r!=+r}return dv=t,dv}var ade=nde();const Vd=Lt(ade);var ide=e3();const sde=Lt(ide);var ua=function(t){return t===0?0:t>0?1:-1},Rs=function(t){return eo(t)&&t.indexOf("%")===t.length-1},pe=function(t){return sde(t)&&!Vd(t)},ode=function(t){return ft(t)},br=function(t){return pe(t)||eo(t)},lde=0,Dp=function(t){var r=++lde;return"".concat(t||"").concat(r)},to=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(t)&&!eo(t))return n;var i;if(Rs(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Vd(i)&&(i=n),a&&i>r&&(i=r),i},Ii=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},cde=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},To=function(t,r){return pe(t)&&pe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Ew(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):In(n,t))===r})}var ude=function(t,r){return pe(t)&&pe(r)?t-r:eo(t)&&eo(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function rl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Aw(e){"@babel/helpers - typeof";return Aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aw(e)}var dde=["viewBox","children"],fde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qA=["points","pathLength"],fv={svg:dde,polygon:qA,polyline:qA},Wj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Mh=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(p.isValidElement(t)&&(n=t.props),!tc(n))return null;var a={};return Object.keys(n).forEach(function(i){Wj.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},hde=function(t,r,n){return function(a){return t(r,n,a),null}},Dh=function(t,r,n){if(!tc(t)||Aw(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];Wj.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=hde(s,r,n))}),a},mde=["children"],pde=["children"];function WA(e,t){if(e==null)return{};var r=gde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var HA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ii=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},GA=null,hv=null,Hj=function e(t){if(t===GA&&Array.isArray(hv))return hv;var r=[];return p.Children.forEach(t,function(n){ft(n)||(rde.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),hv=r,GA=t,r};function ha(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ii(a)}):n=[ii(t)],Hj(e).forEach(function(a){var i=In(a,"type.displayName")||In(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function sn(e,t){var r=ha(e,t);return r&&r[0]}var KA=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!pe(n)||n<=0||!pe(a)||a<=0)},yde=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],vde=function(t){return t&&t.type&&eo(t.type)&&yde.indexOf(t.type)>=0},xde=function(t,r,n,a){var i,s=(i=fv?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Je(t)&&(a&&s.includes(r)||fde.includes(r))||n&&Wj.includes(r)},dt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(p.isValidElement(t)&&(a=t.props),!tc(a))return null;var i={};return Object.keys(a).forEach(function(s){var l;xde((l=a)===null||l===void 0?void 0:l[s],s,r,n)&&(i[s]=a[s])}),i},Pw=function e(t,r){if(t===r)return!0;var n=p.Children.count(t);if(n!==p.Children.count(r))return!1;if(n===0)return!0;if(n===1)return YA(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!YA(i,s))return!1}return!0},YA=function(t,r){if(ft(t)&&ft(r))return!0;if(!ft(t)&&!ft(r)){var n=t.props||{},a=n.children,i=WA(n,mde),s=r.props||{},l=s.children,c=WA(s,pde);return a&&l?rl(i,c)&&Pw(a,l):!a&&!l?rl(i,c):!1}return!1},XA=function(t,r){var n=[],a={};return Hj(t).forEach(function(i,s){if(vde(i))n.push(i);else if(i){var l=ii(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,s);n.push(f),a[l]=!0}}}),n},bde=function(t){var r=t&&t.type;return r&&HA[r]?HA[r]:null},wde=function(t,r){return Hj(r).indexOf(t)},_de=["children","width","height","viewBox","className","style","title","desc"];function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ow.apply(this,arguments)}function jde(e,t){if(e==null)return{};var r=Sde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kw(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,l=e.title,c=e.desc,u=jde(e,_de),d=a||{width:r,height:n,x:0,y:0},f=it("recharts-surface",i);return k.createElement("svg",Ow({},dt(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),k.createElement("title",null,l),k.createElement("desc",null,c),t)}var Nde=["children","className"];function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rw.apply(this,arguments)}function Cde(e,t){if(e==null)return{};var r=Tde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var jr=k.forwardRef(function(e,t){var r=e.children,n=e.className,a=Cde(e,Nde),i=it("recharts-layer",n);return k.createElement("g",Rw({className:i},dt(a,!0),{ref:t}),r)}),si=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},mv,ZA;function Ede(){if(ZA)return mv;ZA=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(i);++a<i;)s[a]=t[a+r];return s}return mv=e,mv}var pv,JA;function Ade(){if(JA)return pv;JA=1;var e=Ede();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return pv=t,pv}var gv,QA;function t3(){if(QA)return gv;QA=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+e+a+i+"]");function c(u){return l.test(u)}return gv=c,gv}var yv,eP;function Pde(){if(eP)return yv;eP=1;function e(t){return t.split("")}return yv=e,yv}var vv,tP;function Ode(){if(tP)return vv;tP=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",s="["+e+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",v=u+"?",g="["+i+"]?",y="(?:"+m+"(?:"+[d,f,h].join("|")+")"+g+v+")*",x=g+v+y,b="(?:"+[d+l+"?",l,f,h,s].join("|")+")",w=RegExp(c+"(?="+c+")|"+b+x,"g");function j(_){return _.match(w)||[]}return vv=j,vv}var xv,rP;function kde(){if(rP)return xv;rP=1;var e=Pde(),t=t3(),r=Ode();function n(a){return t(a)?r(a):e(a)}return xv=n,xv}var bv,nP;function Rde(){if(nP)return bv;nP=1;var e=Ade(),t=t3(),r=kde(),n=ZB();function a(i){return function(s){s=n(s);var l=t(s)?r(s):void 0,c=l?l[0]:s.charAt(0),u=l?e(l,1).join(""):s.slice(1);return c[i]()+u}}return bv=a,bv}var wv,aP;function Mde(){if(aP)return wv;aP=1;var e=Rde(),t=e("toUpperCase");return wv=t,wv}var Dde=Mde();const Ip=Lt(Dde);function Dt(e){return function(){return e}}const r3=Math.cos,Ih=Math.sin,ba=Math.sqrt,$h=Math.PI,$p=2*$h,Mw=Math.PI,Dw=2*Mw,_s=1e-6,Ide=Dw-_s;function n3(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function $de(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return n3;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Lde{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?n3:$de(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-t,u=a-r,d=s-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>_s)if(!(Math.abs(f*c-u*d)>_s)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,v=a-l,g=c*c+u*u,y=m*m+v*v,x=Math.sqrt(g),b=Math.sqrt(h),w=i*Math.tan((Mw-Math.acos((g+h-y)/(2*x*b)))/2),j=w/b,_=w/x;Math.abs(j-1)>_s&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*m>d*v)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>_s||Math.abs(this._y1-d)>_s)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Dw+Dw),h>Ide?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>_s&&this._append`A${n},${n},0,${+(h>=Mw)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Gj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Lde(t)}function Kj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function a3(e){this._context=e}a3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Lp(e){return new a3(e)}function i3(e){return e[0]}function s3(e){return e[1]}function o3(e,t){var r=Dt(!0),n=null,a=Lp,i=null,s=Gj(l);e=typeof e=="function"?e:e===void 0?i3:Dt(e),t=typeof t=="function"?t:t===void 0?s3:Dt(t);function l(c){var u,d=(c=Kj(c)).length,f,h=!1,m;for(n==null&&(i=a(m=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Dt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Dt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Dt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function _f(e,t,r){var n=null,a=Dt(!0),i=null,s=Lp,l=null,c=Gj(u);e=typeof e=="function"?e:e===void 0?i3:Dt(+e),t=typeof t=="function"?t:Dt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?s3:Dt(+r);function u(f){var h,m,v,g=(f=Kj(f)).length,y,x=!1,b,w=new Array(g),j=new Array(g);for(i==null&&(l=s(b=c())),h=0;h<=g;++h){if(!(h<g&&a(y=f[h],h,f))===x)if(x=!x)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=m;--v)l.point(w[v],j[v]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(y,h,f),j[h]=+t(y,h,f),l.point(n?+n(y,h,f):w[h],r?+r(y,h,f):j[h]))}if(b)return l=null,b+""||null}function d(){return o3().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Dt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Dt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Dt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Dt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Dt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Dt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Dt(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(l=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=l=null:l=s(i=f),u):i},u}class l3{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Fde(e){return new l3(e,!0)}function Bde(e){return new l3(e,!1)}const Yj={draw(e,t){const r=ba(t/$h);e.moveTo(r,0),e.arc(0,0,r,0,$p)}},zde={draw(e,t){const r=ba(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},c3=ba(1/3),Ude=c3*2,Vde={draw(e,t){const r=ba(t/Ude),n=r*c3;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},qde={draw(e,t){const r=ba(t),n=-r/2;e.rect(n,n,r,r)}},Wde=.8908130915292852,u3=Ih($h/10)/Ih(7*$h/10),Hde=Ih($p/10)*u3,Gde=-r3($p/10)*u3,Kde={draw(e,t){const r=ba(t*Wde),n=Hde*r,a=Gde*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=$p*i/5,l=r3(s),c=Ih(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},_v=ba(3),Yde={draw(e,t){const r=-ba(t/(_v*3));e.moveTo(0,r*2),e.lineTo(-_v*r,-r),e.lineTo(_v*r,-r),e.closePath()}},Nn=-.5,Cn=ba(3)/2,Iw=1/ba(12),Xde=(Iw/2+1)*3,Zde={draw(e,t){const r=ba(t/Xde),n=r/2,a=r*Iw,i=n,s=r*Iw+r,l=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(l,c),e.lineTo(Nn*n-Cn*a,Cn*n+Nn*a),e.lineTo(Nn*i-Cn*s,Cn*i+Nn*s),e.lineTo(Nn*l-Cn*c,Cn*l+Nn*c),e.lineTo(Nn*n+Cn*a,Nn*a-Cn*n),e.lineTo(Nn*i+Cn*s,Nn*s-Cn*i),e.lineTo(Nn*l+Cn*c,Nn*c-Cn*l),e.closePath()}};function Jde(e,t){let r=null,n=Gj(a);e=typeof e=="function"?e:Dt(e||Yj),t=typeof t=="function"?t:Dt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Dt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Dt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Lh(){}function Fh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function d3(e){this._context=e}d3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Qde(e){return new d3(e)}function f3(e){this._context=e}f3.prototype={areaStart:Lh,areaEnd:Lh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function efe(e){return new f3(e)}function h3(e){this._context=e}h3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Fh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tfe(e){return new h3(e)}function m3(e){this._context=e}m3.prototype={areaStart:Lh,areaEnd:Lh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function rfe(e){return new m3(e)}function iP(e){return e<0?-1:1}function sP(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(iP(i)+iP(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function oP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function jv(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,s-l*r,i,s)}function Bh(e){this._context=e}Bh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jv(this,this._t0,oP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,jv(this,oP(this,r=sP(this,e,t)),r);break;default:jv(this,this._t0,r=sP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function p3(e){this._context=new g3(e)}(p3.prototype=Object.create(Bh.prototype)).point=function(e,t){Bh.prototype.point.call(this,t,e)};function g3(e){this._context=e}g3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function nfe(e){return new Bh(e)}function afe(e){return new p3(e)}function y3(e){this._context=e}y3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=lP(e),a=lP(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function lP(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function ife(e){return new y3(e)}function Fp(e,t){this._context=e,this._t=t}Fp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function sfe(e){return new Fp(e,.5)}function ofe(e){return new Fp(e,0)}function lfe(e){return new Fp(e,1)}function yl(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,l=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function $w(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function cfe(e,t){return e[t]}function ufe(e){const t=[];return t.key=e,t}function dfe(){var e=Dt([]),t=$w,r=yl,n=cfe;function a(i){var s=Array.from(e.apply(this,arguments),ufe),l,c=s.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,i)]).data=f;for(l=0,d=Kj(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Dt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Dt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?$w:typeof i=="function"?i:Dt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??yl,a):r},a}function ffe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}yl(e,t)}}function hfe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}yl(e,t)}}function mfe(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<l;++v){var g=e[t[v]],y=g[n][1]||0,x=g[n-1][1]||0;m+=y-x}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,yl(e,t)}}function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}var pfe=["type","size","sizeType"];function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lw.apply(this,arguments)}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){gfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gfe(e,t,r){return t=yfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yfe(e){var t=vfe(e,"string");return ku(t)=="symbol"?t:t+""}function vfe(e,t){if(ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xfe(e,t){if(e==null)return{};var r=bfe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var v3={symbolCircle:Yj,symbolCross:zde,symbolDiamond:Vde,symbolSquare:qde,symbolStar:Kde,symbolTriangle:Yde,symbolWye:Zde},wfe=Math.PI/180,_fe=function(t){var r="symbol".concat(Ip(t));return v3[r]||Yj},jfe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*wfe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Sfe=function(t,r){v3["symbol".concat(Ip(t))]=r},Xj=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,l=s===void 0?"area":s,c=xfe(t,pfe),u=uP(uP({},c),{},{type:n,size:i,sizeType:l}),d=function(){var y=_fe(n),x=Jde().type(y).size(jfe(i,l,n));return x()},f=u.className,h=u.cx,m=u.cy,v=dt(u,!0);return h===+h&&m===+m&&i===+i?k.createElement("path",Lw({},v,{className:it("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};Xj.registerSymbol=Sfe;function vl(e){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function Fw(){return Fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fw.apply(this,arguments)}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nfe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){Ru(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b3(n.key),n)}}function Efe(e,t,r){return t&&Tfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Afe(e,t,r){return t=zh(t),Pfe(e,x3()?Reflect.construct(t,r||[],zh(e).constructor):t.apply(e,r))}function Pfe(e,t){if(t&&(vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ofe(e)}function Ofe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x3=function(){return!!e})()}function zh(e){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zh(e)}function kfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bw(e,t)}function Bw(e,t){return Bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bw(e,t)}function Ru(e,t,r){return t=b3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b3(e){var t=Rfe(e,"string");return vl(t)=="symbol"?t:t+""}function Rfe(e,t){if(vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tn=32,Zj=(function(e){function t(){return Cfe(this,t),Afe(this,t,arguments)}return kfe(t,e),Efe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Tn/2,s=Tn/6,l=Tn/3,c=n.inactive?a:n.color;if(n.type==="plainline")return k.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Tn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Tn,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return k.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Tn/8,"h").concat(Tn,"v").concat(Tn*3/4,"h").concat(-Tn,"z"),className:"recharts-legend-icon"});if(k.isValidElement(n.legendIcon)){var u=Nfe({},n);return delete u.legendIcon,k.cloneElement(n.legendIcon,u)}return k.createElement(Xj,{fill:c,cx:i,cy:i,size:Tn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Tn,height:Tn},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,v){var g=m.formatter||c,y=it(Ru(Ru({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=Je(m.value)?null:m.value;si(!Je(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return k.createElement("li",Fw({className:y,style:f,key:"legend-item-".concat(v)},Dh(n.props,m,v)),k.createElement(kw,{width:s,height:s,viewBox:d,style:h},n.renderIcon(m)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(x,m,v):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(p.PureComponent);Ru(Zj,"displayName","Legend");Ru(Zj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Sv,fP;function Mfe(){if(fP)return Sv;fP=1;var e=kp();function t(){this.__data__=new e,this.size=0}return Sv=t,Sv}var Nv,hP;function Dfe(){if(hP)return Nv;hP=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Nv=e,Nv}var Cv,mP;function Ife(){if(mP)return Cv;mP=1;function e(t){return this.__data__.get(t)}return Cv=e,Cv}var Tv,pP;function $fe(){if(pP)return Tv;pP=1;function e(t){return this.__data__.has(t)}return Tv=e,Tv}var Ev,gP;function Lfe(){if(gP)return Ev;gP=1;var e=kp(),t=zj(),r=Uj(),n=200;function a(i,s){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<n-1)return c.push([i,s]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,s),this.size=l.size,this}return Ev=a,Ev}var Av,yP;function w3(){if(yP)return Av;yP=1;var e=kp(),t=Mfe(),r=Dfe(),n=Ife(),a=$fe(),i=Lfe();function s(l){var c=this.__data__=new e(l);this.size=c.size}return s.prototype.clear=t,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,Av=s,Av}var Pv,vP;function Ffe(){if(vP)return Pv;vP=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Pv=t,Pv}var Ov,xP;function Bfe(){if(xP)return Ov;xP=1;function e(t){return this.__data__.has(t)}return Ov=e,Ov}var kv,bP;function _3(){if(bP)return kv;bP=1;var e=Uj(),t=Ffe(),r=Bfe();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new e;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,kv=n,kv}var Rv,wP;function j3(){if(wP)return Rv;wP=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return Rv=e,Rv}var Mv,_P;function S3(){if(_P)return Mv;_P=1;function e(t,r){return t.has(r)}return Mv=e,Mv}var Dv,jP;function N3(){if(jP)return Dv;jP=1;var e=_3(),t=j3(),r=S3(),n=1,a=2;function i(s,l,c,u,d,f){var h=c&n,m=s.length,v=l.length;if(m!=v&&!(h&&v>m))return!1;var g=f.get(s),y=f.get(l);if(g&&y)return g==l&&y==s;var x=-1,b=!0,w=c&a?new e:void 0;for(f.set(s,l),f.set(l,s);++x<m;){var j=s[x],_=l[x];if(u)var S=h?u(_,j,x,l,s,f):u(j,_,x,s,l,f);if(S!==void 0){if(S)continue;b=!1;break}if(w){if(!t(l,function(N,T){if(!r(w,T)&&(j===N||d(j,N,c,u,f)))return w.push(T)})){b=!1;break}}else if(!(j===_||d(j,_,c,u,f))){b=!1;break}}return f.delete(s),f.delete(l),b}return Dv=i,Dv}var Iv,SP;function zfe(){if(SP)return Iv;SP=1;var e=Wa(),t=e.Uint8Array;return Iv=t,Iv}var $v,NP;function Ufe(){if(NP)return $v;NP=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return $v=e,$v}var Lv,CP;function Jj(){if(CP)return Lv;CP=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return Lv=e,Lv}var Fv,TP;function Vfe(){if(TP)return Fv;TP=1;var e=Ud(),t=zfe(),r=Bj(),n=N3(),a=Ufe(),i=Jj(),s=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",h="[object Number]",m="[object RegExp]",v="[object Set]",g="[object String]",y="[object Symbol]",x="[object ArrayBuffer]",b="[object DataView]",w=e?e.prototype:void 0,j=w?w.valueOf:void 0;function _(S,N,T,C,A,P,E){switch(T){case b:if(S.byteLength!=N.byteLength||S.byteOffset!=N.byteOffset)return!1;S=S.buffer,N=N.buffer;case x:return!(S.byteLength!=N.byteLength||!P(new t(S),new t(N)));case c:case u:case h:return r(+S,+N);case d:return S.name==N.name&&S.message==N.message;case m:case g:return S==N+"";case f:var R=a;case v:var O=C&s;if(R||(R=i),S.size!=N.size&&!O)return!1;var M=E.get(S);if(M)return M==N;C|=l,E.set(S,N);var D=n(R(S),R(N),C,A,P,E);return E.delete(S),D;case y:if(j)return j.call(S)==j.call(N)}return!1}return Fv=_,Fv}var Bv,EP;function C3(){if(EP)return Bv;EP=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return Bv=e,Bv}var zv,AP;function qfe(){if(AP)return zv;AP=1;var e=C3(),t=tn();function r(n,a,i){var s=a(n);return t(n)?s:e(s,i(n))}return zv=r,zv}var Uv,PP;function Wfe(){if(PP)return Uv;PP=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,s=[];++n<a;){var l=t[n];r(l,n,t)&&(s[i++]=l)}return s}return Uv=e,Uv}var Vv,OP;function Hfe(){if(OP)return Vv;OP=1;function e(){return[]}return Vv=e,Vv}var qv,kP;function Gfe(){if(kP)return qv;kP=1;var e=Wfe(),t=Hfe(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),e(a(s),function(l){return n.call(s,l)}))}:t;return qv=i,qv}var Wv,RP;function Kfe(){if(RP)return Wv;RP=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return Wv=e,Wv}var Hv,MP;function Yfe(){if(MP)return Hv;MP=1;var e=xi(),t=bi(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return Hv=n,Hv}var Gv,DP;function Qj(){if(DP)return Gv;DP=1;var e=Yfe(),t=bi(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(s){return t(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return Gv=i,Gv}var Mc={exports:{}},Kv,IP;function Xfe(){if(IP)return Kv;IP=1;function e(){return!1}return Kv=e,Kv}Mc.exports;var $P;function T3(){return $P||($P=1,(function(e,t){var r=Wa(),n=Xfe(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Mc,Mc.exports)),Mc.exports}var Yv,LP;function eS(){if(LP)return Yv;LP=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return Yv=r,Yv}var Xv,FP;function tS(){if(FP)return Xv;FP=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Xv=t,Xv}var Zv,BP;function Zfe(){if(BP)return Zv;BP=1;var e=xi(),t=tS(),r=bi(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",h="[object RegExp]",m="[object Set]",v="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",x="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",j="[object Int8Array]",_="[object Int16Array]",S="[object Int32Array]",N="[object Uint8Array]",T="[object Uint8ClampedArray]",C="[object Uint16Array]",A="[object Uint32Array]",P={};P[b]=P[w]=P[j]=P[_]=P[S]=P[N]=P[T]=P[C]=P[A]=!0,P[n]=P[a]=P[y]=P[i]=P[x]=P[s]=P[l]=P[c]=P[u]=P[d]=P[f]=P[h]=P[m]=P[v]=P[g]=!1;function E(R){return r(R)&&t(R.length)&&!!P[e(R)]}return Zv=E,Zv}var Jv,zP;function E3(){if(zP)return Jv;zP=1;function e(t){return function(r){return t(r)}}return Jv=e,Jv}var Dc={exports:{}};Dc.exports;var UP;function Jfe(){return UP||(UP=1,(function(e,t){var r=KB(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();e.exports=l})(Dc,Dc.exports)),Dc.exports}var Qv,VP;function A3(){if(VP)return Qv;VP=1;var e=Zfe(),t=E3(),r=Jfe(),n=r&&r.isTypedArray,a=n?t(n):e;return Qv=a,Qv}var ex,qP;function Qfe(){if(qP)return ex;qP=1;var e=Kfe(),t=Qj(),r=tn(),n=T3(),a=eS(),i=A3(),s=Object.prototype,l=s.hasOwnProperty;function c(u,d){var f=r(u),h=!f&&t(u),m=!f&&!h&&n(u),v=!f&&!h&&!m&&i(u),g=f||h||m||v,y=g?e(u.length,String):[],x=y.length;for(var b in u)(d||l.call(u,b))&&!(g&&(b=="length"||m&&(b=="offset"||b=="parent")||v&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||a(b,x)))&&y.push(b);return y}return ex=c,ex}var tx,WP;function ehe(){if(WP)return tx;WP=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return tx=t,tx}var rx,HP;function P3(){if(HP)return rx;HP=1;function e(t,r){return function(n){return t(r(n))}}return rx=e,rx}var nx,GP;function the(){if(GP)return nx;GP=1;var e=P3(),t=e(Object.keys,Object);return nx=t,nx}var ax,KP;function rhe(){if(KP)return ax;KP=1;var e=ehe(),t=the(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var s=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&s.push(l);return s}return ax=a,ax}var ix,YP;function qd(){if(YP)return ix;YP=1;var e=Fj(),t=tS();function r(n){return n!=null&&t(n.length)&&!e(n)}return ix=r,ix}var sx,XP;function Bp(){if(XP)return sx;XP=1;var e=Qfe(),t=rhe(),r=qd();function n(a){return r(a)?e(a):t(a)}return sx=n,sx}var ox,ZP;function nhe(){if(ZP)return ox;ZP=1;var e=qfe(),t=Gfe(),r=Bp();function n(a){return e(a,r,t)}return ox=n,ox}var lx,JP;function ahe(){if(JP)return lx;JP=1;var e=nhe(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,s,l,c,u,d){var f=l&t,h=e(i),m=h.length,v=e(s),g=v.length;if(m!=g&&!f)return!1;for(var y=m;y--;){var x=h[y];if(!(f?x in s:n.call(s,x)))return!1}var b=d.get(i),w=d.get(s);if(b&&w)return b==s&&w==i;var j=!0;d.set(i,s),d.set(s,i);for(var _=f;++y<m;){x=h[y];var S=i[x],N=s[x];if(c)var T=f?c(N,S,x,s,i,d):c(S,N,x,i,s,d);if(!(T===void 0?S===N||u(S,N,l,c,d):T)){j=!1;break}_||(_=x=="constructor")}if(j&&!_){var C=i.constructor,A=s.constructor;C!=A&&"constructor"in i&&"constructor"in s&&!(typeof C=="function"&&C instanceof C&&typeof A=="function"&&A instanceof A)&&(j=!1)}return d.delete(i),d.delete(s),j}return lx=a,lx}var cx,QP;function ihe(){if(QP)return cx;QP=1;var e=uo(),t=Wa(),r=e(t,"DataView");return cx=r,cx}var ux,eO;function she(){if(eO)return ux;eO=1;var e=uo(),t=Wa(),r=e(t,"Promise");return ux=r,ux}var dx,tO;function O3(){if(tO)return dx;tO=1;var e=uo(),t=Wa(),r=e(t,"Set");return dx=r,dx}var fx,rO;function ohe(){if(rO)return fx;rO=1;var e=uo(),t=Wa(),r=e(t,"WeakMap");return fx=r,fx}var hx,nO;function lhe(){if(nO)return hx;nO=1;var e=ihe(),t=zj(),r=she(),n=O3(),a=ohe(),i=xi(),s=YB(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",h="[object DataView]",m=s(e),v=s(t),g=s(r),y=s(n),x=s(a),b=i;return(e&&b(new e(new ArrayBuffer(1)))!=h||t&&b(new t)!=l||r&&b(r.resolve())!=u||n&&b(new n)!=d||a&&b(new a)!=f)&&(b=function(w){var j=i(w),_=j==c?w.constructor:void 0,S=_?s(_):"";if(S)switch(S){case m:return h;case v:return l;case g:return u;case y:return d;case x:return f}return j}),hx=b,hx}var mx,aO;function che(){if(aO)return mx;aO=1;var e=w3(),t=N3(),r=Vfe(),n=ahe(),a=lhe(),i=tn(),s=T3(),l=A3(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",h=Object.prototype,m=h.hasOwnProperty;function v(g,y,x,b,w,j){var _=i(g),S=i(y),N=_?d:a(g),T=S?d:a(y);N=N==u?f:N,T=T==u?f:T;var C=N==f,A=T==f,P=N==T;if(P&&s(g)){if(!s(y))return!1;_=!0,C=!1}if(P&&!C)return j||(j=new e),_||l(g)?t(g,y,x,b,w,j):r(g,y,N,x,b,w,j);if(!(x&c)){var E=C&&m.call(g,"__wrapped__"),R=A&&m.call(y,"__wrapped__");if(E||R){var O=E?g.value():g,M=R?y.value():y;return j||(j=new e),w(O,M,x,b,j)}}return P?(j||(j=new e),n(g,y,x,b,w,j)):!1}return mx=v,mx}var px,iO;function rS(){if(iO)return px;iO=1;var e=che(),t=bi();function r(n,a,i,s,l){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,s,r,l)}return px=r,px}var gx,sO;function uhe(){if(sO)return gx;sO=1;var e=w3(),t=rS(),r=1,n=2;function a(i,s,l,c){var u=l.length,d=u,f=!c;if(i==null)return!d;for(i=Object(i);u--;){var h=l[u];if(f&&h[2]?h[1]!==i[h[0]]:!(h[0]in i))return!1}for(;++u<d;){h=l[u];var m=h[0],v=i[m],g=h[1];if(f&&h[2]){if(v===void 0&&!(m in i))return!1}else{var y=new e;if(c)var x=c(v,g,m,i,s,y);if(!(x===void 0?t(g,v,r|n,c,y):x))return!1}}return!0}return gx=a,gx}var yx,oO;function k3(){if(oO)return yx;oO=1;var e=ls();function t(r){return r===r&&!e(r)}return yx=t,yx}var vx,lO;function dhe(){if(lO)return vx;lO=1;var e=k3(),t=Bp();function r(n){for(var a=t(n),i=a.length;i--;){var s=a[i],l=n[s];a[i]=[s,l,e(l)]}return a}return vx=r,vx}var xx,cO;function R3(){if(cO)return xx;cO=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return xx=e,xx}var bx,uO;function fhe(){if(uO)return bx;uO=1;var e=uhe(),t=dhe(),r=R3();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(s){return s===a||e(s,a,i)}}return bx=n,bx}var wx,dO;function hhe(){if(dO)return wx;dO=1;function e(t,r){return t!=null&&r in Object(t)}return wx=e,wx}var _x,fO;function mhe(){if(fO)return _x;fO=1;var e=JB(),t=Qj(),r=tn(),n=eS(),a=tS(),i=Mp();function s(l,c,u){c=e(c,l);for(var d=-1,f=c.length,h=!1;++d<f;){var m=i(c[d]);if(!(h=l!=null&&u(l,m)))break;l=l[m]}return h||++d!=f?h:(f=l==null?0:l.length,!!f&&a(f)&&n(m,f)&&(r(l)||t(l)))}return _x=s,_x}var jx,hO;function phe(){if(hO)return jx;hO=1;var e=hhe(),t=mhe();function r(n,a){return n!=null&&t(n,a,e)}return jx=r,jx}var Sx,mO;function ghe(){if(mO)return Sx;mO=1;var e=rS(),t=QB(),r=phe(),n=Lj(),a=k3(),i=R3(),s=Mp(),l=1,c=2;function u(d,f){return n(d)&&a(f)?i(s(d),f):function(h){var m=t(h,d);return m===void 0&&m===f?r(h,d):e(f,m,l|c)}}return Sx=u,Sx}var Nx,pO;function rc(){if(pO)return Nx;pO=1;function e(t){return t}return Nx=e,Nx}var Cx,gO;function yhe(){if(gO)return Cx;gO=1;function e(t){return function(r){return r?.[t]}}return Cx=e,Cx}var Tx,yO;function vhe(){if(yO)return Tx;yO=1;var e=qj();function t(r){return function(n){return e(n,r)}}return Tx=t,Tx}var Ex,vO;function xhe(){if(vO)return Ex;vO=1;var e=yhe(),t=vhe(),r=Lj(),n=Mp();function a(i){return r(i)?e(n(i)):t(i)}return Ex=a,Ex}var Ax,xO;function cs(){if(xO)return Ax;xO=1;var e=fhe(),t=ghe(),r=rc(),n=tn(),a=xhe();function i(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?t(s[0],s[1]):e(s):a(s)}return Ax=i,Ax}var Px,bO;function M3(){if(bO)return Px;bO=1;function e(t,r,n,a){for(var i=t.length,s=n+(a?1:-1);a?s--:++s<i;)if(r(t[s],s,t))return s;return-1}return Px=e,Px}var Ox,wO;function bhe(){if(wO)return Ox;wO=1;function e(t){return t!==t}return Ox=e,Ox}var kx,_O;function whe(){if(_O)return kx;_O=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return kx=e,kx}var Rx,jO;function _he(){if(jO)return Rx;jO=1;var e=M3(),t=bhe(),r=whe();function n(a,i,s){return i===i?r(a,i,s):e(a,t,s)}return Rx=n,Rx}var Mx,SO;function jhe(){if(SO)return Mx;SO=1;var e=_he();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return Mx=t,Mx}var Dx,NO;function She(){if(NO)return Dx;NO=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return Dx=e,Dx}var Ix,CO;function Nhe(){if(CO)return Ix;CO=1;function e(){}return Ix=e,Ix}var $x,TO;function Che(){if(TO)return $x;TO=1;var e=O3(),t=Nhe(),r=Jj(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return $x=a,$x}var Lx,EO;function The(){if(EO)return Lx;EO=1;var e=_3(),t=jhe(),r=She(),n=S3(),a=Che(),i=Jj(),s=200;function l(c,u,d){var f=-1,h=t,m=c.length,v=!0,g=[],y=g;if(d)v=!1,h=r;else if(m>=s){var x=u?null:a(c);if(x)return i(x);v=!1,h=n,y=new e}else y=u?[]:g;e:for(;++f<m;){var b=c[f],w=u?u(b):b;if(b=d||b!==0?b:0,v&&w===w){for(var j=y.length;j--;)if(y[j]===w)continue e;u&&y.push(w),g.push(b)}else h(y,w,d)||(y!==g&&y.push(w),g.push(b))}return g}return Lx=l,Lx}var Fx,AO;function Ehe(){if(AO)return Fx;AO=1;var e=cs(),t=The();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return Fx=r,Fx}var Ahe=Ehe();const PO=Lt(Ahe);function D3(e,t,r){return t===!0?PO(e,r):Je(t)?PO(e,t):e}function xl(e){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}var Phe=["ref"];function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){zp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ohe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$3(n.key),n)}}function khe(e,t,r){return t&&kO(e.prototype,t),r&&kO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rhe(e,t,r){return t=Uh(t),Mhe(e,I3()?Reflect.construct(t,r||[],Uh(e).constructor):t.apply(e,r))}function Mhe(e,t){if(t&&(xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dhe(e)}function Dhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I3=function(){return!!e})()}function Uh(e){return Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uh(e)}function Ihe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zw(e,t)}function zw(e,t){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zw(e,t)}function zp(e,t,r){return t=$3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $3(e){var t=$he(e,"string");return xl(t)=="symbol"?t:t+""}function $he(e,t){if(xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Lhe(e,t){if(e==null)return{};var r=Fhe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bhe(e){return e.value}function zhe(e,t){if(k.isValidElement(e))return k.cloneElement(e,t);if(typeof e=="function")return k.createElement(e,t);t.ref;var r=Lhe(t,Phe);return k.createElement(Zj,r)}var RO=1,Fs=(function(e){function t(){var r;Ohe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Rhe(this,t,[].concat(a)),zp(r,"lastBoundingBox",{width:-1,height:-1}),r}return Ihe(t,e),khe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>RO||Math.abs(a.height-this.lastBoundingBox.height)>RO)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Xa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Xa(Xa({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Xa(Xa({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return k.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},zhe(i,Xa(Xa({},this.props),{},{payload:D3(d,u,Bhe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Xa(Xa({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&pe(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])})(p.PureComponent);zp(Fs,"displayName","Legend");zp(Fs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Bx,MO;function Uhe(){if(MO)return Bx;MO=1;var e=Ud(),t=Qj(),r=tn(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return Bx=a,Bx}var zx,DO;function L3(){if(DO)return zx;DO=1;var e=C3(),t=Uhe();function r(n,a,i,s,l){var c=-1,u=n.length;for(i||(i=t),l||(l=[]);++c<u;){var d=n[c];a>0&&i(d)?a>1?r(d,a-1,i,s,l):e(l,d):s||(l[l.length]=d)}return l}return zx=r,zx}var Ux,IO;function Vhe(){if(IO)return Ux;IO=1;function e(t){return function(r,n,a){for(var i=-1,s=Object(r),l=a(r),c=l.length;c--;){var u=l[t?c:++i];if(n(s[u],u,s)===!1)break}return r}}return Ux=e,Ux}var Vx,$O;function qhe(){if($O)return Vx;$O=1;var e=Vhe(),t=e();return Vx=t,Vx}var qx,LO;function F3(){if(LO)return qx;LO=1;var e=qhe(),t=Bp();function r(n,a){return n&&e(n,a,t)}return qx=r,qx}var Wx,FO;function Whe(){if(FO)return Wx;FO=1;var e=qd();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var s=a.length,l=n?s:-1,c=Object(a);(n?l--:++l<s)&&i(c[l],l,c)!==!1;);return a}}return Wx=t,Wx}var Hx,BO;function nS(){if(BO)return Hx;BO=1;var e=F3(),t=Whe(),r=t(e);return Hx=r,Hx}var Gx,zO;function B3(){if(zO)return Gx;zO=1;var e=nS(),t=qd();function r(n,a){var i=-1,s=t(n)?Array(n.length):[];return e(n,function(l,c,u){s[++i]=a(l,c,u)}),s}return Gx=r,Gx}var Kx,UO;function Hhe(){if(UO)return Kx;UO=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Kx=e,Kx}var Yx,VO;function Ghe(){if(VO)return Yx;VO=1;var e=ec();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,s=r===r,l=e(r),c=n!==void 0,u=n===null,d=n===n,f=e(n);if(!u&&!f&&!l&&r>n||l&&c&&d&&!u&&!f||i&&c&&d||!a&&d||!s)return 1;if(!i&&!l&&!f&&r<n||f&&a&&s&&!i&&!l||u&&a&&s||!c&&s||!d)return-1}return 0}return Yx=t,Yx}var Xx,qO;function Khe(){if(qO)return Xx;qO=1;var e=Ghe();function t(r,n,a){for(var i=-1,s=r.criteria,l=n.criteria,c=s.length,u=a.length;++i<c;){var d=e(s[i],l[i]);if(d){if(i>=u)return d;var f=a[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return Xx=t,Xx}var Zx,WO;function Yhe(){if(WO)return Zx;WO=1;var e=Vj(),t=qj(),r=cs(),n=B3(),a=Hhe(),i=E3(),s=Khe(),l=rc(),c=tn();function u(d,f,h){f.length?f=e(f,function(g){return c(g)?function(y){return t(y,g.length===1?g[0]:g)}:g}):f=[l];var m=-1;f=e(f,i(r));var v=n(d,function(g,y,x){var b=e(f,function(w){return w(g)});return{criteria:b,index:++m,value:g}});return a(v,function(g,y){return s(g,y,h)})}return Zx=u,Zx}var Jx,HO;function Xhe(){if(HO)return Jx;HO=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Jx=e,Jx}var Qx,GO;function Zhe(){if(GO)return Qx;GO=1;var e=Xhe(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var s=arguments,l=-1,c=t(s.length-a,0),u=Array(c);++l<c;)u[l]=s[a+l];l=-1;for(var d=Array(a+1);++l<a;)d[l]=s[l];return d[a]=i(u),e(n,this,d)}}return Qx=r,Qx}var eb,KO;function Jhe(){if(KO)return eb;KO=1;function e(t){return function(){return t}}return eb=e,eb}var tb,YO;function z3(){if(YO)return tb;YO=1;var e=uo(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return tb=t,tb}var rb,XO;function Qhe(){if(XO)return rb;XO=1;var e=Jhe(),t=z3(),r=rc(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return rb=n,rb}var nb,ZO;function eme(){if(ZO)return nb;ZO=1;var e=800,t=16,r=Date.now;function n(a){var i=0,s=0;return function(){var l=r(),c=t-(l-s);if(s=l,c>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return nb=n,nb}var ab,JO;function tme(){if(JO)return ab;JO=1;var e=Qhe(),t=eme(),r=t(e);return ab=r,ab}var ib,QO;function rme(){if(QO)return ib;QO=1;var e=rc(),t=Zhe(),r=tme();function n(a,i){return r(t(a,i,e),a+"")}return ib=n,ib}var sb,ek;function Up(){if(ek)return sb;ek=1;var e=Bj(),t=qd(),r=eS(),n=ls();function a(i,s,l){if(!n(l))return!1;var c=typeof s;return(c=="number"?t(l)&&r(s,l.length):c=="string"&&s in l)?e(l[s],i):!1}return sb=a,sb}var ob,tk;function nme(){if(tk)return ob;tk=1;var e=L3(),t=Yhe(),r=rme(),n=Up(),a=r(function(i,s){if(i==null)return[];var l=s.length;return l>1&&n(i,s[0],s[1])?s=[]:l>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),t(i,e(s,1),[])});return ob=a,ob}var ame=nme();const aS=Lt(ame);function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function Uw(){return Uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uw.apply(this,arguments)}function ime(e,t){return cme(e)||lme(e,t)||ome(e,t)||sme()}function sme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ome(e,t){if(e){if(typeof e=="string")return rk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rk(e,t)}}function rk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function cme(e){if(Array.isArray(e))return e}function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(n){ume(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ume(e,t,r){return t=dme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dme(e){var t=fme(e,"string");return Mu(t)=="symbol"?t:t+""}function fme(e,t){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hme(e){return Array.isArray(e)&&br(e[0])&&br(e[1])?e.join(" ~ "):e}var mme=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,v=t.labelClassName,g=t.label,y=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(d&&d.length){var E={padding:0,margin:0},R=(h?aS(d,h):d).map(function(O,M){if(O.type==="none")return null;var D=lb({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},l),I=O.formatter||f||hme,F=O.value,$=O.name,V=F,X=$;if(I&&V!=null&&X!=null){var Y=I(F,$,O,M,d);if(Array.isArray(Y)){var q=ime(Y,2);V=q[0],X=q[1]}else V=Y}return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:D},br(X)?k.createElement("span",{className:"recharts-tooltip-item-name"},X):null,br(X)?k.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,k.createElement("span",{className:"recharts-tooltip-item-value"},V),k.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:E},R)}return null},j=lb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=lb({margin:0},u),S=!ft(g),N=S?g:"",T=it("recharts-default-tooltip",m),C=it("recharts-tooltip-label",v);S&&y&&d!==void 0&&d!==null&&(N=y(g,d));var A=b?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",Uw({className:T,style:j},A),k.createElement("p",{className:C,style:_},k.isValidElement(N)?N:"".concat(N)),w())};function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function jf(e,t,r){return t=pme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pme(e){var t=gme(e,"string");return Du(t)=="symbol"?t:t+""}function gme(e,t){if(Du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vc="recharts-tooltip-wrapper",yme={visibility:"hidden"};function vme(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return it(vc,jf(jf(jf(jf({},"".concat(vc,"-right"),pe(r)&&t&&pe(t.x)&&r>=t.x),"".concat(vc,"-left"),pe(r)&&t&&pe(t.x)&&r<t.x),"".concat(vc,"-bottom"),pe(n)&&t&&pe(t.y)&&n>=t.y),"".concat(vc,"-top"),pe(n)&&t&&pe(t.y)&&n<t.y))}function ak(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&pe(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return s[n]?d:f;if(s[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,g=c[n]+u;return v>g?Math.max(d,c[n]):Math.max(f,c[n])}function xme(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function bme(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=ak({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=ak({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=xme({translateX:d,translateY:f,useTranslate3d:l})):u=yme,{cssProperties:u,cssClasses:vme({translateX:d,translateY:f,coordinate:r})}}function bl(e){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(e)}function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(n){qw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V3(n.key),n)}}function jme(e,t,r){return t&&_me(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sme(e,t,r){return t=Vh(t),Nme(e,U3()?Reflect.construct(t,r||[],Vh(e).constructor):t.apply(e,r))}function Nme(e,t){if(t&&(bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cme(e)}function Cme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U3=function(){return!!e})()}function Vh(e){return Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vh(e)}function Tme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vw(e,t)}function Vw(e,t){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vw(e,t)}function qw(e,t,r){return t=V3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V3(e){var t=Eme(e,"string");return bl(t)=="symbol"?t:t+""}function Eme(e,t){if(bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ok=1,Ame=(function(e){function t(){var r;wme(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Sme(this,t,[].concat(a)),qw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),qw(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Tme(t,e),jme(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>ok||Math.abs(n.height-this.state.lastBoundingBox.height)>ok)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,v=a.position,g=a.reverseDirection,y=a.useTranslate3d,x=a.viewBox,b=a.wrapperStyle,w=bme({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),j=w.cssClasses,_=w.cssProperties,S=sk(sk({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return k.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(T){n.wrapperNode=T}},u)}}])})(p.PureComponent),Pme=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Wd={isSsr:Pme()};function wl(e){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wl(e)}function lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ck(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lk(Object(r),!0).forEach(function(n){iS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ome(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W3(n.key),n)}}function Rme(e,t,r){return t&&kme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mme(e,t,r){return t=qh(t),Dme(e,q3()?Reflect.construct(t,r||[],qh(e).constructor):t.apply(e,r))}function Dme(e,t){if(t&&(wl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ime(e)}function Ime(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q3=function(){return!!e})()}function qh(e){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qh(e)}function $me(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ww(e,t)}function Ww(e,t){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ww(e,t)}function iS(e,t,r){return t=W3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W3(e){var t=Lme(e,"string");return wl(t)=="symbol"?t:t+""}function Lme(e,t){if(wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Fme(e){return e.dataKey}function Bme(e,t){return k.isValidElement(e)?k.cloneElement(e,t):typeof e=="function"?k.createElement(e,t):k.createElement(mme,t)}var ta=(function(e){function t(){return Ome(this,t),Mme(this,t,arguments)}return $me(t,e),Rme(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,v=a.payload,g=a.payloadUniqBy,y=a.position,x=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,j=a.wrapperStyle,_=v??[];f&&_.length&&(_=D3(v.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),g,Fme));var S=_.length>0;return k.createElement(Ame,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:m,position:y,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:j},Bme(u,ck(ck({},this.props),{},{payload:_})))}}])})(p.PureComponent);iS(ta,"displayName","Tooltip");iS(ta,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Wd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var cb,uk;function zme(){if(uk)return cb;uk=1;var e=Wa(),t=function(){return e.Date.now()};return cb=t,cb}var ub,dk;function Ume(){if(dk)return ub;dk=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return ub=t,ub}var db,fk;function Vme(){if(fk)return db;fk=1;var e=Ume(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return db=r,db}var fb,hk;function H3(){if(hk)return fb;hk=1;var e=Vme(),t=ls(),r=ec(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=i.test(u);return f||s.test(u)?l(u.slice(2),f?2:8):a.test(u)?n:+u}return fb=c,fb}var hb,mk;function qme(){if(mk)return hb;mk=1;var e=ls(),t=zme(),r=H3(),n="Expected a function",a=Math.max,i=Math.min;function s(l,c,u){var d,f,h,m,v,g,y=0,x=!1,b=!1,w=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,e(u)&&(x=!!u.leading,b="maxWait"in u,h=b?a(r(u.maxWait)||0,c):h,w="trailing"in u?!!u.trailing:w);function j(R){var O=d,M=f;return d=f=void 0,y=R,m=l.apply(M,O),m}function _(R){return y=R,v=setTimeout(T,c),x?j(R):m}function S(R){var O=R-g,M=R-y,D=c-O;return b?i(D,h-M):D}function N(R){var O=R-g,M=R-y;return g===void 0||O>=c||O<0||b&&M>=h}function T(){var R=t();if(N(R))return C(R);v=setTimeout(T,S(R))}function C(R){return v=void 0,w&&d?j(R):(d=f=void 0,m)}function A(){v!==void 0&&clearTimeout(v),y=0,d=g=f=v=void 0}function P(){return v===void 0?m:C(t())}function E(){var R=t(),O=N(R);if(d=arguments,f=this,g=R,O){if(v===void 0)return _(g);if(b)return clearTimeout(v),v=setTimeout(T,c),j(g)}return v===void 0&&(v=setTimeout(T,c)),m}return E.cancel=A,E.flush=P,E}return hb=s,hb}var mb,pk;function Wme(){if(pk)return mb;pk=1;var e=qme(),t=ls(),r="Expected a function";function n(a,i,s){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return t(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),e(a,i,{leading:l,maxWait:i,trailing:c})}return mb=n,mb}var Hme=Wme();const G3=Lt(Hme);function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(n){Gme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gme(e,t,r){return t=Kme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kme(e){var t=Yme(e,"string");return Iu(t)=="symbol"?t:t+""}function Yme(e,t){if(Iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xme(e,t){return epe(e)||Qme(e,t)||Jme(e,t)||Zme()}function Zme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jme(e,t){if(e){if(typeof e=="string")return yk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yk(e,t)}}function yk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function epe(e){if(Array.isArray(e))return e}var K3=p.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,v=e.debounce,g=v===void 0?0:v,y=e.id,x=e.className,b=e.onResize,w=e.style,j=w===void 0?{}:w,_=p.useRef(null),S=p.useRef();S.current=b,p.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var N=p.useState({containerWidth:a.width,containerHeight:a.height}),T=Xme(N,2),C=T[0],A=T[1],P=p.useCallback(function(R,O){A(function(M){var D=Math.round(R),I=Math.round(O);return M.containerWidth===D&&M.containerHeight===I?M:{containerWidth:D,containerHeight:I}})},[]);p.useEffect(function(){var R=function($){var V,X=$[0].contentRect,Y=X.width,q=X.height;P(Y,q),(V=S.current)===null||V===void 0||V.call(S,Y,q)};g>0&&(R=G3(R,g,{trailing:!0,leading:!1}));var O=new ResizeObserver(R),M=_.current.getBoundingClientRect(),D=M.width,I=M.height;return P(D,I),O.observe(_.current),function(){O.disconnect()}},[P,g]);var E=p.useMemo(function(){var R=C.containerWidth,O=C.containerHeight;if(R<0||O<0)return null;si(Rs(s)||Rs(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),si(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=Rs(s)?R:s,D=Rs(c)?O:c;r&&r>0&&(M?D=M/r:D&&(M=D*r),h&&D>h&&(D=h)),si(M>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,D,s,c,d,f,r);var I=!Array.isArray(m)&&ii(m.type).endsWith("Chart");return k.Children.map(m,function(F){return k.isValidElement(F)?p.cloneElement(F,Sf({width:M,height:D},I?{style:Sf({height:"100%",width:"100%",maxHeight:D,maxWidth:M},F.props.style)}:{})):F})},[r,m,c,h,f,d,C,s]);return k.createElement("div",{id:y?"".concat(y):void 0,className:it("recharts-responsive-container",x),style:Sf(Sf({},j),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:_},E)}),sS=function(t){return null};sS.displayName="Cell";function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(n){tpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tpe(e,t,r){return t=rpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rpe(e){var t=npe(e,"string");return $u(t)=="symbol"?t:t+""}function npe(e,t){if($u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eo={widthCache:{},cacheCount:0},ape=2e3,ipe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xk="recharts_measurement_span";function spe(e){var t=Hw({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Gc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Wd.isSsr)return{width:0,height:0};var n=spe(r),a=JSON.stringify({text:t,copyStyle:n});if(Eo.widthCache[a])return Eo.widthCache[a];try{var i=document.getElementById(xk);i||(i=document.createElement("span"),i.setAttribute("id",xk),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=Hw(Hw({},ipe),n);Object.assign(i.style,s),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Eo.widthCache[a]=c,++Eo.cacheCount>ape&&(Eo.cacheCount=0,Eo.widthCache={}),c}catch{return{width:0,height:0}}},ope=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function Wh(e,t){return dpe(e)||upe(e,t)||cpe(e,t)||lpe()}function lpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cpe(e,t){if(e){if(typeof e=="string")return bk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bk(e,t)}}function bk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function upe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function dpe(e){if(Array.isArray(e))return e}function fpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mpe(n.key),n)}}function hpe(e,t,r){return t&&wk(e.prototype,t),r&&wk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mpe(e){var t=ppe(e,"string");return Lu(t)=="symbol"?t:t+""}function ppe(e,t){if(Lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _k=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ype=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Y3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vpe=Object.keys(Y3),Wo="NaN";function xpe(e,t){return e*Y3[t]}var Nf=(function(){function e(t,r){fpe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!gpe.test(r)&&(this.num=NaN,this.unit=""),vpe.includes(r)&&(this.num=xpe(t,r),this.unit="px")}return hpe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=ype.exec(r))!==null&&n!==void 0?n:[],i=Wh(a,3),s=i[1],l=i[2];return new e(parseFloat(s),l??"")}}])})();function X3(e){if(e.includes(Wo))return Wo;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=_k.exec(t))!==null&&r!==void 0?r:[],a=Wh(n,4),i=a[1],s=a[2],l=a[3],c=Nf.parse(i??""),u=Nf.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Wo;t=t.replace(_k,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=jk.exec(t))!==null&&f!==void 0?f:[],m=Wh(h,4),v=m[1],g=m[2],y=m[3],x=Nf.parse(v??""),b=Nf.parse(y??""),w=g==="+"?x.add(b):x.subtract(b);if(w.isNaN())return Wo;t=t.replace(jk,w.toString())}return t}var Sk=/\(([^()]*)\)/;function bpe(e){for(var t=e;t.includes("(");){var r=Sk.exec(t),n=Wh(r,2),a=n[1];t=t.replace(Sk,X3(a))}return t}function wpe(e){var t=e.replace(/\s+/g,"");return t=bpe(t),t=X3(t),t}function _pe(e){try{return wpe(e)}catch{return Wo}}function pb(e){var t=_pe(e.slice(5,-1));return t===Wo?"":t}var jpe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Spe=["dx","dy","angle","className","breakAll"];function Gw(){return Gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gw.apply(this,arguments)}function Nk(e,t){if(e==null)return{};var r=Npe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Npe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ck(e,t){return Ape(e)||Epe(e,t)||Tpe(e,t)||Cpe()}function Cpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tpe(e,t){if(e){if(typeof e=="string")return Tk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tk(e,t)}}function Tk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Epe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Ape(e){if(Array.isArray(e))return e}var Z3=/[ \f\n\r\t\v\u2028\u2029]+/,J3=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];ft(r)||(n?i=r.toString().split(""):i=r.toString().split(Z3));var s=i.map(function(c){return{word:c,width:Gc(c,a).width}}),l=n?0:Gc("",a).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},Ppe=function(t,r,n,a,i){var s=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=pe(s),f=l,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(D,I){var F=I.word,$=I.width,V=D[D.length-1];if(V&&(a==null||i||V.width+$+n<Number(a)))V.words.push(F),V.width+=$+n;else{var X={words:[F],width:$};D.push(X)}return D},[])},m=h(r),v=function(M){return M.reduce(function(D,I){return D.width>I.width?D:I})};if(!d)return m;for(var g="",y=function(M){var D=f.slice(0,M),I=J3({breakAll:u,style:c,children:D+g}).wordsWithComputedWidth,F=h(I),$=F.length>s||v(F).width>Number(a);return[$,F]},x=0,b=f.length-1,w=0,j;x<=b&&w<=f.length-1;){var _=Math.floor((x+b)/2),S=_-1,N=y(S),T=Ck(N,2),C=T[0],A=T[1],P=y(_),E=Ck(P,1),R=E[0];if(!C&&!R&&(x=_+1),C&&R&&(b=_-1),!C&&R){j=A;break}w++}return j||m},Ek=function(t){var r=ft(t)?[]:t.toString().split(Z3);return[{words:r}]},Ope=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,l=t.maxLines;if((r||n)&&!Wd.isSsr){var c,u,d=J3({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return Ek(a);return Ppe({breakAll:s,children:a,maxLines:l,style:i},c,u,r,n)}return Ek(a)},Ak="#808080",Hh=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,v=t.verticalAnchor,g=v===void 0?"end":v,y=t.fill,x=y===void 0?Ak:y,b=Nk(t,jpe),w=p.useMemo(function(){return Ope({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),j=b.dx,_=b.dy,S=b.angle,N=b.className,T=b.breakAll,C=Nk(b,Spe);if(!br(n)||!br(i))return null;var A=n+(pe(j)?j:0),P=i+(pe(_)?_:0),E;switch(g){case"start":E=pb("calc(".concat(u,")"));break;case"middle":E=pb("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=pb("calc(".concat(w.length-1," * -").concat(l,")"));break}var R=[];if(f){var O=w[0].width,M=b.width;R.push("scale(".concat((pe(M)?M/O:1)/O,")"))}return S&&R.push("rotate(".concat(S,", ").concat(A,", ").concat(P,")")),R.length&&(C.transform=R.join(" ")),k.createElement("text",Gw({},dt(C,!0),{x:A,y:P,className:it("recharts-text",N),textAnchor:m,fill:x.includes("url")?Ak:x}),w.map(function(D,I){var F=D.words.join(T?"":" ");return k.createElement("tspan",{x:A,dy:I===0?E:l,key:"".concat(F,"-").concat(I)},F)}))};function Vi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kpe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function oS(e){let t,r,n;e.length!==2?(t=Vi,r=(l,c)=>Vi(e(l),c),n=(l,c)=>e(l)-c):(t=e===Vi||e===kpe?e:Rpe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:s,right:i}}function Rpe(){return 0}function Q3(e){return e===null?NaN:+e}function*Mpe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Dpe=oS(Vi),Hd=Dpe.right;oS(Q3).center;class Pk extends Map{constructor(t,r=Lpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Ok(this,t))}has(t){return super.has(Ok(this,t))}set(t,r){return super.set(Ipe(this,t),r)}delete(t){return super.delete($pe(this,t))}}function Ok({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Ipe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function $pe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Lpe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Fpe(e=Vi){if(e===Vi)return ez;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ez(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Bpe=Math.sqrt(50),zpe=Math.sqrt(10),Upe=Math.sqrt(2);function Gh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Bpe?10:i>=zpe?5:i>=Upe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Gh(e,t,r*2):[l,c,u]}function Kw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Gh(t,e,r):Gh(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function Yw(e,t,r){return t=+t,e=+e,r=+r,Gh(e,t,r)[2]}function Xw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Yw(t,e,r):Yw(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function kk(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Rk(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function tz(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?ez:Fpe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));tz(e,t,m,v,a)}const i=e[t];let s=r,l=n;for(xc(e,r,t),a(e[n],i)>0&&xc(e,r,n);s<l;){for(xc(e,s,l),++s,--l;a(e[s],i)<0;)++s;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?xc(e,r,l):(++l,xc(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function xc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Vpe(e,t,r){if(e=Float64Array.from(Mpe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Rk(e);if(t>=1)return kk(e);var n,a=(n-1)*t,i=Math.floor(a),s=kk(tz(e,i).subarray(0,i+1)),l=Rk(e.subarray(i+1));return s+(l-s)*(a-i)}}function qpe(e,t,r=Q3){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return s+(l-s)*(a-i)}}function Wpe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Vn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function wi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Zw=Symbol("implicit");function lS(){var e=new Pk,t=[],r=[],n=Zw;function a(i){let s=e.get(i);if(s===void 0){if(n!==Zw)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Pk;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return lS(t,r).unknown(n)},Vn.apply(a,arguments),a}function Fu(){var e=lS().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,v=m?a:n,g=m?n:a;i=(g-v)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),v+=(g-v-i*(h-c))*d,s=i*(1-c),l&&(v=Math.round(v),s=Math.round(s));var y=Wpe(h).map(function(x){return v+i*x});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Fu(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Vn.apply(f(),arguments)}function rz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return rz(t())},e}function Kc(){return rz(Fu.apply(null,arguments).paddingInner(1))}function cS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function nz(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Gd(){}var Bu=.7,Kh=1/Bu,nl="\\s*([+-]?\\d+)\\s*",zu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ra="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hpe=/^#([0-9a-f]{3,8})$/,Gpe=new RegExp(`^rgb\\(${nl},${nl},${nl}\\)$`),Kpe=new RegExp(`^rgb\\(${Ra},${Ra},${Ra}\\)$`),Ype=new RegExp(`^rgba\\(${nl},${nl},${nl},${zu}\\)$`),Xpe=new RegExp(`^rgba\\(${Ra},${Ra},${Ra},${zu}\\)$`),Zpe=new RegExp(`^hsl\\(${zu},${Ra},${Ra}\\)$`),Jpe=new RegExp(`^hsla\\(${zu},${Ra},${Ra},${zu}\\)$`),Mk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cS(Gd,Uu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Dk,formatHex:Dk,formatHex8:Qpe,formatHsl:ege,formatRgb:Ik,toString:Ik});function Dk(){return this.rgb().formatHex()}function Qpe(){return this.rgb().formatHex8()}function ege(){return az(this).formatHsl()}function Ik(){return this.rgb().formatRgb()}function Uu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Hpe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?$k(t):r===3?new en(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Cf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Cf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Gpe.exec(e))?new en(t[1],t[2],t[3],1):(t=Kpe.exec(e))?new en(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ype.exec(e))?Cf(t[1],t[2],t[3],t[4]):(t=Xpe.exec(e))?Cf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Zpe.exec(e))?Bk(t[1],t[2]/100,t[3]/100,1):(t=Jpe.exec(e))?Bk(t[1],t[2]/100,t[3]/100,t[4]):Mk.hasOwnProperty(e)?$k(Mk[e]):e==="transparent"?new en(NaN,NaN,NaN,0):null}function $k(e){return new en(e>>16&255,e>>8&255,e&255,1)}function Cf(e,t,r,n){return n<=0&&(e=t=r=NaN),new en(e,t,r,n)}function tge(e){return e instanceof Gd||(e=Uu(e)),e?(e=e.rgb(),new en(e.r,e.g,e.b,e.opacity)):new en}function Jw(e,t,r,n){return arguments.length===1?tge(e):new en(e,t,r,n??1)}function en(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}cS(en,Jw,nz(Gd,{brighter(e){return e=e==null?Kh:Math.pow(Kh,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bu:Math.pow(Bu,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new en(Bs(this.r),Bs(this.g),Bs(this.b),Yh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Lk,formatHex:Lk,formatHex8:rge,formatRgb:Fk,toString:Fk}));function Lk(){return`#${Ms(this.r)}${Ms(this.g)}${Ms(this.b)}`}function rge(){return`#${Ms(this.r)}${Ms(this.g)}${Ms(this.b)}${Ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fk(){const e=Yh(this.opacity);return`${e===1?"rgb(":"rgba("}${Bs(this.r)}, ${Bs(this.g)}, ${Bs(this.b)}${e===1?")":`, ${e})`}`}function Yh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ms(e){return e=Bs(e),(e<16?"0":"")+e.toString(16)}function Bk(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ia(e,t,r,n)}function az(e){if(e instanceof ia)return new ia(e.h,e.s,e.l,e.opacity);if(e instanceof Gd||(e=Uu(e)),!e)return new ia;if(e instanceof ia)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(t===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new ia(s,l,c,e.opacity)}function nge(e,t,r,n){return arguments.length===1?az(e):new ia(e,t,r,n??1)}function ia(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}cS(ia,nge,nz(Gd,{brighter(e){return e=e==null?Kh:Math.pow(Kh,e),new ia(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bu:Math.pow(Bu,e),new ia(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new en(gb(e>=240?e-240:e+120,a,n),gb(e,a,n),gb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ia(zk(this.h),Tf(this.s),Tf(this.l),Yh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yh(this.opacity);return`${e===1?"hsl(":"hsla("}${zk(this.h)}, ${Tf(this.s)*100}%, ${Tf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zk(e){return e=(e||0)%360,e<0?e+360:e}function Tf(e){return Math.max(0,Math.min(1,e||0))}function gb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const uS=e=>()=>e;function age(e,t){return function(r){return e+r*t}}function ige(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function sge(e){return(e=+e)==1?iz:function(t,r){return r-t?ige(t,r,e):uS(isNaN(t)?r:t)}}function iz(e,t){var r=t-e;return r?age(e,r):uS(isNaN(e)?t:e)}const Uk=(function e(t){var r=sge(t);function n(a,i){var s=r((a=Jw(a)).r,(i=Jw(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=iz(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n})(1);function oge(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function lge(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cge(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=nc(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function uge(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Xh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function dge(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=nc(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Qw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yb=new RegExp(Qw.source,"g");function fge(e){return function(){return e}}function hge(e){return function(t){return e(t)+""}}function mge(e,t){var r=Qw.lastIndex=yb.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Qw.exec(e))&&(a=yb.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:Xh(n,a)})),r=yb.lastIndex;return r<t.length&&(i=t.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?hge(c[0].x):fge(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function nc(e,t){var r=typeof t,n;return t==null||r==="boolean"?uS(t):(r==="number"?Xh:r==="string"?(n=Uu(t))?(t=n,Uk):mge:t instanceof Uu?Uk:t instanceof Date?uge:lge(t)?oge:Array.isArray(t)?cge:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?dge:Xh)(e,t)}function dS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function pge(e,t){t===void 0&&(t=e,e=nc);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function gge(e){return function(){return e}}function Zh(e){return+e}var Vk=[0,1];function Yr(e){return e}function e_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:gge(isNaN(t)?NaN:.5)}function yge(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function vge(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=e_(a,n),i=r(s,i)):(n=e_(n,a),i=r(i,s)),function(l){return i(n(l))}}function xge(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=e_(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(l){var c=Hd(e,l,1,n)-1;return i[c](a[c](l))}}function Kd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Vp(){var e=Vk,t=Vk,r=nc,n,a,i,s=Yr,l,c,u;function d(){var h=Math.min(e.length,t.length);return s!==Yr&&(s=yge(e[0],e[h-1])),l=h>2?xge:vge,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=l(t,e.map(n),Xh)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Zh),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=dS,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Yr,d()):s!==Yr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function fS(){return Vp()(Yr,Yr)}function bge(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Jh(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function _l(e){return e=Jh(Math.abs(e)),e?e[1]:NaN}function wge(e,t){return function(r,n){for(var a=r.length,i=[],s=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return i.reverse().join(t)}}function _ge(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var jge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vu(e){if(!(t=jge.exec(e)))throw new Error("invalid format: "+e);var t;return new hS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vu.prototype=hS.prototype;function hS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}hS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sge(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Qh;function Nge(e,t){var r=Jh(e,t);if(!r)return Qh=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(Qh=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Jh(e,Math.max(0,t+i-1))[0]}function qk(e,t){var r=Jh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Wk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bge,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>qk(e*100,t),r:qk,s:Nge,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Hk(e){return e}var Gk=Array.prototype.map,Kk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Cge(e){var t=e.grouping===void 0||e.thousands===void 0?Hk:wge(Gk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Hk:_ge(Gk.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Vu(f);var m=f.fill,v=f.align,g=f.sign,y=f.symbol,x=f.zero,b=f.width,w=f.comma,j=f.precision,_=f.trim,S=f.type;S==="n"?(w=!0,S="g"):Wk[S]||(j===void 0&&(j=12),_=!0,S="g"),(x||m==="0"&&v==="=")&&(x=!0,m="0",v="=");var N=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),T=(y==="$"?n:/[%p]/.test(S)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),C=Wk[S],A=/[defgprs%]/.test(S);j=j===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function P(E){var R=N,O=T,M,D,I;if(S==="c")O=C(E)+O,E="";else{E=+E;var F=E<0||1/E<0;if(E=isNaN(E)?c:C(Math.abs(E),j),_&&(E=Sge(E)),F&&+E==0&&g!=="+"&&(F=!1),R=(F?g==="("?g:l:g==="-"||g==="("?"":g)+R,O=(S==="s"&&!isNaN(E)&&Qh!==void 0?Kk[8+Qh/3]:"")+O+(F&&g==="("?")":""),A){for(M=-1,D=E.length;++M<D;)if(I=E.charCodeAt(M),48>I||I>57){O=(I===46?a+E.slice(M+1):E.slice(M))+O,E=E.slice(0,M);break}}}w&&!x&&(E=t(E,1/0));var $=R.length+E.length+O.length,V=$<b?new Array(b-$+1).join(m):"";switch(w&&x&&(E=t(V+E,V.length?b-O.length:1/0),V=""),v){case"<":E=R+E+O+V;break;case"=":E=R+V+E+O;break;case"^":E=V.slice(0,$=V.length>>1)+R+E+O+V.slice($);break;default:E=V+R+E+O;break}return i(E)}return P.toString=function(){return f+""},P}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(_l(h)/3)))*3,v=Math.pow(10,-m),g=u((f=Vu(f),f.type="f",f),{suffix:Kk[8+m/3]});return function(y){return g(v*y)}}return{format:u,formatPrefix:d}}var Ef,mS,sz;Tge({thousands:",",grouping:[3],currency:["$",""]});function Tge(e){return Ef=Cge(e),mS=Ef.format,sz=Ef.formatPrefix,Ef}function Ege(e){return Math.max(0,-_l(Math.abs(e)))}function Age(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_l(t)/3)))*3-_l(Math.abs(e)))}function Pge(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_l(t)-_l(e))+1}function oz(e,t,r,n){var a=Xw(e,t,r),i;switch(n=Vu(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Age(a,s))&&(n.precision=i),sz(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Pge(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Ege(a))&&(n.precision=i-(n.type==="%")*2);break}}return mS(n)}function us(e){var t=e.domain;return e.ticks=function(r){var n=t();return Kw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return oz(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=Yw(s,l,r),u===c)return n[a]=s,n[i]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function em(){var e=fS();return e.copy=function(){return Kd(e,em())},Vn.apply(e,arguments),us(e)}function lz(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Zh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return lz(e).unknown(t)},e=arguments.length?Array.from(e,Zh):[0,1],us(r)}function cz(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function Yk(e){return Math.log(e)}function Xk(e){return Math.exp(e)}function Oge(e){return-Math.log(-e)}function kge(e){return-Math.exp(-e)}function Rge(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Mge(e){return e===10?Rge:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Dge(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Zk(e){return(t,r)=>-e(-t,r)}function pS(e){const t=e(Yk,Xk),r=t.domain;let n=10,a,i;function s(){return a=Dge(n),i=Mge(n),r()[0]<0?(a=Zk(a),i=Zk(i),e(Oge,kge)):e(Yk,Xk),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),v,g;const y=l==null?10:+l;let x=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<n;++v)if(g=h<0?v/i(-h):v*i(h),!(g<u)){if(g>d)break;x.push(g)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(g=h>0?v/i(-h):v*i(h),!(g<u)){if(g>d)break;x.push(g)}x.length*2<y&&(x=Kw(u,d,y))}else x=Kw(h,m,Math.min(m-h,y)).map(i);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Vu(c)).precision==null&&(c.trim=!0),c=mS(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(cz(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function uz(){const e=pS(Vp()).domain([1,10]);return e.copy=()=>Kd(e,uz()).base(e.base()),Vn.apply(e,arguments),e}function Jk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Qk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gS(e){var t=1,r=e(Jk(t),Qk(t));return r.constant=function(n){return arguments.length?e(Jk(t=+n),Qk(t)):t},us(r)}function dz(){var e=gS(Vp());return e.copy=function(){return Kd(e,dz()).constant(e.constant())},Vn.apply(e,arguments)}function e2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ige(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function $ge(e){return e<0?-e*e:e*e}function yS(e){var t=e(Yr,Yr),r=1;function n(){return r===1?e(Yr,Yr):r===.5?e(Ige,$ge):e(e2(r),e2(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},us(t)}function vS(){var e=yS(Vp());return e.copy=function(){return Kd(e,vS()).exponent(e.exponent())},Vn.apply(e,arguments),e}function Lge(){return vS.apply(null,arguments).exponent(.5)}function t2(e){return Math.sign(e)*e*e}function Fge(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function fz(){var e=fS(),t=[0,1],r=!1,n;function a(i){var s=Fge(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(t2(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Zh)).map(t2)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return fz(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Vn.apply(a,arguments),us(a)}function hz(){var e=[],t=[],r=[],n;function a(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=qpe(e,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Hd(r,s)]}return i.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Vi),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return hz().domain(e).range(t).unknown(n)},Vn.apply(i,arguments)}function mz(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[Hd(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return mz().domain([e,t]).range(a).unknown(i)},Vn.apply(us(s),arguments)}function pz(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Hd(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return pz().domain(e).range(t).unknown(r)},Vn.apply(a,arguments)}const vb=new Date,xb=new Date;function wr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<s);return c},a.filter=i=>wr(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!i(s););else for(;--l>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(vb.setTime(+i),xb.setTime(+s),e(vb),e(xb),Math.floor(r(vb,xb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const tm=wr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);tm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):tm);tm.range;const ti=1e3,kn=ti*60,ri=kn*60,mi=ri*24,xS=mi*7,r2=mi*30,bb=mi*365,Ds=wr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ti)},(e,t)=>(t-e)/ti,e=>e.getUTCSeconds());Ds.range;const bS=wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ti)},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getMinutes());bS.range;const wS=wr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getUTCMinutes());wS.range;const _S=wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ti-e.getMinutes()*kn)},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getHours());_S.range;const jS=wr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getUTCHours());jS.range;const Yd=wr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kn)/mi,e=>e.getDate()-1);Yd.range;const qp=wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mi,e=>e.getUTCDate()-1);qp.range;const gz=wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mi,e=>Math.floor(e/mi));gz.range;function fo(e){return wr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*kn)/xS)}const Wp=fo(0),rm=fo(1),Bge=fo(2),zge=fo(3),jl=fo(4),Uge=fo(5),Vge=fo(6);Wp.range;rm.range;Bge.range;zge.range;jl.range;Uge.range;Vge.range;function ho(e){return wr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/xS)}const Hp=ho(0),nm=ho(1),qge=ho(2),Wge=ho(3),Sl=ho(4),Hge=ho(5),Gge=ho(6);Hp.range;nm.range;qge.range;Wge.range;Sl.range;Hge.range;Gge.range;const SS=wr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());SS.range;const NS=wr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());NS.range;const pi=wr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});pi.range;const gi=wr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});gi.range;function yz(e,t,r,n,a,i){const s=[[Ds,1,ti],[Ds,5,5*ti],[Ds,15,15*ti],[Ds,30,30*ti],[i,1,kn],[i,5,5*kn],[i,15,15*kn],[i,30,30*kn],[a,1,ri],[a,3,3*ri],[a,6,6*ri],[a,12,12*ri],[n,1,mi],[n,2,2*mi],[r,1,xS],[t,1,r2],[t,3,3*r2],[e,1,bb]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=oS(([,,y])=>y).right(s,h);if(m===s.length)return e.every(Xw(u/bb,d/bb,f));if(m===0)return tm.every(Math.max(Xw(u,d,f),1));const[v,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return v.every(g)}return[l,c]}const[Kge,Yge]=yz(gi,NS,Hp,gz,jS,wS),[Xge,Zge]=yz(pi,SS,Wp,Yd,_S,bS);function wb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _b(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function bc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Jge(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=wc(a),d=_c(a),f=wc(i),h=_c(i),m=wc(s),v=_c(s),g=wc(l),y=_c(l),x=wc(c),b=_c(c),w={a:I,A:F,b:$,B:V,c:null,d:l2,e:l2,f:wye,g:Oye,G:Rye,H:vye,I:xye,j:bye,L:vz,m:_ye,M:jye,p:X,q:Y,Q:d2,s:f2,S:Sye,u:Nye,U:Cye,V:Tye,w:Eye,W:Aye,x:null,X:null,y:Pye,Y:kye,Z:Mye,"%":u2},j={a:q,A:oe,b:me,B:xe,c:null,d:c2,e:c2,f:Lye,g:Kye,G:Xye,H:Dye,I:Iye,j:$ye,L:bz,m:Fye,M:Bye,p:te,q:Se,Q:d2,s:f2,S:zye,u:Uye,U:Vye,V:qye,w:Wye,W:Hye,x:null,X:null,y:Gye,Y:Yye,Z:Zye,"%":u2},_={a:A,A:P,b:E,B:R,c:O,d:s2,e:s2,f:mye,g:i2,G:a2,H:o2,I:o2,j:uye,L:hye,m:cye,M:dye,p:C,q:lye,Q:gye,s:yye,S:fye,u:nye,U:aye,V:iye,w:rye,W:sye,x:M,X:D,y:i2,Y:a2,Z:oye,"%":pye};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),j.x=S(r,j),j.X=S(n,j),j.c=S(t,j);function S(re,ae){return function(Q){var K=[],Te=-1,Z=0,G=re.length,se,be,Ie;for(Q instanceof Date||(Q=new Date(+Q));++Te<G;)re.charCodeAt(Te)===37&&(K.push(re.slice(Z,Te)),(be=n2[se=re.charAt(++Te)])!=null?se=re.charAt(++Te):be=se==="e"?" ":"0",(Ie=ae[se])&&(se=Ie(Q,be)),K.push(se),Z=Te+1);return K.push(re.slice(Z,Te)),K.join("")}}function N(re,ae){return function(Q){var K=bc(1900,void 0,1),Te=T(K,re,Q+="",0),Z,G;if(Te!=Q.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(ae&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Z=_b(bc(K.y,0,1)),G=Z.getUTCDay(),Z=G>4||G===0?nm.ceil(Z):nm(Z),Z=qp.offset(Z,(K.V-1)*7),K.y=Z.getUTCFullYear(),K.m=Z.getUTCMonth(),K.d=Z.getUTCDate()+(K.w+6)%7):(Z=wb(bc(K.y,0,1)),G=Z.getDay(),Z=G>4||G===0?rm.ceil(Z):rm(Z),Z=Yd.offset(Z,(K.V-1)*7),K.y=Z.getFullYear(),K.m=Z.getMonth(),K.d=Z.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),G="Z"in K?_b(bc(K.y,0,1)).getUTCDay():wb(bc(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(G+5)%7:K.w+K.U*7-(G+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,_b(K)):wb(K)}}function T(re,ae,Q,K){for(var Te=0,Z=ae.length,G=Q.length,se,be;Te<Z;){if(K>=G)return-1;if(se=ae.charCodeAt(Te++),se===37){if(se=ae.charAt(Te++),be=_[se in n2?ae.charAt(Te++):se],!be||(K=be(re,Q,K))<0)return-1}else if(se!=Q.charCodeAt(K++))return-1}return K}function C(re,ae,Q){var K=u.exec(ae.slice(Q));return K?(re.p=d.get(K[0].toLowerCase()),Q+K[0].length):-1}function A(re,ae,Q){var K=m.exec(ae.slice(Q));return K?(re.w=v.get(K[0].toLowerCase()),Q+K[0].length):-1}function P(re,ae,Q){var K=f.exec(ae.slice(Q));return K?(re.w=h.get(K[0].toLowerCase()),Q+K[0].length):-1}function E(re,ae,Q){var K=x.exec(ae.slice(Q));return K?(re.m=b.get(K[0].toLowerCase()),Q+K[0].length):-1}function R(re,ae,Q){var K=g.exec(ae.slice(Q));return K?(re.m=y.get(K[0].toLowerCase()),Q+K[0].length):-1}function O(re,ae,Q){return T(re,t,ae,Q)}function M(re,ae,Q){return T(re,r,ae,Q)}function D(re,ae,Q){return T(re,n,ae,Q)}function I(re){return s[re.getDay()]}function F(re){return i[re.getDay()]}function $(re){return c[re.getMonth()]}function V(re){return l[re.getMonth()]}function X(re){return a[+(re.getHours()>=12)]}function Y(re){return 1+~~(re.getMonth()/3)}function q(re){return s[re.getUTCDay()]}function oe(re){return i[re.getUTCDay()]}function me(re){return c[re.getUTCMonth()]}function xe(re){return l[re.getUTCMonth()]}function te(re){return a[+(re.getUTCHours()>=12)]}function Se(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var ae=S(re+="",w);return ae.toString=function(){return re},ae},parse:function(re){var ae=N(re+="",!1);return ae.toString=function(){return re},ae},utcFormat:function(re){var ae=S(re+="",j);return ae.toString=function(){return re},ae},utcParse:function(re){var ae=N(re+="",!0);return ae.toString=function(){return re},ae}}}var n2={"-":"",_:" ",0:"0"},Nr=/^\s*\d+/,Qge=/^%/,eye=/[\\^$*+?|[\]().{}]/g;function ct(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function tye(e){return e.replace(eye,"\\$&")}function wc(e){return new RegExp("^(?:"+e.map(tye).join("|")+")","i")}function _c(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function rye(e,t,r){var n=Nr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function nye(e,t,r){var n=Nr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function aye(e,t,r){var n=Nr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function iye(e,t,r){var n=Nr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function sye(e,t,r){var n=Nr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function a2(e,t,r){var n=Nr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function i2(e,t,r){var n=Nr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function oye(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function lye(e,t,r){var n=Nr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function cye(e,t,r){var n=Nr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function s2(e,t,r){var n=Nr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function uye(e,t,r){var n=Nr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function o2(e,t,r){var n=Nr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function dye(e,t,r){var n=Nr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function fye(e,t,r){var n=Nr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function hye(e,t,r){var n=Nr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function mye(e,t,r){var n=Nr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function pye(e,t,r){var n=Qge.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function gye(e,t,r){var n=Nr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function yye(e,t,r){var n=Nr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function l2(e,t){return ct(e.getDate(),t,2)}function vye(e,t){return ct(e.getHours(),t,2)}function xye(e,t){return ct(e.getHours()%12||12,t,2)}function bye(e,t){return ct(1+Yd.count(pi(e),e),t,3)}function vz(e,t){return ct(e.getMilliseconds(),t,3)}function wye(e,t){return vz(e,t)+"000"}function _ye(e,t){return ct(e.getMonth()+1,t,2)}function jye(e,t){return ct(e.getMinutes(),t,2)}function Sye(e,t){return ct(e.getSeconds(),t,2)}function Nye(e){var t=e.getDay();return t===0?7:t}function Cye(e,t){return ct(Wp.count(pi(e)-1,e),t,2)}function xz(e){var t=e.getDay();return t>=4||t===0?jl(e):jl.ceil(e)}function Tye(e,t){return e=xz(e),ct(jl.count(pi(e),e)+(pi(e).getDay()===4),t,2)}function Eye(e){return e.getDay()}function Aye(e,t){return ct(rm.count(pi(e)-1,e),t,2)}function Pye(e,t){return ct(e.getFullYear()%100,t,2)}function Oye(e,t){return e=xz(e),ct(e.getFullYear()%100,t,2)}function kye(e,t){return ct(e.getFullYear()%1e4,t,4)}function Rye(e,t){var r=e.getDay();return e=r>=4||r===0?jl(e):jl.ceil(e),ct(e.getFullYear()%1e4,t,4)}function Mye(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ct(t/60|0,"0",2)+ct(t%60,"0",2)}function c2(e,t){return ct(e.getUTCDate(),t,2)}function Dye(e,t){return ct(e.getUTCHours(),t,2)}function Iye(e,t){return ct(e.getUTCHours()%12||12,t,2)}function $ye(e,t){return ct(1+qp.count(gi(e),e),t,3)}function bz(e,t){return ct(e.getUTCMilliseconds(),t,3)}function Lye(e,t){return bz(e,t)+"000"}function Fye(e,t){return ct(e.getUTCMonth()+1,t,2)}function Bye(e,t){return ct(e.getUTCMinutes(),t,2)}function zye(e,t){return ct(e.getUTCSeconds(),t,2)}function Uye(e){var t=e.getUTCDay();return t===0?7:t}function Vye(e,t){return ct(Hp.count(gi(e)-1,e),t,2)}function wz(e){var t=e.getUTCDay();return t>=4||t===0?Sl(e):Sl.ceil(e)}function qye(e,t){return e=wz(e),ct(Sl.count(gi(e),e)+(gi(e).getUTCDay()===4),t,2)}function Wye(e){return e.getUTCDay()}function Hye(e,t){return ct(nm.count(gi(e)-1,e),t,2)}function Gye(e,t){return ct(e.getUTCFullYear()%100,t,2)}function Kye(e,t){return e=wz(e),ct(e.getUTCFullYear()%100,t,2)}function Yye(e,t){return ct(e.getUTCFullYear()%1e4,t,4)}function Xye(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Sl(e):Sl.ceil(e),ct(e.getUTCFullYear()%1e4,t,4)}function Zye(){return"+0000"}function u2(){return"%"}function d2(e){return+e}function f2(e){return Math.floor(+e/1e3)}var Ao,_z,jz;Jye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Jye(e){return Ao=Jge(e),_z=Ao.format,Ao.parse,jz=Ao.utcFormat,Ao.utcParse,Ao}function Qye(e){return new Date(e)}function eve(e){return e instanceof Date?+e:+new Date(+e)}function CS(e,t,r,n,a,i,s,l,c,u){var d=fS(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),g=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),j=u("%Y");function _(S){return(c(S)<S?m:l(S)<S?v:s(S)<S?g:i(S)<S?y:n(S)<S?a(S)<S?x:b:r(S)<S?w:j)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,eve)):h().map(Qye)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?_:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(cz(N,S)):d},d.copy=function(){return Kd(d,CS(e,t,r,n,a,i,s,l,c,u))},d}function tve(){return Vn.apply(CS(Xge,Zge,pi,SS,Wp,Yd,_S,bS,Ds,_z).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rve(){return Vn.apply(CS(Kge,Yge,gi,NS,Hp,qp,jS,wS,Ds,jz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gp(){var e=0,t=1,r,n,a,i,s=Yr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,s=f(m,v),u):[s(0),s(1)]}}return u.range=d(nc),u.rangeRound=d(dS),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function ds(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Sz(){var e=us(Gp()(Yr));return e.copy=function(){return ds(e,Sz())},wi.apply(e,arguments)}function Nz(){var e=pS(Gp()).domain([1,10]);return e.copy=function(){return ds(e,Nz()).base(e.base())},wi.apply(e,arguments)}function Cz(){var e=gS(Gp());return e.copy=function(){return ds(e,Cz()).constant(e.constant())},wi.apply(e,arguments)}function TS(){var e=yS(Gp());return e.copy=function(){return ds(e,TS()).exponent(e.exponent())},wi.apply(e,arguments)}function nve(){return TS.apply(null,arguments).exponent(.5)}function Tz(){var e=[],t=Yr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Hd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Vi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Vpe(e,i/n))},r.copy=function(){return Tz(t).domain(e)},wi.apply(r,arguments)}function Kp(){var e=0,t=.5,r=1,n=1,a,i,s,l,c,u=Yr,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),s=d(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function v(g){return function(y){var x,b,w;return arguments.length?([x,b,w]=y,u=pge(g,[x,b,w]),m):[u(0),u(.5),u(1)]}}return m.range=v(nc),m.rangeRound=v(dS),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,a=g(e),i=g(t),s=g(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,m}}function Ez(){var e=us(Kp()(Yr));return e.copy=function(){return ds(e,Ez())},wi.apply(e,arguments)}function Az(){var e=pS(Kp()).domain([.1,1,10]);return e.copy=function(){return ds(e,Az()).base(e.base())},wi.apply(e,arguments)}function Pz(){var e=gS(Kp());return e.copy=function(){return ds(e,Pz()).constant(e.constant())},wi.apply(e,arguments)}function ES(){var e=yS(Kp());return e.copy=function(){return ds(e,ES()).exponent(e.exponent())},wi.apply(e,arguments)}function ave(){return ES.apply(null,arguments).exponent(.5)}const h2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fu,scaleDiverging:Ez,scaleDivergingLog:Az,scaleDivergingPow:ES,scaleDivergingSqrt:ave,scaleDivergingSymlog:Pz,scaleIdentity:lz,scaleImplicit:Zw,scaleLinear:em,scaleLog:uz,scaleOrdinal:lS,scalePoint:Kc,scalePow:vS,scaleQuantile:hz,scaleQuantize:mz,scaleRadial:fz,scaleSequential:Sz,scaleSequentialLog:Nz,scaleSequentialPow:TS,scaleSequentialQuantile:Tz,scaleSequentialSqrt:nve,scaleSequentialSymlog:Cz,scaleSqrt:Lge,scaleSymlog:dz,scaleThreshold:pz,scaleTime:tve,scaleUtc:rve,tickFormat:oz},Symbol.toStringTag,{value:"Module"}));var jb,m2;function Oz(){if(m2)return jb;m2=1;var e=ec();function t(r,n,a){for(var i=-1,s=r.length;++i<s;){var l=r[i],c=n(l);if(c!=null&&(u===void 0?c===c&&!e(c):a(c,u)))var u=c,d=l}return d}return jb=t,jb}var Sb,p2;function ive(){if(p2)return Sb;p2=1;function e(t,r){return t>r}return Sb=e,Sb}var Nb,g2;function sve(){if(g2)return Nb;g2=1;var e=Oz(),t=ive(),r=rc();function n(a){return a&&a.length?e(a,r,t):void 0}return Nb=n,Nb}var ove=sve();const Yp=Lt(ove);var Cb,y2;function lve(){if(y2)return Cb;y2=1;function e(t,r){return t<r}return Cb=e,Cb}var Tb,v2;function cve(){if(v2)return Tb;v2=1;var e=Oz(),t=lve(),r=rc();function n(a){return a&&a.length?e(a,r,t):void 0}return Tb=n,Tb}var uve=cve();const Xp=Lt(uve);var Eb,x2;function dve(){if(x2)return Eb;x2=1;var e=Vj(),t=cs(),r=B3(),n=tn();function a(i,s){var l=n(i)?e:r;return l(i,t(s,3))}return Eb=a,Eb}var Ab,b2;function fve(){if(b2)return Ab;b2=1;var e=L3(),t=dve();function r(n,a){return e(t(n,a),1)}return Ab=r,Ab}var hve=fve();const mve=Lt(hve);var Pb,w2;function pve(){if(w2)return Pb;w2=1;var e=rS();function t(r,n){return e(r,n)}return Pb=t,Pb}var gve=pve();const AS=Lt(gve);var ac=1e9,yve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},OS,qt=!0,Bn="[DecimalError] ",zs=Bn+"Invalid argument: ",PS=Bn+"Exponent out of range: ",ic=Math.floor,js=Math.pow,vve=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dn,_r=1e7,Bt=7,kz=9007199254740991,am=ic(kz/Bt),_e={};_e.absoluteValue=_e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};_e.comparedTo=_e.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Bt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};_e.dividedBy=_e.div=function(e){return oi(this,new this.constructor(e))};_e.dividedToIntegerBy=_e.idiv=function(e){var t=this,r=t.constructor;return kt(oi(t,new r(e),0,1),r.precision)};_e.equals=_e.eq=function(e){return!this.cmp(e)};_e.exponent=function(){return mr(this)};_e.greaterThan=_e.gt=function(e){return this.cmp(e)>0};_e.greaterThanOrEqualTo=_e.gte=function(e){return this.cmp(e)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(e){return this.cmp(e)<0};_e.lessThanOrEqualTo=_e.lte=function(e){return this.cmp(e)<1};_e.logarithm=_e.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(dn))throw Error(Bn+"NaN");if(r.s<1)throw Error(Bn+(r.s?"NaN":"-Infinity"));return r.eq(dn)?new n(0):(qt=!1,t=oi(qu(r,i),qu(e,i),i),qt=!0,kt(t,a))};_e.minus=_e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Dz(t,e):Rz(t,(e.s=-e.s,e))};_e.modulo=_e.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Bn+"NaN");return r.s?(qt=!1,t=oi(r,e,0,1).times(e),qt=!0,r.minus(t)):kt(new n(r),a)};_e.naturalExponential=_e.exp=function(){return Mz(this)};_e.naturalLogarithm=_e.ln=function(){return qu(this)};_e.negated=_e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};_e.plus=_e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Rz(t,e):Dz(t,(e.s=-e.s,e))};_e.precision=_e.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(zs+e);if(t=mr(a)+1,n=a.d.length-1,r=n*Bt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};_e.squareRoot=_e.sqrt=function(){var e,t,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Bn+"NaN")}for(e=mr(l),qt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Aa(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ic((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(oi(l,i,s+2)).times(.5),Aa(i.d).slice(0,s)===(t=Aa(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(kt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;s+=4}return qt=!0,kt(n,r)};_e.times=_e.mul=function(e){var t,r,n,a,i,s,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%_r|0,t=l/_r|0;i[a]=(i[a]+t)%_r|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,qt?kt(e,f.precision):e};_e.toDecimalPlaces=_e.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Fa(e,0,ac),t===void 0?t=n.rounding:Fa(t,0,8),kt(r,e+mr(r)+1,t))};_e.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ro(n,!0):(Fa(e,0,ac),t===void 0?t=a.rounding:Fa(t,0,8),n=kt(new a(n),e+1,t),r=ro(n,!0,e+1)),r};_e.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ro(a):(Fa(e,0,ac),t===void 0?t=i.rounding:Fa(t,0,8),n=kt(new i(a),e+mr(a)+1,t),r=ro(n.abs(),!1,e+mr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};_e.toInteger=_e.toint=function(){var e=this,t=e.constructor;return kt(new t(e),mr(e)+1,t.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(e){var t,r,n,a,i,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(dn);if(l=new c(l),!l.s){if(e.s<1)throw Error(Bn+"Infinity");return l}if(l.eq(dn))return l;if(n=c.precision,e.eq(dn))return kt(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=l.s,s){if((r=d<0?-d:d)<=kz){for(a=new c(dn),t=Math.ceil(n/Bt+4),qt=!1;r%2&&(a=a.times(l),j2(a.d,t)),r=ic(r/2),r!==0;)l=l.times(l),j2(l.d,t);return qt=!0,e.s<0?new c(dn).div(a):kt(a,n)}}else if(i<0)throw Error(Bn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,qt=!1,a=e.times(qu(l,n+u)),qt=!0,a=Mz(a),a.s=i,a};_e.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=mr(a),n=ro(a,r<=i.toExpNeg||r>=i.toExpPos)):(Fa(e,1,ac),t===void 0?t=i.rounding:Fa(t,0,8),a=kt(new i(a),e,t),r=mr(a),n=ro(a,e<=r||r<=i.toExpNeg,e)),n};_e.toSignificantDigits=_e.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Fa(e,1,ac),t===void 0?t=n.rounding:Fa(t,0,8)),kt(new n(r),e,t)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=mr(e),r=e.constructor;return ro(e,t<=r.toExpNeg||t>=r.toExpPos)};function Rz(e,t){var r,n,a,i,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),qt?kt(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(f/Bt),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/_r|0,c[i]%=_r;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,qt?kt(t,f):t}function Fa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(zs+e)}function Aa(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Bt-n.length,r&&(i+=Ri(r)),i+=n;s=e[t],n=s+"",r=Bt-n.length,r&&(i+=Ri(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var oi=(function(){function e(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%_r|0,s=i/_r|0;return s&&n.unshift(s),n}function t(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*_r+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,d,f,h,m,v,g,y,x,b,w,j,_,S,N,T,C=n.constructor,A=n.s==a.s?1:-1,P=n.d,E=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(Bn+"Division by zero");for(c=n.e-a.e,N=E.length,_=P.length,m=new C(A),v=m.d=[],u=0;E[u]==(P[u]||0);)++u;if(E[u]>(P[u]||0)&&--c,i==null?b=i=C.precision:s?b=i+(mr(n)-mr(a))+1:b=i,b<0)return new C(0);if(b=b/Bt+2|0,u=0,N==1)for(d=0,E=E[0],b++;(u<_||d)&&b--;u++)w=d*_r+(P[u]||0),v[u]=w/E|0,d=w%E|0;else{for(d=_r/(E[0]+1)|0,d>1&&(E=e(E,d),P=e(P,d),N=E.length,_=P.length),j=N,g=P.slice(0,N),y=g.length;y<N;)g[y++]=0;T=E.slice(),T.unshift(0),S=E[0],E[1]>=_r/2&&++S;do d=0,l=t(E,g,N,y),l<0?(x=g[0],N!=y&&(x=x*_r+(g[1]||0)),d=x/S|0,d>1?(d>=_r&&(d=_r-1),f=e(E,d),h=f.length,y=g.length,l=t(f,g,h,y),l==1&&(d--,r(f,N<h?T:E,h))):(d==0&&(l=d=1),f=E.slice()),h=f.length,h<y&&f.unshift(0),r(g,f,y),l==-1&&(y=g.length,l=t(E,g,N,y),l<1&&(d++,r(g,N<y?T:E,y))),y=g.length):l===0&&(d++,g=[0]),v[u++]=d,l&&g[0]?g[y++]=P[j]||0:(g=[P[j]],y=1);while((j++<_||g[0]!==void 0)&&b--)}return v[0]||v.shift(),m.e=c,kt(m,s?i+mr(m)+1:i)}})();function Mz(e,t){var r,n,a,i,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(mr(e)>16)throw Error(PS+mr(e));if(!e.s)return new d(dn);for(qt=!1,l=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(js(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(dn),d.precision=l;;){if(a=kt(a.times(e),l),r=r.times(++c),s=i.plus(oi(a,r,l)),Aa(s.d).slice(0,l)===Aa(i.d).slice(0,l)){for(;u--;)i=kt(i.times(i),l);return d.precision=f,t==null?(qt=!0,kt(i,f)):i}i=s}}function mr(e){for(var t=e.e*Bt,r=e.d[0];r>=10;r/=10)t++;return t}function Ob(e,t,r){if(t>e.LN10.sd())throw qt=!0,r&&(e.precision=r),Error(Bn+"LN10 precision limit exceeded");return kt(new e(e.LN10),t)}function Ri(e){for(var t="";e--;)t+="0";return t}function qu(e,t){var r,n,a,i,s,l,c,u,d,f=1,h=10,m=e,v=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(Bn+(m.s?"NaN":"-Infinity"));if(m.eq(dn))return new g(0);if(t==null?(qt=!1,u=y):u=t,m.eq(10))return t==null&&(qt=!0),Ob(g,u);if(u+=h,g.precision=u,r=Aa(v),n=r.charAt(0),i=mr(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Aa(m.d),n=r.charAt(0),f++;i=mr(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return c=Ob(g,u+2,y).times(i+""),m=qu(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=y,t==null?(qt=!0,kt(m,y)):m;for(l=s=m=oi(m.minus(dn),m.plus(dn),u),d=kt(m.times(m),u),a=3;;){if(s=kt(s.times(d),u),c=l.plus(oi(s,new g(a),u)),Aa(c.d).slice(0,u)===Aa(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Ob(g,u+2,y).times(i+""))),l=oi(l,new g(f),u),g.precision=y,t==null?(qt=!0,kt(l,y)):l;l=c,a+=2}}function _2(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=ic(r/Bt),e.d=[],n=(r+1)%Bt,r<0&&(n+=Bt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Bt;n<a;)e.d.push(+t.slice(n,n+=Bt));t=t.slice(n),n=Bt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),qt&&(e.e>am||e.e<-am))throw Error(PS+r)}else e.s=0,e.e=0,e.d=[0];return e}function kt(e,t,r){var n,a,i,s,l,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Bt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Bt),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=Bt,a=n-Bt+s}if(r!==void 0&&(i=js(10,s-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/js(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=mr(e),f.length=1,t=t-i-1,f[0]=js(10,(Bt-t%Bt)%Bt),e.e=ic(-t/Bt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=js(10,Bt-n),f[d]=a>0?(u/js(10,s-a)%js(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==_r&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=_r)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(qt&&(e.e>am||e.e<-am))throw Error(PS+mr(e));return e}function Dz(e,t){var r,n,a,i,s,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),qt?kt(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Bt),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=_r-1;--c[i],c[a]+=_r}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,qt?kt(t,m):t):new h(0)}function ro(e,t,r){var n,a=mr(e),i=Aa(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Ri(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ri(-a-1)+i,r&&(n=r-s)>0&&(i+=Ri(n))):a>=s?(i+=Ri(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Ri(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Ri(n))),e.s<0?"-"+i:i}function j2(e,t){if(e.length>t)return e.length=t,!0}function Iz(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(zs+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return _2(s,i.toString())}else if(typeof i!="string")throw Error(zs+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,vve.test(i))_2(s,i);else throw Error(zs+i)}if(a.prototype=_e,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Iz,a.config=a.set=xve,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function xve(e){if(!e||typeof e!="object")throw Error(Bn+"Object expected");var t,r,n,a=["precision",1,ac,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(ic(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(zs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(zs+r+": "+n);return this}var OS=Iz(yve);dn=new OS(1);const jt=OS;function bve(e){return Sve(e)||jve(e)||_ve(e)||wve()}function wve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ve(e,t){if(e){if(typeof e=="string")return t_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t_(e,t)}}function jve(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Sve(e){if(Array.isArray(e))return t_(e)}function t_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nve=function(t){return t},$z={},Lz=function(t){return t===$z},S2=function(t){return function r(){return arguments.length===0||arguments.length===1&&Lz(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Cve=function e(t,r){return t===1?r:S2(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(l){return l!==$z}).length;return s>=t?r.apply(void 0,a):e(t-s,S2(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return Lz(f)?c.shift():f});return r.apply(void 0,bve(d).concat(c))}))})},Zp=function(t){return Cve(t.length,t)},r_=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Tve=Zp(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Eve=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Nve;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},n_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Fz=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function Ave(e){var t;return e===0?t=1:t=Math.floor(new jt(e).abs().log(10).toNumber())+1,t}function Pve(e,t,r){for(var n=new jt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Ove=Zp(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),kve=Zp(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Rve=Zp(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Jp={rangeStep:Pve,getDigitCount:Ave,interpolateNumber:Ove,uninterpolateNumber:kve,uninterpolateTruncation:Rve};function a_(e){return Ive(e)||Dve(e)||Bz(e)||Mve()}function Mve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dve(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ive(e){if(Array.isArray(e))return i_(e)}function Wu(e,t){return Fve(e)||Lve(e,t)||Bz(e,t)||$ve()}function $ve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bz(e,t){if(e){if(typeof e=="string")return i_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i_(e,t)}}function i_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lve(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function Fve(e){if(Array.isArray(e))return e}function zz(e){var t=Wu(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function Uz(e,t,r){if(e.lte(0))return new jt(0);var n=Jp.getDigitCount(e.toNumber()),a=new jt(10).pow(n),i=e.div(a),s=n!==1?.05:.1,l=new jt(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return t?c:new jt(Math.ceil(c))}function Bve(e,t,r){var n=1,a=new jt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new jt(10).pow(Jp.getDigitCount(e)-1),a=new jt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new jt(Math.floor(e)))}else e===0?a=new jt(Math.floor((t-1)/2)):r||(a=new jt(Math.floor(e)));var s=Math.floor((t-1)/2),l=Eve(Tve(function(c){return a.add(new jt(c-s).mul(n)).toNumber()}),r_);return l(0,t)}function Vz(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new jt(0),tickMin:new jt(0),tickMax:new jt(0)};var i=Uz(new jt(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new jt(0):(s=new jt(e).add(t).div(2),s=s.sub(new jt(s).mod(i)));var l=Math.ceil(s.sub(e).div(i).toNumber()),c=Math.ceil(new jt(t).sub(s).div(i).toNumber()),u=l+c+1;return u>r?Vz(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:s.sub(new jt(l).mul(i)),tickMax:s.add(new jt(c).mul(i))})}function zve(e){var t=Wu(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),l=zz([r,n]),c=Wu(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(a_(r_(0,a-1).map(function(){return 1/0}))):[].concat(a_(r_(0,a-1).map(function(){return-1/0})),[d]);return r>n?n_(f):f}if(u===d)return Bve(u,a,i);var h=Vz(u,d,s,i),m=h.step,v=h.tickMin,g=h.tickMax,y=Jp.rangeStep(v,g.add(new jt(.1).mul(m)),m);return r>n?n_(y):y}function Uve(e,t){var r=Wu(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=zz([n,a]),l=Wu(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=Uz(new jt(u).sub(c).div(d-1),i,0),h=[].concat(a_(Jp.rangeStep(new jt(c),new jt(u).sub(new jt(.99).mul(f)),f)),[u]);return n>a?n_(h):h}var Vve=Fz(zve),qve=Fz(Uve),Wve="Invariant failed";function no(e,t){throw new Error(Wve)}var Hve=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Nl(e){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},im.apply(this,arguments)}function Gve(e,t){return Zve(e)||Xve(e,t)||Yve(e,t)||Kve()}function Kve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yve(e,t){if(e){if(typeof e=="string")return N2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N2(e,t)}}function N2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Zve(e){if(Array.isArray(e))return e}function Jve(e,t){if(e==null)return{};var r=Qve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function exe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function txe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hz(n.key),n)}}function rxe(e,t,r){return t&&txe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nxe(e,t,r){return t=sm(t),axe(e,qz()?Reflect.construct(t,r||[],sm(e).constructor):t.apply(e,r))}function axe(e,t){if(t&&(Nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ixe(e)}function ixe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qz=function(){return!!e})()}function sm(e){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sm(e)}function sxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s_(e,t)}function s_(e,t){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},s_(e,t)}function Wz(e,t,r){return t=Hz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hz(e){var t=oxe(e,"string");return Nl(t)=="symbol"?t:t+""}function oxe(e,t){if(Nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qp=(function(e){function t(){return exe(this,t),nxe(this,t,arguments)}return sxe(t,e),rxe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Jve(n,Hve),m=dt(h,!1);this.props.direction==="x"&&d.type!=="number"&&no();var v=c.map(function(g){var y=u(g,l),x=y.x,b=y.y,w=y.value,j=y.errorVal;if(!j)return null;var _=[],S,N;if(Array.isArray(j)){var T=Gve(j,2);S=T[0],N=T[1]}else S=N=j;if(i==="vertical"){var C=d.scale,A=b+a,P=A+s,E=A-s,R=C(w-S),O=C(w+N);_.push({x1:O,y1:P,x2:O,y2:E}),_.push({x1:R,y1:A,x2:O,y2:A}),_.push({x1:R,y1:P,x2:R,y2:E})}else if(i==="horizontal"){var M=f.scale,D=x+a,I=D-s,F=D+s,$=M(w-S),V=M(w+N);_.push({x1:I,y1:V,x2:F,y2:V}),_.push({x1:D,y1:$,x2:D,y2:V}),_.push({x1:I,y1:$,x2:F,y2:$})}return k.createElement(jr,im({className:"recharts-errorBar",key:"bar-".concat(_.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},m),_.map(function(X){return k.createElement("line",im({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return k.createElement(jr,{className:"recharts-errorBars"},v)}}])})(k.Component);Wz(Qp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Wz(Qp,"displayName","ErrorBar");function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function C2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(r),!0).forEach(function(n){lxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lxe(e,t,r){return t=cxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cxe(e){var t=uxe(e,"string");return Hu(t)=="symbol"?t:t+""}function uxe(e,t){if(Hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gz=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=sn(r,Fs);if(!s)return null;var l=Fs.defaultProps,c=l!==void 0?vs(vs({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?vs(vs({},h),f.props):{},v=m.dataKey,g=m.name,y=m.legendType,x=m.hide;return{inactive:x,dataKey:v,type:c.iconType||y||"square",color:kS(f),value:g||v,payload:m}}),vs(vs(vs({},c),Fs.getWithHeight(s,a)),{},{payload:u,item:s})};function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function T2(e){return mxe(e)||hxe(e)||fxe(e)||dxe()}function dxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fxe(e,t){if(e){if(typeof e=="string")return o_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o_(e,t)}}function hxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mxe(e){if(Array.isArray(e))return o_(e)}function o_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(r),!0).forEach(function(n){al(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function al(e,t,r){return t=pxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pxe(e){var t=gxe(e,"string");return Gu(t)=="symbol"?t:t+""}function gxe(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ba(e,t,r){return ft(e)||ft(t)?r:br(t)?In(e,t,r):Je(t)?t(e):r}function Yc(e,t,r,n){var a=mve(e,function(l){return Ba(l,t)});if(r==="number"){var i=a.filter(function(l){return pe(l)||parseFloat(l)});return i.length?[Xp(i),Yp(i)]:[1/0,-1/0]}var s=n?a.filter(function(l){return!ft(l)}):a;return s.map(function(l){return br(l)||l instanceof Date?l:""})}var yxe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(ua(f-d)!==ua(h-f)){var v=[];if(ua(h-f)===ua(c[1]-c[0])){m=h;var g=f+c[1]-c[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{m=d;var y=h+c[1]-c[0];v[0]=Math.min(f,(y+f)/2),v[1]=Math.max(f,(y+f)/2)}var x=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>x[0]&&t<=x[1]||t>=v[0]&&t<=v[1]){s=a[u].index;break}}else{var b=Math.min(d,h),w=Math.max(d,h);if(t>(b+f)/2&&t<=(w+f)/2){s=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){s=n[j].index;break}return s},kS=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Jt(Jt({},t.type.defaultProps),t.props):t.props,s=i.stroke,l=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},vxe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var v=d[f[h]],g=v.items,y=v.cateAxisId,x=g.filter(function(N){return ii(N.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?Jt(Jt({},b),x[0].props):x[0].props,j=w.barSize,_=w[y];s[_]||(s[_]=[]);var S=ft(j)?r:j;s[_].push({item:x[0],stackList:x.slice(1),barSize:ft(S)?void 0:to(S,n,0)})}}return s},xxe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,l=t.maxBarSize,c=s.length;if(c<1)return null;var u=to(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=a/c,v=s.reduce(function(j,_){return j+_.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&m>0&&(h=!0,m*=.9,v=c*m);var g=(a-v)/2>>0,y={offset:g-u,size:0};d=s.reduce(function(j,_){var S={item:_.item,position:{offset:y.offset+y.size+u,size:h?m:_.barSize}},N=[].concat(T2(j),[S]);return y=N[N.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(T){N.push({item:T,position:y})}),N},f)}else{var x=to(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var b=(a-2*x-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=s.reduce(function(j,_,S){var N=[].concat(T2(j),[{item:_.item,position:{offset:x+(b+u)*S+(b-w)/2,size:w}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(T){N.push({item:T,position:N[N.length-1].position})}),N},f)}return d},bxe=function(t,r,n,a){var i=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=Gz({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,v=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&m!=="center"&&pe(t[m]))return Jt(Jt({},t),{},al({},m,t[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&v!=="middle"&&pe(t[v]))return Jt(Jt({},t),{},al({},v,t[v]+(h||0)))}return t},wxe=function(t,r,n){return ft(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Kz=function(t,r,n,a,i){var s=r.props.children,l=ha(s,Qp).filter(function(u){return wxe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Ba(d,n);if(ft(f))return u;var h=Array.isArray(f)?[Xp(f),Yp(f)]:[f,f],m=c.reduce(function(v,g){var y=Ba(d,g,0),x=h[0]-Math.abs(Array.isArray(y)?y[0]:y),b=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},_xe=function(t,r,n,a,i){var s=r.map(function(l){return Kz(t,l,n,i,a)}).filter(function(l){return!ft(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Yz=function(t,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Kz(t,c,u,a)||Yc(t,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Xz=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Zz=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,s,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||l.push(r),s||l.push(n),l},ni=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?ua(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Vd(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},kb=new WeakMap,Af=function(t,r){if(typeof r!="function")return t;kb.has(t)||kb.set(t,new WeakMap);var n=kb.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},jxe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,l=t.axisType;if(a==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Fu(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:em(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Kc(),realScaleType:"point"}:i==="category"?{scale:Fu(),realScaleType:"band"}:{scale:em(),realScaleType:"linear"};if(eo(a)){var c="scale".concat(Ip(a));return{scale:(h2[c]||Kc)(),realScaleType:h2[c]?c:"point"}}return Je(a)?{scale:a}:{scale:Kc(),realScaleType:"point"}},A2=1e-4,Sxe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-A2,s=Math.max(a[0],a[1])+A2,l=t(r[0]),c=t(r[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([r[0],r[n-1]])}},Nxe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Cxe=function(t,r){if(!r||r.length!==2||!pe(r[0])||!pe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!pe(t[0])||t[0]<n)&&(i[0]=n),(!pe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Txe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,l=0;l<r;++l){var c=Vd(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},Exe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var l=Vd(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},Axe={sign:Txe,expand:ffe,none:yl,silhouette:hfe,wiggle:mfe,positive:Exe},Pxe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=Axe[n],s=dfe().keys(a).value(function(l,c){return+Ba(l,c,0)}).order($w).offset(i);return s(t)},Oxe=function(t,r,n,a,i,s){if(!t)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Jt(Jt({},h.type.defaultProps),h.props):h.props,g=v.stackId,y=v.hide;if(y)return f;var x=v[n],b=f[x]||{hasStack:!1,stackGroups:{}};if(br(g)){var w=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[g]=w}else b.stackGroups[Dp("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Jt(Jt({},f),{},al({},x,b))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,y){var x=m.stackGroups[y];return Jt(Jt({},g),{},al({},y,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:Pxe(t,x.items,i)}))},v)}return Jt(Jt({},f),{},al({},h,m))},d)},kxe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Vve(u,i,l);return t.domain([Xp(d),Yp(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=qve(f,i,l);return{niceTicks:h}}return null},P2=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Ba(s,r.dataKey,r.domain[l]);return ft(c)?null:r.scale(c)-i/2+a},Rxe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Mxe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Jt(Jt({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(br(i)){var s=r[i];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},Dxe=function(t){return t.reduce(function(r,n){return[Xp(n.concat([r[0]]).filter(pe)),Yp(n.concat([r[1]]).filter(pe))]},[1/0,-1/0])},Jz=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],l=s.stackedData,c=l.reduce(function(u,d){var f=Dxe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},O2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,k2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,l_=function(t,r,n){if(Je(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(pe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(O2.test(t[0])){var i=+O2.exec(t[0])[1];a[0]=r[0]-i}else Je(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(pe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(k2.test(t[1])){var s=+k2.exec(t[1])[1];a[1]=r[1]+s}else Je(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},om=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=aS(r,function(f){return f.coordinate}),s=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},R2=function(t,r,n){return!t||!t.length||AS(t,In(n,"type.defaultProps.domain"))?r:t},Qz=function(t,r){var n=t.type.defaultProps?Jt(Jt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Jt(Jt({},dt(t,!1)),{},{dataKey:a,unit:s,formatter:l,name:i||a,color:kS(t),value:Ba(r,a),type:c,payload:r,chartType:u,hide:d})};function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function M2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(r),!0).forEach(function(n){Ixe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ixe(e,t,r){return t=$xe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $xe(e){var t=Lxe(e,"string");return Ku(t)=="symbol"?t:t+""}function Lxe(e,t){if(Ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lm=Math.PI/180,Fxe=function(t){return t*180/Math.PI},Pr=function(t,r,n,a){return{x:t+Math.cos(-lm*a)*n,y:r+Math.sin(-lm*a)*n}},Bxe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},zxe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,l=Bxe({x:n,y:a},{x:i,y:s});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:l,angle:Fxe(u),angleInRadian:u}},Uxe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},Vxe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),l=Math.min(i,s);return t+l*360},I2=function(t,r){var n=t.x,a=t.y,i=zxe({x:n,y:a},r),s=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=Uxe(r),f=d.startAngle,h=d.endAngle,m=l,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?D2(D2({},r),{},{radius:s,angle:Vxe(m,r)}):null};function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}var qxe=["offset"];function Wxe(e){return Yxe(e)||Kxe(e)||Gxe(e)||Hxe()}function Hxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gxe(e,t){if(e){if(typeof e=="string")return c_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c_(e,t)}}function Kxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yxe(e){if(Array.isArray(e))return c_(e)}function c_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xxe(e,t){if(e==null)return{};var r=Zxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){Jxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jxe(e,t,r){return t=Qxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qxe(e){var t=ebe(e,"string");return Yu(t)=="symbol"?t:t+""}function ebe(e,t){if(Yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xu(){return Xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xu.apply(this,arguments)}var tbe=function(t){var r=t.value,n=t.formatter,a=ft(t.children)?r:t.children;return Je(n)?n(a):a},rbe=function(t,r){var n=ua(r-t),a=Math.min(Math.abs(r-t),360);return n*a},nbe=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,v=c.endAngle,g=c.clockWise,y=(f+h)/2,x=rbe(m,v),b=x>=0?1:-1,w,j;a==="insideStart"?(w=m+b*s,j=g):a==="insideEnd"?(w=v-b*s,j=!g):a==="end"&&(w=v+b*s,j=g),j=x<=0?j:!j;var _=Pr(u,d,y,w),S=Pr(u,d,y,w+(j?1:-1)*359),N="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),T=ft(t.id)?Dp("recharts-radial-line-"):t.id;return k.createElement("text",Xu({},n,{dominantBaseline:"central",className:it("recharts-radial-bar-label",l)}),k.createElement("defs",null,k.createElement("path",{id:T,d:N})),k.createElement("textPath",{xlinkHref:"#".concat(T)},r))},abe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=Pr(s,l,u+n,h),v=m.x,g=m.y;return{x:v,y:g,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,x=Pr(s,l,y,h),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},ibe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",v=f>0?"start":"end",g=u>=0?1:-1,y=g*a,x=g>0?"end":"start",b=g>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return gr(gr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return gr(gr({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var _={x:l-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return gr(gr({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return gr(gr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return i==="insideLeft"?gr({x:l+y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideRight"?gr({x:l+u-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},N):i==="insideTop"?gr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},N):i==="insideBottom"?gr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):i==="insideTopLeft"?gr({x:l+y,y:c+h,textAnchor:b,verticalAnchor:v},N):i==="insideTopRight"?gr({x:l+u-y,y:c+h,textAnchor:x,verticalAnchor:v},N):i==="insideBottomLeft"?gr({x:l+y,y:c+d-h,textAnchor:b,verticalAnchor:m},N):i==="insideBottomRight"?gr({x:l+u-y,y:c+d-h,textAnchor:x,verticalAnchor:m},N):tc(i)&&(pe(i.x)||Rs(i.x))&&(pe(i.y)||Rs(i.y))?gr({x:l+to(i.x,u),y:c+to(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):gr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},sbe=function(t){return"cx"in t&&pe(t.cx)};function Rr(e){var t=e.offset,r=t===void 0?5:t,n=Xxe(e,qxe),a=gr({offset:r},n),i=a.viewBox,s=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||ft(l)&&ft(c)&&!p.isValidElement(u)&&!Je(u))return null;if(p.isValidElement(u))return p.cloneElement(u,a);var m;if(Je(u)){if(m=p.createElement(u,a),p.isValidElement(m))return m}else m=tbe(a);var v=sbe(i),g=dt(a,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return nbe(a,m,g);var y=v?abe(a):ibe(a);return k.createElement(Hh,Xu({className:it("recharts-label",f)},g,y,{breakAll:h}),m)}Rr.displayName="Label";var eU=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,v=t.left,g=t.width,y=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(pe(g)&&pe(y)){if(pe(f)&&pe(h))return{x:f,y:h,width:g,height:y};if(pe(m)&&pe(v))return{x:m,y:v,width:g,height:y}}return pe(f)&&pe(h)?{x:f,y:h,width:0,height:0}:pe(r)&&pe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},obe=function(t,r){return t?t===!0?k.createElement(Rr,{key:"label-implicit",viewBox:r}):br(t)?k.createElement(Rr,{key:"label-implicit",viewBox:r,value:t}):p.isValidElement(t)?t.type===Rr?p.cloneElement(t,{key:"label-implicit",viewBox:r}):k.createElement(Rr,{key:"label-implicit",content:t,viewBox:r}):Je(t)?k.createElement(Rr,{key:"label-implicit",content:t,viewBox:r}):tc(t)?k.createElement(Rr,Xu({viewBox:r},t,{key:"label-implicit"})):null:null},lbe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=eU(t),s=ha(a,Rr).map(function(c,u){return p.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var l=obe(t.label,r||i);return[l].concat(Wxe(s))};Rr.parseViewBox=eU;Rr.renderCallByParent=lbe;var Rb,L2;function cbe(){if(L2)return Rb;L2=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Rb=e,Rb}var ube=cbe();const dbe=Lt(ube);function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}var fbe=["valueAccessor"],hbe=["data","dataKey","clockWise","id","textBreakAll"];function mbe(e){return vbe(e)||ybe(e)||gbe(e)||pbe()}function pbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gbe(e,t){if(e){if(typeof e=="string")return u_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u_(e,t)}}function ybe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vbe(e){if(Array.isArray(e))return u_(e)}function u_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cm(){return cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cm.apply(this,arguments)}function F2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(r),!0).forEach(function(n){xbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xbe(e,t,r){return t=bbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bbe(e){var t=wbe(e,"string");return Zu(t)=="symbol"?t:t+""}function wbe(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z2(e,t){if(e==null)return{};var r=_be(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _be(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var jbe=function(t){return Array.isArray(t.value)?dbe(t.value):t.value};function Us(e){var t=e.valueAccessor,r=t===void 0?jbe:t,n=z2(e,fbe),a=n.data,i=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=z2(n,hbe);return!a||!a.length?null:k.createElement(jr,{className:"recharts-label-list"},a.map(function(d,f){var h=ft(i)?r(d,f):Ba(d&&d.payload,i),m=ft(l)?{}:{id:"".concat(l,"-").concat(f)};return k.createElement(Rr,cm({},dt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Rr.parseViewBox(ft(s)?d:B2(B2({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Us.displayName="LabelList";function Sbe(e,t){return e?e===!0?k.createElement(Us,{key:"labelList-implicit",data:t}):k.isValidElement(e)||Je(e)?k.createElement(Us,{key:"labelList-implicit",data:t,content:e}):tc(e)?k.createElement(Us,cm({data:t},e,{key:"labelList-implicit"})):null:null}function Nbe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ha(n,Us).map(function(s,l){return p.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=Sbe(e.label,t);return[i].concat(mbe(a))}Us.renderCallByParent=Nbe;function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function d_(){return d_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d_.apply(this,arguments)}function U2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(r),!0).forEach(function(n){Cbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cbe(e,t,r){return t=Tbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tbe(e){var t=Ebe(e,"string");return Ju(t)=="symbol"?t:t+""}function Ebe(e,t){if(Ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Abe=function(t,r){var n=ua(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Pf=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/lm,h=u?i:i+s*f,m=Pr(r,n,d,h),v=Pr(r,n,a,h),g=u?i-s*f:i,y=Pr(r,n,d*Math.cos(f*lm),g);return{center:m,circleTangency:v,lineTangency:y,theta:f}},tU=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=Abe(s,l),u=s+c,d=Pr(r,n,i,s),f=Pr(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Pr(r,n,a,s),v=Pr(r,n,a,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Pbe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ua(d-u),h=Pf({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),m=h.circleTangency,v=h.lineTangency,g=h.theta,y=Pf({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),x=y.circleTangency,b=y.lineTangency,w=y.theta,j=c?Math.abs(u-d):Math.abs(u-d)-g-w;if(j<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):tU({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var _="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var S=Pf({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),N=S.circleTangency,T=S.lineTangency,C=S.theta,A=Pf({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),P=A.circleTangency,E=A.lineTangency,R=A.theta,O=c?Math.abs(u-d):Math.abs(u-d)-C-R;if(O<0&&s===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},Obe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rU=function(t){var r=V2(V2({},Obe),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<i||d===f)return null;var m=it("recharts-sector",h),v=s-i,g=to(l,v,0,!0),y;return g>0&&Math.abs(d-f)<360?y=Pbe({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=tU({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),k.createElement("path",d_({},dt(r,!0),{className:m,d:y,role:"img"}))};function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function f_(){return f_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f_.apply(this,arguments)}function q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(r),!0).forEach(function(n){kbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kbe(e,t,r){return t=Rbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rbe(e){var t=Mbe(e,"string");return Qu(t)=="symbol"?t:t+""}function Mbe(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H2={curveBasisClosed:efe,curveBasisOpen:tfe,curveBasis:Qde,curveBumpX:Fde,curveBumpY:Bde,curveLinearClosed:rfe,curveLinear:Lp,curveMonotoneX:nfe,curveMonotoneY:afe,curveNatural:ife,curveStep:sfe,curveStepAfter:lfe,curveStepBefore:ofe},Of=function(t){return t.x===+t.x&&t.y===+t.y},jc=function(t){return t.x},Sc=function(t){return t.y},Dbe=function(t,r){if(Je(t))return t;var n="curve".concat(Ip(t));return(n==="curveMonotone"||n==="curveBump")&&r?H2["".concat(n).concat(r==="vertical"?"Y":"X")]:H2[n]||Lp},Ibe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Dbe(n,l),f=u?i.filter(function(g){return Of(g)}):i,h;if(Array.isArray(s)){var m=u?s.filter(function(g){return Of(g)}):s,v=f.map(function(g,y){return W2(W2({},g),{},{base:m[y]})});return l==="vertical"?h=_f().y(Sc).x1(jc).x0(function(g){return g.base.x}):h=_f().x(jc).y1(Sc).y0(function(g){return g.base.y}),h.defined(Of).curve(d),h(v)}return l==="vertical"&&pe(s)?h=_f().y(Sc).x1(jc).x0(s):pe(s)?h=_f().x(jc).y1(Sc).y0(s):h=o3().x(jc).y(Sc),h.defined(Of).curve(d),h(f)},G2=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?Ibe(t):a;return p.createElement("path",f_({},dt(t,!1),Mh(t),{className:it("recharts-curve",r),d:s,ref:i}))},Mb={exports:{}},Db,K2;function $be(){if(K2)return Db;K2=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Db=e,Db}var Ib,Y2;function Lbe(){if(Y2)return Ib;Y2=1;var e=$be();function t(){}function r(){}return r.resetWarningCache=t,Ib=function(){function n(s,l,c,u,d,f){if(f!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},Ib}var X2;function Fbe(){return X2||(X2=1,Mb.exports=Lbe()()),Mb.exports}var Bbe=Fbe();const pt=Lt(Bbe),{getOwnPropertyNames:zbe,getOwnPropertySymbols:Ube}=Object,{hasOwnProperty:Vbe}=Object.prototype;function $b(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function kf(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,s=i.get(r),l=i.get(n);if(s&&l)return s===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,a);return i.delete(r),i.delete(n),c}}function qbe(e){return e?.[Symbol.toStringTag]}function Z2(e){return zbe(e).concat(Ube(e))}const Wbe=Object.hasOwn||((e,t)=>Vbe.call(e,t));function mo(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const Hbe="__v",Gbe="__o",Kbe="_owner",{getOwnPropertyDescriptor:J2,keys:Q2}=Object;function Ybe(e,t){return e.byteLength===t.byteLength&&um(new Uint8Array(e),new Uint8Array(t))}function Xbe(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Zbe(e,t){return e.byteLength===t.byteLength&&um(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Jbe(e,t){return mo(e.getTime(),t.getTime())}function Qbe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function e0e(e,t){return e===t}function eR(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let s,l,c=0;for(;(s=i.next())&&!s.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(a[f]){f++;continue}const h=s.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}const t0e=mo;function r0e(e,t,r){const n=Q2(e);let a=n.length;if(Q2(t).length!==a)return!1;for(;a-- >0;)if(!nU(e,t,r,n[a]))return!1;return!0}function Nc(e,t,r){const n=Z2(e);let a=n.length;if(Z2(t).length!==a)return!1;let i,s,l;for(;a-- >0;)if(i=n[a],!nU(e,t,r,i)||(s=J2(e,i),l=J2(t,i),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function n0e(e,t){return mo(e.valueOf(),t.valueOf())}function a0e(e,t){return e.source===t.source&&e.flags===t.flags}function tR(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let s,l;for(;(s=i.next())&&!s.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(s.value,l.value,s.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function um(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function i0e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function nU(e,t,r,n){return(n===Kbe||n===Gbe||n===Hbe)&&(e.$$typeof||t.$$typeof)?!0:Wbe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const s0e="[object ArrayBuffer]",o0e="[object Arguments]",l0e="[object Boolean]",c0e="[object DataView]",u0e="[object Date]",d0e="[object Error]",f0e="[object Map]",h0e="[object Number]",m0e="[object Object]",p0e="[object RegExp]",g0e="[object Set]",y0e="[object String]",v0e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},x0e="[object URL]",b0e=Object.prototype.toString;function w0e({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:v}){return function(y,x,b){if(y===x)return!0;if(y==null||x==null)return!1;const w=typeof y;if(w!==typeof x)return!1;if(w!=="object")return w==="number"?l(y,x,b):w==="function"?i(y,x,b):!1;const j=y.constructor;if(j!==x.constructor)return!1;if(j===Object)return c(y,x,b);if(Array.isArray(y))return t(y,x,b);if(j===Date)return n(y,x,b);if(j===RegExp)return d(y,x,b);if(j===Map)return s(y,x,b);if(j===Set)return f(y,x,b);const _=b0e.call(y);if(_===u0e)return n(y,x,b);if(_===p0e)return d(y,x,b);if(_===f0e)return s(y,x,b);if(_===g0e)return f(y,x,b);if(_===m0e)return typeof y.then!="function"&&typeof x.then!="function"&&c(y,x,b);if(_===x0e)return m(y,x,b);if(_===d0e)return a(y,x,b);if(_===o0e)return c(y,x,b);if(v0e[_])return h(y,x,b);if(_===s0e)return e(y,x,b);if(_===c0e)return r(y,x,b);if(_===l0e||_===h0e||_===y0e)return u(y,x,b);if(v){let S=v[_];if(!S){const N=qbe(y);N&&(S=v[N])}if(S)return S(y,x,b)}return!1}}function _0e({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:Ybe,areArraysEqual:r?Nc:Xbe,areDataViewsEqual:Zbe,areDatesEqual:Jbe,areErrorsEqual:Qbe,areFunctionsEqual:e0e,areMapsEqual:r?$b(eR,Nc):eR,areNumbersEqual:t0e,areObjectsEqual:r?Nc:r0e,arePrimitiveWrappersEqual:n0e,areRegExpsEqual:a0e,areSetsEqual:r?$b(tR,Nc):tR,areTypedArraysEqual:r?$b(um,Nc):um,areUrlsEqual:i0e,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=kf(n.areArraysEqual),i=kf(n.areMapsEqual),s=kf(n.areObjectsEqual),l=kf(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:l})}return n}function j0e(e){return function(t,r,n,a,i,s,l){return e(t,r,l)}}function S0e({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,i)}}const N0e=fs();fs({strict:!0});fs({circular:!0});fs({circular:!0,strict:!0});fs({createInternalComparator:()=>mo});fs({strict:!0,createInternalComparator:()=>mo});fs({circular:!0,createInternalComparator:()=>mo});fs({circular:!0,createInternalComparator:()=>mo,strict:!0});function fs(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=_0e(e),s=w0e(i),l=r?r(s):j0e(s);return S0e({circular:t,comparator:s,createState:n,equals:l,strict:a})}function C0e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function rR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):C0e(a)};requestAnimationFrame(n)}function h_(e){"@babel/helpers - typeof";return h_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h_(e)}function T0e(e){return O0e(e)||P0e(e)||A0e(e)||E0e()}function E0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A0e(e,t){if(e){if(typeof e=="string")return nR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nR(e,t)}}function nR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function O0e(e){if(Array.isArray(e))return e}function k0e(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,l=T0e(s),c=l[0],u=l.slice(1);if(typeof c=="number"){rR(a.bind(null,u),c);return}a(c),rR(a.bind(null,u));return}h_(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){aU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aU(e,t,r){return t=R0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R0e(e){var t=M0e(e,"string");return ed(t)==="symbol"?t:String(t)}function M0e(e,t){if(ed(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ed(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D0e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},I0e=function(t){return t},$0e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Xc=function(t,r){return Object.keys(r).reduce(function(n,a){return iR(iR({},n),{},aU({},a,t(a,r[a])))},{})},sR=function(t,r,n){return t.map(function(a){return"".concat($0e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function L0e(e,t){return z0e(e)||B0e(e,t)||iU(e,t)||F0e()}function F0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function z0e(e){if(Array.isArray(e))return e}function U0e(e){return W0e(e)||q0e(e)||iU(e)||V0e()}function V0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iU(e,t){if(e){if(typeof e=="string")return m_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m_(e,t)}}function q0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W0e(e){if(Array.isArray(e))return m_(e)}function m_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dm=1e-4,sU=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},oU=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},oR=function(t,r){return function(n){var a=sU(t,r);return oU(a,n)}},H0e=function(t,r){return function(n){var a=sU(t,r),i=[].concat(U0e(a.map(function(s,l){return s*l}).slice(1)),[0]);return oU(i,n)}},lR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,l=1;break;case"ease":a=.25,i=.1,s=.25,l=1;break;case"ease-in":a=.42,i=0,s=1,l=1;break;case"ease-out":a=.42,i=0,s=.58,l=1;break;case"ease-in-out":a=0,i=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=L0e(u,4);a=d[0],i=d[1],s=d[2],l=d[3]}}}var f=oR(a,s),h=oR(i,l),m=H0e(a,s),v=function(x){return x>1?1:x<0?0:x},g=function(x){for(var b=x>1?1:x,w=b,j=0;j<8;++j){var _=f(w)-b,S=m(w);if(Math.abs(_-b)<dm||S<dm)return h(w);w=v(w-_/S)}return h(w)};return g.isStepper=!1,g},G0e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,l=s===void 0?17:s,c=function(d,f,h){var m=-(d-f)*n,v=h*i,g=h+(m-v)*l/1e3,y=h*l/1e3+d;return Math.abs(y-f)<dm&&Math.abs(g)<dm?[f,0]:[y,g]};return c.isStepper=!0,c.dt=l,c},K0e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lR(a);case"spring":return G0e();default:if(a.split("(")[0]==="cubic-bezier")return lR(a)}return typeof a=="function"?a:null};function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function cR(e){return Z0e(e)||X0e(e)||lU(e)||Y0e()}function Y0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z0e(e){if(Array.isArray(e))return g_(e)}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(n){p_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p_(e,t,r){return t=J0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J0e(e){var t=Q0e(e,"string");return td(t)==="symbol"?t:String(t)}function Q0e(e,t){if(td(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(td(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ewe(e,t){return nwe(e)||rwe(e,t)||lU(e,t)||twe()}function twe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lU(e,t){if(e){if(typeof e=="string")return g_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g_(e,t)}}function g_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function nwe(e){if(Array.isArray(e))return e}var fm=function(t,r,n){return t+(r-t)*n},y_=function(t){var r=t.from,n=t.to;return r!==n},awe=function e(t,r,n){var a=Xc(function(i,s){if(y_(s)){var l=t(s.from,s.to,s.velocity),c=ewe(l,2),u=c[0],d=c[1];return Er(Er({},s),{},{from:u,velocity:d})}return s},r);return n<1?Xc(function(i,s){return y_(s)?Er(Er({},s),{},{velocity:fm(s.velocity,a[i].velocity,n),from:fm(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const iwe=(function(e,t,r,n,a){var i=D0e(e,t),s=i.reduce(function(y,x){return Er(Er({},y),{},p_({},x,[e[x],t[x]]))},{}),l=i.reduce(function(y,x){return Er(Er({},y),{},p_({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Xc(function(x,b){return b.from},l)},m=function(){return!Object.values(l).filter(y_).length},v=function(x){u||(u=x);var b=x-u,w=b/r.dt;l=awe(r,l,w),a(Er(Er(Er({},e),t),h())),u=x,m()||(c=requestAnimationFrame(f))},g=function(x){d||(d=x);var b=(x-d)/n,w=Xc(function(_,S){return fm.apply(void 0,cR(S).concat([r(b)]))},s);if(a(Er(Er(Er({},e),t),w)),b<1)c=requestAnimationFrame(f);else{var j=Xc(function(_,S){return fm.apply(void 0,cR(S).concat([r(1)]))},s);a(Er(Er(Er({},e),t),j))}};return f=r.isStepper?v:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}var swe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function owe(e,t){if(e==null)return{};var r=lwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lwe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Lb(e){return fwe(e)||dwe(e)||uwe(e)||cwe()}function cwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uwe(e,t){if(e){if(typeof e=="string")return v_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v_(e,t)}}function dwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fwe(e){if(Array.isArray(e))return v_(e)}function v_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(r),!0).forEach(function(n){Ic(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ic(e,t,r){return t=cU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cU(n.key),n)}}function pwe(e,t,r){return t&&mwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cU(e){var t=gwe(e,"string");return Cl(t)==="symbol"?t:String(t)}function gwe(e,t){if(Cl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ywe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x_(e,t)}function x_(e,t){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},x_(e,t)}function vwe(e){var t=xwe();return function(){var n=hm(e),a;if(t){var i=hm(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return b_(this,a)}}function b_(e,t){if(t&&(Cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w_(e)}function w_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hm(e){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hm(e)}var es=(function(e){ywe(r,e);var t=vwe(r);function r(n,a){var i;hwe(this,r),i=t.call(this,n,a);var s=i.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,m=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(w_(i)),i.changeStyle=i.changeStyle.bind(w_(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),b_(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},b_(i);i.state={style:c?Ic({},c,u):u}}else i.state={style:{}};return i}return pwe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!s){var m={style:c?Ic({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(N0e(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||u?f:a.to;if(this.state&&h){var y={style:c?Ic({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(y)}this.runAnimation(Yn(Yn({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=iwe(s,l,K0e(u),c,this.changeStyle),v=function(){i.stopJSAnimation=m()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,l=a.begin,c=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,y,x){if(x===0)return g;var b=y.duration,w=y.easing,j=w===void 0?"ease":w,_=y.style,S=y.properties,N=y.onAnimationEnd,T=x>0?s[x-1]:y,C=S||Object.keys(_);if(typeof j=="function"||j==="spring")return[].concat(Lb(g),[i.runJSAnimation.bind(i,{from:T.style,to:_,duration:b,easing:j}),b]);var A=sR(C,b,j),P=Yn(Yn(Yn({},T.style),_),{},{transition:A});return[].concat(Lb(g),[P,b,N]).filter(I0e)};return this.manager.start([c].concat(Lb(s.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=k0e());var i=a.begin,s=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=l?Ic({},l,c):c,y=sR(Object.keys(g),s,u);v.start([d,i,Yn(Yn({},g),{},{transition:y}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=owe(a,swe),u=p.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||s<=0)return i;var f=function(m){var v=m.props,g=v.style,y=g===void 0?{}:g,x=v.className,b=p.cloneElement(m,Yn(Yn({},c),{},{style:Yn(Yn({},y),d),className:x}));return b};return u===1?f(p.Children.only(i)):k.createElement("div",null,p.Children.map(i,function(h){return f(h)}))}}]),r})(p.PureComponent);es.displayName="Animate";es.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};es.propTypes={from:pt.oneOfType([pt.object,pt.string]),to:pt.oneOfType([pt.object,pt.string]),attributeName:pt.string,duration:pt.number,begin:pt.number,easing:pt.oneOfType([pt.string,pt.func]),steps:pt.arrayOf(pt.shape({duration:pt.number.isRequired,style:pt.object.isRequired,easing:pt.oneOfType([pt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),pt.func]),properties:pt.arrayOf("string"),onAnimationEnd:pt.func})),children:pt.oneOfType([pt.node,pt.func]),isActive:pt.bool,canBegin:pt.bool,onAnimationEnd:pt.func,shouldReAnimate:pt.bool,onAnimationStart:pt.func,onAnimationReStart:pt.func};function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mm.apply(this,arguments)}function bwe(e,t){return Swe(e)||jwe(e,t)||_we(e,t)||wwe()}function wwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _we(e,t){if(e){if(typeof e=="string")return fR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fR(e,t)}}function fR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Swe(e){if(Array.isArray(e))return e}function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(n){Nwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nwe(e,t,r){return t=Cwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cwe(e){var t=Twe(e,"string");return rd(t)=="symbol"?t:t+""}function Twe(e,t){if(rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pR=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>s?s:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var v=Math.min(s,i);d="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Ewe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},Awe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RS=function(t){var r=mR(mR({},Awe),t),n=p.useRef(),a=p.useState(-1),i=bwe(a,2),s=i[0],l=i[1];p.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,v=r.animationEasing,g=r.animationDuration,y=r.animationBegin,x=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=it("recharts-rectangle",m);return b?k.createElement(es,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:v,isActive:b},function(j){var _=j.width,S=j.height,N=j.x,T=j.y;return k.createElement(es,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:x,easing:v},k.createElement("path",mm({},dt(r,!0),{className:w,d:pR(N,T,_,S,h),ref:n})))}):k.createElement("path",mm({},dt(r,!0),{className:w,d:pR(c,u,d,f,h)}))};function __(){return __=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},__.apply(this,arguments)}var uU=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=it("recharts-dot",i);return r===+r&&n===+n&&a===+a?p.createElement("circle",__({},dt(t,!1),Mh(t),{className:s,cx:r,cy:n,r:a})):null};function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}var Pwe=["x","y","top","left","width","height","className"];function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j_.apply(this,arguments)}function gR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Owe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(r),!0).forEach(function(n){kwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kwe(e,t,r){return t=Rwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rwe(e){var t=Mwe(e,"string");return nd(t)=="symbol"?t:t+""}function Mwe(e,t){if(nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dwe(e,t){if(e==null)return{};var r=Iwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Iwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $we=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},Lwe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,l=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,v=t.className,g=Dwe(t,Pwe),y=Owe({x:n,y:i,top:l,left:u,width:f,height:m},g);return!pe(n)||!pe(i)||!pe(f)||!pe(m)||!pe(l)||!pe(u)?null:k.createElement("path",j_({},dt(y,!0),{className:it("recharts-cross",v),d:$we(n,i,f,m,l,u)}))},Fb,yR;function Fwe(){if(yR)return Fb;yR=1;var e=P3(),t=e(Object.getPrototypeOf,Object);return Fb=t,Fb}var Bb,vR;function Bwe(){if(vR)return Bb;vR=1;var e=xi(),t=Fwe(),r=bi(),n="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,l=i.hasOwnProperty,c=s.call(Object);function u(d){if(!r(d)||e(d)!=n)return!1;var f=t(d);if(f===null)return!0;var h=l.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==c}return Bb=u,Bb}var zwe=Bwe();const Uwe=Lt(zwe);var zb,xR;function Vwe(){if(xR)return zb;xR=1;var e=xi(),t=bi(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return zb=n,zb}var qwe=Vwe();const Wwe=Lt(qwe);function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pm.apply(this,arguments)}function Hwe(e,t){return Xwe(e)||Ywe(e,t)||Kwe(e,t)||Gwe()}function Gwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kwe(e,t){if(e){if(typeof e=="string")return bR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bR(e,t)}}function bR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ywe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Xwe(e){if(Array.isArray(e))return e}function wR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(r),!0).forEach(function(n){Zwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zwe(e,t,r){return t=Jwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jwe(e){var t=Qwe(e,"string");return ad(t)=="symbol"?t:t+""}function Qwe(e,t){if(ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jR=function(t,r,n,a,i){var s=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-s/2,",").concat(r+i),l+="L ".concat(t+n-s/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},e_e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},t_e=function(t){var r=_R(_R({},e_e),t),n=p.useRef(),a=p.useState(-1),i=Hwe(a,2),s=i[0],l=i[1];p.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,v=r.animationEasing,g=r.animationDuration,y=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=it("recharts-trapezoid",m);return x?k.createElement(es,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:v,isActive:x},function(w){var j=w.upperWidth,_=w.lowerWidth,S=w.height,N=w.x,T=w.y;return k.createElement(es,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:v},k.createElement("path",pm({},dt(r,!0),{className:b,d:jR(N,T,j,_,S),ref:n})))}):k.createElement("g",null,k.createElement("path",pm({},dt(r,!0),{className:b,d:jR(c,u,d,f,h)})))},r_e=["option","shapeType","propTransformer","activeClassName","isActive"];function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function n_e(e,t){if(e==null)return{};var r=a_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(r),!0).forEach(function(n){i_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i_e(e,t,r){return t=s_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s_e(e){var t=o_e(e,"string");return id(t)=="symbol"?t:t+""}function o_e(e,t){if(id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l_e(e,t){return gm(gm({},t),e)}function c_e(e,t){return e==="symbols"}function NR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return k.createElement(RS,r);case"trapezoid":return k.createElement(t_e,r);case"sector":return k.createElement(rU,r);case"symbols":if(c_e(t))return k.createElement(Xj,r);break;default:return null}}function u_e(e){return p.isValidElement(e)?e.props:e}function d_e(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?l_e:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,l=e.isActive,c=n_e(e,r_e),u;if(p.isValidElement(t))u=p.cloneElement(t,gm(gm({},c),u_e(t)));else if(Je(t))u=t(c);else if(Uwe(t)&&!Wwe(t)){var d=a(t,c);u=k.createElement(NR,{shapeType:r,elementProps:d})}else{var f=c;u=k.createElement(NR,{shapeType:r,elementProps:f})}return l?k.createElement(jr,{className:s},u):u}function eg(e,t){return t!=null&&"trapezoids"in e.props}function tg(e,t){return t!=null&&"sectors"in e.props}function sd(e,t){return t!=null&&"points"in e.props}function f_e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function h_e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function m_e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function p_e(e,t){var r;return eg(e,t)?r=f_e:tg(e,t)?r=h_e:sd(e,t)&&(r=m_e),r}function g_e(e,t){var r;return eg(e,t)?r="trapezoids":tg(e,t)?r="sectors":sd(e,t)&&(r="points"),r}function y_e(e,t){if(eg(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(tg(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return sd(e,t)?t.payload:{}}function v_e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=g_e(r,t),i=y_e(r,t),s=n.filter(function(c,u){var d=AS(i,c),f=r.props[a].filter(function(v){var g=p_e(r,t);return g(v,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(s[s.length-1]);return l}var Ub,CR;function x_e(){if(CR)return Ub;CR=1;var e=Math.ceil,t=Math.max;function r(n,a,i,s){for(var l=-1,c=t(e((a-n)/(i||1)),0),u=Array(c);c--;)u[s?c:++l]=n,n+=i;return u}return Ub=r,Ub}var Vb,TR;function dU(){if(TR)return Vb;TR=1;var e=H3(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*r}return a===a?a:0}return Vb=n,Vb}var qb,ER;function b_e(){if(ER)return qb;ER=1;var e=x_e(),t=Up(),r=dU();function n(a){return function(i,s,l){return l&&typeof l!="number"&&t(i,s,l)&&(s=l=void 0),i=r(i),s===void 0?(s=i,i=0):s=r(s),l=l===void 0?i<s?1:-1:r(l),e(i,s,l,a)}}return qb=n,qb}var Wb,AR;function w_e(){if(AR)return Wb;AR=1;var e=b_e(),t=e();return Wb=t,Wb}var __e=w_e();const ym=Lt(__e);function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){fU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fU(e,t,r){return t=j_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j_e(e){var t=S_e(e,"string");return od(t)=="symbol"?t:t+""}function S_e(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N_e=["Webkit","Moz","O","ms"],C_e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=N_e.reduce(function(i,s){return OR(OR({},i),{},fU({},s+n,r))},{});return a[t]=r,a};function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vm.apply(this,arguments)}function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(n){nn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mU(n.key),n)}}function E_e(e,t,r){return t&&RR(e.prototype,t),r&&RR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function A_e(e,t,r){return t=xm(t),P_e(e,hU()?Reflect.construct(t,r||[],xm(e).constructor):t.apply(e,r))}function P_e(e,t){if(t&&(Tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O_e(e)}function O_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hU=function(){return!!e})()}function xm(e){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xm(e)}function k_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S_(e,t)}function S_(e,t){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S_(e,t)}function nn(e,t,r){return t=mU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mU(e){var t=R_e(e,"string");return Tl(t)=="symbol"?t:t+""}function R_e(e,t){if(Tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var M_e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Kc().domain(ym(0,c)).range([i,i+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},MR=function(t){return t.changedTouches&&!!t.changedTouches.length},El=(function(e){function t(r){var n;return T_e(this,t),n=A_e(this,t,[r]),nn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),nn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),nn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,l=a.startIndex;s?.({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),nn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),nn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),nn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),nn(n,"handleSlideDragStart",function(a){var i=MR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return k_e(t,e),E_e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(s,f),v=t.getIndexInRange(s,h);return{startIndex:m-m%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,l=a.dataKey,c=Ba(i[n],l,n);return Je(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,v=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-l,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-l));var y=this.getIndex({startX:s+g,endX:l+g});(y.startIndex!==h||y.endIndex!==m)&&v&&v(y),this.setState({startX:s+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=MR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.onChange,g=d.gap,y=d.data,x={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),x[s]=u+b;var w=this.getIndex(x),j=w.startIndex,_=w.endIndex,S=function(){var T=y.length-1;return s==="startX"&&(l>c?j%g===0:_%g===0)||l<c&&_===T||s==="endX"&&(l>c?_%g===0:j%g===0)||l>c&&_===T};this.setState(nn(nn({},s,u+b),"brushMoveStartX",n.pageX),function(){v&&S()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(nn({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return k.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=p.Children.only(u);return f?k.cloneElement(f,{x:a,y:i,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,v=c.data,g=c.startIndex,y=c.endIndex,x=Math.max(n,this.props.x),b=Hb(Hb({},dt(this.props,!1)),{},{x,y:u,width:d,height:f}),w=m||"Min value: ".concat((i=v[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=v[y])===null||s===void 0?void 0:s.name);return k.createElement(jr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return k.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,v={pointerEvents:"none",fill:u};return k.createElement(jr,{className:"recharts-brush-texts"},k.createElement(Hh,vm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:s+l/2},v),this.getTextOfTick(a)),k.createElement(Hh,vm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:s+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,v=h.endX,g=h.isTextActive,y=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!pe(l)||!pe(c)||!pe(u)||!pe(d)||u<=0||d<=0)return null;var w=it("recharts-brush",i),j=k.Children.count(s)===1,_=C_e("userSelect","none");return k.createElement(jr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(g||y||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return k.createElement(k.Fragment,null,k.createElement("rect",{x:a,y:i,width:s,height:l,fill:c,stroke:"none"}),k.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),k.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return k.isValidElement(n)?i=k.cloneElement(n,a):Je(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Hb({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},i&&i.length?M_e({data:i,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+s-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,l=i-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>a?l=c:s=c}return a>=n[l]?l:s}}])})(p.PureComponent);nn(El,"displayName","Brush");nn(El,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Gb,DR;function D_e(){if(DR)return Gb;DR=1;var e=nS();function t(r,n){var a;return e(r,function(i,s,l){return a=n(i,s,l),!a}),!!a}return Gb=t,Gb}var Kb,IR;function I_e(){if(IR)return Kb;IR=1;var e=j3(),t=cs(),r=D_e(),n=tn(),a=Up();function i(s,l,c){var u=n(s)?e:r;return c&&a(s,l,c)&&(l=void 0),u(s,t(l,3))}return Kb=i,Kb}var $_e=I_e();const L_e=Lt($_e);var Ma=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Yb,$R;function F_e(){if($R)return Yb;$R=1;var e=z3();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Yb=t,Yb}var Xb,LR;function B_e(){if(LR)return Xb;LR=1;var e=F_e(),t=F3(),r=cs();function n(a,i){var s={};return i=r(i,3),t(a,function(l,c,u){e(s,c,i(l,c,u))}),s}return Xb=n,Xb}var z_e=B_e();const U_e=Lt(z_e);var Zb,FR;function V_e(){if(FR)return Zb;FR=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return Zb=e,Zb}var Jb,BR;function q_e(){if(BR)return Jb;BR=1;var e=nS();function t(r,n){var a=!0;return e(r,function(i,s,l){return a=!!n(i,s,l),a}),a}return Jb=t,Jb}var Qb,zR;function W_e(){if(zR)return Qb;zR=1;var e=V_e(),t=q_e(),r=cs(),n=tn(),a=Up();function i(s,l,c){var u=n(s)?e:t;return c&&a(s,l,c)&&(l=void 0),u(s,r(l,3))}return Qb=i,Qb}var H_e=W_e();const pU=Lt(H_e);var G_e=["x","y"];function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N_.apply(this,arguments)}function UR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(r),!0).forEach(function(n){K_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K_e(e,t,r){return t=Y_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y_e(e){var t=X_e(e,"string");return ld(t)=="symbol"?t:t+""}function X_e(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z_e(e,t){if(e==null)return{};var r=J_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function J_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Q_e(e,t){var r=e.x,n=e.y,a=Z_e(e,G_e),i="".concat(r),s=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Cc(Cc(Cc(Cc(Cc({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function VR(e){return k.createElement(d_e,N_({shapeType:"rectangle",propTransformer:Q_e,activeClassName:"recharts-active-bar"},e))}var e1e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=pe(n)||ode(n);return i?t(n,a):(i||no(),r)}},t1e=["value","background"],gU;function Al(e){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}function r1e(e,t){if(e==null)return{};var r=n1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function n1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bm.apply(this,arguments)}function qR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(r),!0).forEach(function(n){Bi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vU(n.key),n)}}function i1e(e,t,r){return t&&WR(e.prototype,t),r&&WR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s1e(e,t,r){return t=wm(t),o1e(e,yU()?Reflect.construct(t,r||[],wm(e).constructor):t.apply(e,r))}function o1e(e,t){if(t&&(Al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l1e(e)}function l1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yU=function(){return!!e})()}function wm(e){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wm(e)}function c1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C_(e,t)}function C_(e,t){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C_(e,t)}function Bi(e,t,r){return t=vU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=u1e(e,"string");return Al(t)=="symbol"?t:t+""}function u1e(e,t){if(Al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rn=(function(e){function t(){var r;a1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=s1e(this,t,[].concat(a)),Bi(r,"state",{isAnimationFinished:!1}),Bi(r,"id",Dp("recharts-bar-")),Bi(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Bi(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return c1e(t,e),i1e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=dt(this.props,!1);return n&&n.map(function(f,h){var m=h===c,v=m?u:s,g=cr(cr(cr({},d),f),{},{isActive:m,option:v,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return k.createElement(jr,bm({className:"recharts-bar-rectangle"},Dh(a.props,f,h),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(h)}),k.createElement(VR,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return k.createElement(es,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,g=i.map(function(y,x){var b=h&&h[x];if(b){var w=To(b.x,y.x),j=To(b.y,y.y),_=To(b.width,y.width),S=To(b.height,y.height);return cr(cr({},y),{},{x:w(v),y:j(v),width:_(v),height:S(v)})}if(s==="horizontal"){var N=To(0,y.height),T=N(v);return cr(cr({},y),{},{y:y.y+y.height-T,height:T})}var C=To(0,y.width),A=C(v);return cr(cr({},y),{},{width:A})});return k.createElement(jr,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!AS(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,l=a.activeIndex,c=dt(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=r1e(u,t1e);if(!f)return null;var m=cr(cr(cr(cr(cr({},h),{},{fill:"#eee"},f),c),Dh(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return k.createElement(VR,bm({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=ha(d,Qp);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,m=function(y,x){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:Ba(y,x)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return k.createElement(jr,v,f.map(function(g){return k.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,v=n.background,g=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,x=it("recharts-bar",s),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,j=b||w,_=ft(g)?this.id:g;return k.createElement(jr,{className:x},b||w?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(_)},k.createElement("rect",{x:b?u:u-f/2,y:w?d:d-h/2,width:b?f:f*2,height:w?h:h*2}))):null,k.createElement(jr,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(_,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,_),(!m||y)&&Us.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(p.PureComponent);gU=Rn;Bi(Rn,"displayName","Bar");Bi(Rn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Wd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Bi(Rn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=Nxe(n,r);if(!m)return null;var v=t.layout,g=r.type.defaultProps,y=g!==void 0?cr(cr({},g),r.props):r.props,x=y.dataKey,b=y.children,w=y.minPointSize,j=v==="horizontal"?s:i,_=u?j.scale.domain():null,S=Rxe({numericAxis:j}),N=ha(b,sS),T=f.map(function(C,A){var P,E,R,O,M,D;u?P=Cxe(u[d+A],_):(P=Ba(C,x),Array.isArray(P)||(P=[S,P]));var I=e1e(w,gU.defaultProps.minPointSize)(P[1],A);if(v==="horizontal"){var F,$=[s.scale(P[0]),s.scale(P[1])],V=$[0],X=$[1];E=P2({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:C,index:A}),R=(F=X??V)!==null&&F!==void 0?F:void 0,O=m.size;var Y=V-X;if(M=Number.isNaN(Y)?0:Y,D={x:E,y:s.y,width:O,height:s.height},Math.abs(I)>0&&Math.abs(M)<Math.abs(I)){var q=ua(M||I)*(Math.abs(I)-Math.abs(M));R-=q,M+=q}}else{var oe=[i.scale(P[0]),i.scale(P[1])],me=oe[0],xe=oe[1];if(E=me,R=P2({axis:s,ticks:c,bandSize:a,offset:m.offset,entry:C,index:A}),O=xe-me,M=m.size,D={x:i.x,y:R,width:i.width,height:M},Math.abs(I)>0&&Math.abs(O)<Math.abs(I)){var te=ua(O||I)*(Math.abs(I)-Math.abs(O));O+=te}}return cr(cr(cr({},C),{},{x:E,y:R,width:O,height:M,value:u?P:P[1],payload:C,background:D},N&&N[A]&&N[A].props),{},{tooltipPayload:[Qz(r,C)],tooltipPosition:{x:E+O/2,y:R+M/2}})});return cr({data:T,layout:v},h)});function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function d1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xU(n.key),n)}}function f1e(e,t,r){return t&&HR(e.prototype,t),r&&HR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(r),!0).forEach(function(n){rg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rg(e,t,r){return t=xU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xU(e){var t=h1e(e,"string");return cd(t)=="symbol"?t:t+""}function h1e(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m1e=function(t,r,n,a,i){var s=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!sn(u,Rn);return d.reduce(function(m,v){var g=r[v],y=g.orientation,x=g.domain,b=g.padding,w=b===void 0?{}:b,j=g.mirror,_=g.reversed,S="".concat(y).concat(j?"Mirror":""),N,T,C,A,P;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var E=x[1]-x[0],R=1/0,O=g.categoricalDomain.sort(ude);if(O.forEach(function(oe,me){me>0&&(R=Math.min((oe||0)-(O[me-1]||0),R))}),Number.isFinite(R)){var M=R/E,D=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(N=M*D/2),g.padding==="no-gap"){var I=to(t.barCategoryGap,M*D),F=M*D/2;N=F-I-(F-I)/D*I}}}a==="xAxis"?T=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:a==="yAxis"?T=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:T=g.range,_&&(T=[T[1],T[0]]);var $=jxe(g,i,h),V=$.scale,X=$.realScaleType;V.domain(x).range(T),Sxe(V);var Y=kxe(V,ra(ra({},g),{},{realScaleType:X}));a==="xAxis"?(P=y==="top"&&!j||y==="bottom"&&j,C=n.left,A=f[S]-P*g.height):a==="yAxis"&&(P=y==="left"&&!j||y==="right"&&j,C=f[S]-P*g.width,A=n.top);var q=ra(ra(ra({},g),Y),{},{realScaleType:X,x:C,y:A,scale:V,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return q.bandSize=om(q,Y),!g.hide&&a==="xAxis"?f[S]+=(P?-1:1)*q.height:g.hide||(f[S]+=(P?-1:1)*q.width),ra(ra({},m),{},rg({},v,q))},{})},bU=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},p1e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return bU({x:r,y:n},{x:a,y:i})},wU=(function(){function e(t){d1e(this,e),this.scale=t}return f1e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])})();rg(wU,"EPS",1e-4);var MS=function(t){var r=Object.keys(t).reduce(function(n,a){return ra(ra({},n),{},rg({},a,wU.create(t[a])))},{});return ra(ra({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,l=i.position;return U_e(a,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(a){return pU(a,function(i,s){return r[s].isInRange(i)})}})};function g1e(e){return(e%180+180)%180}var y1e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=g1e(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},e0,KR;function v1e(){if(KR)return e0;KR=1;var e=cs(),t=qd(),r=Bp();function n(a){return function(i,s,l){var c=Object(i);if(!t(i)){var u=e(s,3);i=r(i),s=function(f){return u(c[f],f,c)}}var d=a(i,s,l);return d>-1?c[u?i[d]:d]:void 0}}return e0=n,e0}var t0,YR;function x1e(){if(YR)return t0;YR=1;var e=dU();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return t0=t,t0}var r0,XR;function b1e(){if(XR)return r0;XR=1;var e=M3(),t=cs(),r=x1e(),n=Math.max;function a(i,s,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),e(i,t(s,3),u)}return r0=a,r0}var n0,ZR;function w1e(){if(ZR)return n0;ZR=1;var e=v1e(),t=b1e(),r=e(t);return n0=r,n0}var _1e=w1e();const j1e=Lt(_1e);var S1e=XB();const N1e=Lt(S1e);var C1e=N1e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),DS=p.createContext(void 0),IS=p.createContext(void 0),_U=p.createContext(void 0),jU=p.createContext({}),SU=p.createContext(void 0),NU=p.createContext(0),CU=p.createContext(0),JR=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,l=t.children,c=t.width,u=t.height,d=C1e(i);return k.createElement(DS.Provider,{value:n},k.createElement(IS.Provider,{value:a},k.createElement(jU.Provider,{value:i},k.createElement(_U.Provider,{value:d},k.createElement(SU.Provider,{value:s},k.createElement(NU.Provider,{value:u},k.createElement(CU.Provider,{value:c},l)))))))},T1e=function(){return p.useContext(SU)},TU=function(t){var r=p.useContext(DS);r==null&&no();var n=r[t];return n==null&&no(),n},E1e=function(){var t=p.useContext(DS);return Ii(t)},A1e=function(){var t=p.useContext(IS),r=j1e(t,function(n){return pU(n.domain,Number.isFinite)});return r||Ii(t)},EU=function(t){var r=p.useContext(IS);r==null&&no();var n=r[t];return n==null&&no(),n},P1e=function(){var t=p.useContext(_U);return t},O1e=function(){return p.useContext(jU)},$S=function(){return p.useContext(CU)},LS=function(){return p.useContext(NU)};function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function k1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PU(n.key),n)}}function M1e(e,t,r){return t&&R1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D1e(e,t,r){return t=_m(t),I1e(e,AU()?Reflect.construct(t,r||[],_m(e).constructor):t.apply(e,r))}function I1e(e,t){if(t&&(Pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $1e(e)}function $1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AU=function(){return!!e})()}function _m(e){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_m(e)}function L1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T_(e,t)}function T_(e,t){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},T_(e,t)}function QR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(r),!0).forEach(function(n){FS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FS(e,t,r){return t=PU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PU(e){var t=F1e(e,"string");return Pl(t)=="symbol"?t:t+""}function F1e(e,t){if(Pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function B1e(e,t){return q1e(e)||V1e(e,t)||U1e(e,t)||z1e()}function z1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U1e(e,t){if(e){if(typeof e=="string")return tM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tM(e,t)}}function tM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function q1e(e){if(Array.isArray(e))return e}function E_(){return E_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E_.apply(this,arguments)}var W1e=function(t,r){var n;return k.isValidElement(t)?n=k.cloneElement(t,r):Je(t)?n=t(r):n=k.createElement("line",E_({},r,{className:"recharts-reference-line-line"})),n},H1e=function(t,r,n,a,i,s,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var v=u.y,g=t.y.apply(v,{position:s});if(Ma(u,"discard")&&!t.y.isInRange(g))return null;var y=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?y.reverse():y}if(r){var x=u.x,b=t.x.apply(x,{position:s});if(Ma(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+m},{x:b,y:f}];return l==="top"?w.reverse():w}if(a){var j=u.segment,_=j.map(function(S){return t.apply(S,{position:s})});return Ma(u,"discard")&&L_e(_,function(S){return!t.isInRange(S)})?null:_}return null};function G1e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=T1e(),d=TU(a),f=EU(i),h=P1e();if(!u||!h)return null;si(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=MS({x:d.scale,y:f.scale}),v=br(t),g=br(r),y=n&&n.length===2,x=H1e(m,v,g,y,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var b=B1e(x,2),w=b[0],j=w.x,_=w.y,S=b[1],N=S.x,T=S.y,C=Ma(e,"hidden")?"url(#".concat(u,")"):void 0,A=eM(eM({clipPath:C},dt(e,!0)),{},{x1:j,y1:_,x2:N,y2:T});return k.createElement(jr,{className:it("recharts-reference-line",l)},W1e(s,A),Rr.renderCallByParent(e,p1e({x1:j,y1:_,x2:N,y2:T})))}var BS=(function(e){function t(){return k1e(this,t),D1e(this,t,arguments)}return L1e(t,e),M1e(t,[{key:"render",value:function(){return k.createElement(G1e,this.props)}}])})(k.Component);FS(BS,"displayName","ReferenceLine");FS(BS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function A_(){return A_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A_.apply(this,arguments)}function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function rM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(r),!0).forEach(function(n){ng(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kU(n.key),n)}}function X1e(e,t,r){return t&&Y1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z1e(e,t,r){return t=jm(t),J1e(e,OU()?Reflect.construct(t,r||[],jm(e).constructor):t.apply(e,r))}function J1e(e,t){if(t&&(Ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q1e(e)}function Q1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OU=function(){return!!e})()}function jm(e){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jm(e)}function eje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P_(e,t)}function P_(e,t){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P_(e,t)}function ng(e,t,r){return t=kU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kU(e){var t=tje(e,"string");return Ol(t)=="symbol"?t:t+""}function tje(e,t){if(Ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rje=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=MS({x:a.scale,y:i.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return Ma(t,"discard")&&!s.isInRange(l)?null:l},ag=(function(e){function t(){return K1e(this,t),Z1e(this,t,arguments)}return eje(t,e),X1e(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=br(a),d=br(i);if(si(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=rje(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,g=v.shape,y=v.className,x=Ma(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=nM(nM({clipPath:x},dt(this.props,!0)),{},{cx:h,cy:m});return k.createElement(jr,{className:it("recharts-reference-dot",y)},t.renderDot(g,b),Rr.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])})(k.Component);ng(ag,"displayName","ReferenceDot");ng(ag,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ng(ag,"renderDot",function(e,t){var r;return k.isValidElement(e)?r=k.cloneElement(e,t):Je(e)?r=e(t):r=k.createElement(uU,A_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function O_(){return O_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O_.apply(this,arguments)}function kl(e){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}function aM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aM(Object(r),!0).forEach(function(n){ig(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MU(n.key),n)}}function ije(e,t,r){return t&&aje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sje(e,t,r){return t=Sm(t),oje(e,RU()?Reflect.construct(t,r||[],Sm(e).constructor):t.apply(e,r))}function oje(e,t){if(t&&(kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lje(e)}function lje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RU=function(){return!!e})()}function Sm(e){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sm(e)}function cje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k_(e,t)}function k_(e,t){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},k_(e,t)}function ig(e,t,r){return t=MU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MU(e){var t=uje(e,"string");return kl(t)=="symbol"?t:t+""}function uje(e,t){if(kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dje=function(t,r,n,a,i){var s=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=MS({x:d.scale,y:f.scale}),m={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ma(i,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:bU(m,v)},sg=(function(e){function t(){return nje(this,t),sje(this,t,arguments)}return cje(t,e),ije(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;si(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=br(a),h=br(i),m=br(s),v=br(l),g=this.props.shape;if(!f&&!h&&!m&&!v&&!g)return null;var y=dje(f,h,m,v,this.props);if(!y&&!g)return null;var x=Ma(this.props,"hidden")?"url(#".concat(d,")"):void 0;return k.createElement(jr,{className:it("recharts-reference-area",c)},t.renderRect(g,iM(iM({clipPath:x},dt(this.props,!0)),y)),Rr.renderCallByParent(this.props,y))}}])})(k.Component);ig(sg,"displayName","ReferenceArea");ig(sg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ig(sg,"renderRect",function(e,t){var r;return k.isValidElement(e)?r=k.cloneElement(e,t):Je(e)?r=e(t):r=k.createElement(RS,O_({},t,{className:"recharts-reference-area-rect"})),r});function DU(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function fje(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return y1e(n,r)}function hje(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function Nm(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function mje(e,t){return DU(e,t+1)}function pje(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var v=n?.[c];if(v===void 0)return{v:DU(n,u)};var g=c,y,x=function(){return y===void 0&&(y=r(v,g)),y},b=v.coordinate,w=c===0||Nm(e,b,x,d,l);w||(c=0,d=s,u+=1),w&&(d=b+e*(x()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function sM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(r),!0).forEach(function(n){gje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gje(e,t,r){return t=yje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yje(e){var t=vje(e,"string");return ud(t)=="symbol"?t:t+""}function vje(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xje(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],v,g=function(){return v===void 0&&(v=r(m,h)),v};if(h===s-1){var y=e*(m.coordinate+e*g()/2-c);i[h]=m=Or(Or({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else i[h]=m=Or(Or({},m),{},{tickCoord:m.coordinate});var x=Nm(e,m.tickCoord,g,l,c);x&&(c=m.tickCoord-e*(g()/2+a),i[h]=Or(Or({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function bje(e,t,r,n,a,i){var s=(n||[]).slice(),l=s.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);s[l-1]=d=Or(Or({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Nm(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),s[l-1]=Or(Or({},d),{},{isShow:!0}))}for(var v=i?l-1:l,g=function(b){var w=s[b],j,_=function(){return j===void 0&&(j=r(w,b)),j};if(b===0){var S=e*(w.coordinate-e*_()/2-c);s[b]=w=Or(Or({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else s[b]=w=Or(Or({},w),{},{tickCoord:w.coordinate});var N=Nm(e,w.tickCoord,_,c,u);N&&(c=w.tickCoord+e*(_()/2+a),s[b]=Or(Or({},w),{},{isShow:!0}))},y=0;y<v;y++)g(y);return s}function zS(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(pe(c)||Wd.isSsr)return mje(a,typeof c=="number"&&pe(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",v=d&&m==="width"?Gc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(w,j){var _=Je(u)?u(w.value,j):w.value;return m==="width"?fje(Gc(_,{fontSize:t,letterSpacing:r}),v,f):Gc(_,{fontSize:t,letterSpacing:r})[m]},y=a.length>=2?ua(a[1].coordinate-a[0].coordinate):1,x=hje(i,y,m);return c==="equidistantPreserveStart"?pje(y,x,g,a,s):(c==="preserveStart"||c==="preserveStartEnd"?h=bje(y,x,g,a,s,c==="preserveStartEnd"):h=xje(y,x,g,a,s),h.filter(function(b){return b.isShow}))}var wje=["viewBox"],_je=["viewBox"],jje=["ticks"];function Rl(e){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ho.apply(this,arguments)}function oM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(r),!0).forEach(function(n){US(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a0(e,t){if(e==null)return{};var r=Sje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$U(n.key),n)}}function Cje(e,t,r){return t&&lM(e.prototype,t),r&&lM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tje(e,t,r){return t=Cm(t),Eje(e,IU()?Reflect.construct(t,r||[],Cm(e).constructor):t.apply(e,r))}function Eje(e,t){if(t&&(Rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aje(e)}function Aje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IU=function(){return!!e})()}function Cm(e){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cm(e)}function Pje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R_(e,t)}function R_(e,t){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R_(e,t)}function US(e,t,r){return t=$U(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $U(e){var t=Oje(e,"string");return Rl(t)=="symbol"?t:t+""}function Oje(e,t){if(Rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sc=(function(e){function t(r){var n;return Nje(this,t),n=Tje(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Pje(t,e),Cje(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=a0(n,wje),l=this.props,c=l.viewBox,u=a0(l,_je);return!rl(i,c)||!rl(s,u)||!rl(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,v,g,y,x,b,w=f?-1:1,j=n.tickSize||d,_=pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=v=n.coordinate,y=s+ +!f*c,g=y-w*j,b=g-w*h,x=_;break;case"left":g=y=n.coordinate,v=i+ +!f*l,m=v-w*j,x=m-w*h,b=_;break;case"right":g=y=n.coordinate,v=i+ +f*l,m=v+w*j,x=m+w*h,b=_;break;default:m=v=n.coordinate,y=s+ +f*c,g=y+w*j,b=g+w*h,x=_;break}return{line:{x1:m,y1:g,x2:v,y2:y},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=pr(pr(pr({},dt(this.props,!1)),dt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=pr(pr({},f),{},{x1:a,y1:i+h*l,x2:a+s,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=pr(pr({},f),{},{x1:a+m*s,y1:i,x2:a+m*s,y2:i+l})}return k.createElement("line",Ho({},f,{className:it("recharts-cartesian-axis-line",In(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=zS(pr(pr({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=dt(this.props,!1),x=dt(d,!1),b=pr(pr({},y),{},{fill:"none"},dt(c,!1)),w=m.map(function(j,_){var S=s.getTickLineCoord(j),N=S.line,T=S.tick,C=pr(pr(pr(pr({textAnchor:v,verticalAnchor:g},y),{},{stroke:"none",fill:u},x),T),{},{index:_,payload:j,visibleTicksCount:m.length,tickFormatter:f});return k.createElement(jr,Ho({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Dh(s.props,j,_)),c&&k.createElement("line",Ho({},b,N,{className:it("recharts-cartesian-axis-tick-line",In(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(Je(f)?f(j.value,_):j.value).concat(h||"")))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=a0(f,jje),v=h;return Je(c)&&(v=h&&h.length>0?c(this.props):c(m)),s<=0||l<=0||!v||!v.length?null:k.createElement(jr,{className:it("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Rr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,l=it(a.className,"recharts-cartesian-axis-tick-value");return k.isValidElement(n)?s=k.cloneElement(n,pr(pr({},a),{},{className:l})):Je(n)?s=n(pr(pr({},a),{},{className:l})):s=k.createElement(Hh,Ho({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])})(p.Component);US(sc,"displayName","CartesianAxis");US(sc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var kje=["x1","y1","x2","y2","key"],Rje=["offset"];function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function cM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cM(Object(r),!0).forEach(function(n){Mje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mje(e,t,r){return t=Dje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dje(e){var t=Ije(e,"string");return ao(t)=="symbol"?t:t+""}function Ije(e,t){if(ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Is(){return Is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Is.apply(this,arguments)}function uM(e,t){if(e==null)return{};var r=$je(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $je(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Lje=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,l=t.height,c=t.ry;return k.createElement("rect",{x:a,y:i,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function LU(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if(Je(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,l=t.key,c=uM(t,kje),u=dt(c,!1);u.offset;var d=uM(u,Rje);r=k.createElement("line",Is({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:l}))}return r}function Fje(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=Mr(Mr({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return LU(a,u)});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Bje(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=Mr(Mr({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return LU(a,u)});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function zje(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],g=v?a+s-h:d[m+1]-h;if(g<=0)return null;var y=m%t.length;return k.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Uje(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],g=v?i+l-h:d[m+1]-h;if(g<=0)return null;var y=m%n.length;return k.createElement("rect",{key:"react-".concat(m),x:h,y:s,width:g,height:c,stroke:"none",fill:n[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Vje=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return Zz(zS(Mr(Mr(Mr({},sc.defaultProps),n),{},{ticks:ni(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},qje=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return Zz(zS(Mr(Mr(Mr({},sc.defaultProps),n),{},{ticks:ni(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Po={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function FU(e){var t,r,n,a,i,s,l=$S(),c=LS(),u=O1e(),d=Mr(Mr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Po.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Po.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Po.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Po.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Po.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Po.verticalFill,x:pe(e.x)?e.x:u.left,y:pe(e.y)?e.y:u.top,width:pe(e.width)?e.width:u.width,height:pe(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,v=d.height,g=d.syncWithTicks,y=d.horizontalValues,x=d.verticalValues,b=E1e(),w=A1e();if(!pe(m)||m<=0||!pe(v)||v<=0||!pe(f)||f!==+f||!pe(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||Vje,_=d.horizontalCoordinatesGenerator||qje,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&Je(_)){var T=y&&y.length,C=_({yAxis:w?Mr(Mr({},w),{},{ticks:T?y:w.ticks}):void 0,width:l,height:c,offset:u},T?!0:g);si(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ao(C),"]")),Array.isArray(C)&&(S=C)}if((!N||!N.length)&&Je(j)){var A=x&&x.length,P=j({xAxis:b?Mr(Mr({},b),{},{ticks:A?x:b.ticks}):void 0,width:l,height:c,offset:u},A?!0:g);si(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ao(P),"]")),Array.isArray(P)&&(N=P)}return k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(Lje,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),k.createElement(Fje,Is({},d,{offset:u,horizontalPoints:S,xAxis:b,yAxis:w})),k.createElement(Bje,Is({},d,{offset:u,verticalPoints:N,xAxis:b,yAxis:w})),k.createElement(zje,Is({},d,{horizontalPoints:S})),k.createElement(Uje,Is({},d,{verticalPoints:N})))}FU.displayName="CartesianGrid";function Ml(e){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function Wje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UU(n.key),n)}}function Gje(e,t,r){return t&&Hje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kje(e,t,r){return t=Tm(t),Yje(e,BU()?Reflect.construct(t,r||[],Tm(e).constructor):t.apply(e,r))}function Yje(e,t){if(t&&(Ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xje(e)}function Xje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BU=function(){return!!e})()}function Tm(e){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tm(e)}function Zje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M_(e,t)}function M_(e,t){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},M_(e,t)}function zU(e,t,r){return t=UU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UU(e){var t=Jje(e,"string");return Ml(t)=="symbol"?t:t+""}function Jje(e,t){if(Ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function D_(){return D_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D_.apply(this,arguments)}function Qje(e){var t=e.xAxisId,r=$S(),n=LS(),a=TU(t);return a==null?null:p.createElement(sc,D_({},a,{className:it("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return ni(s,!0)}}))}var Xd=(function(e){function t(){return Wje(this,t),Kje(this,t,arguments)}return Zje(t,e),Gje(t,[{key:"render",value:function(){return p.createElement(Qje,this.props)}}])})(p.Component);zU(Xd,"displayName","XAxis");zU(Xd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Dl(e){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}function eSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WU(n.key),n)}}function rSe(e,t,r){return t&&tSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nSe(e,t,r){return t=Em(t),aSe(e,VU()?Reflect.construct(t,r||[],Em(e).constructor):t.apply(e,r))}function aSe(e,t){if(t&&(Dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iSe(e)}function iSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VU=function(){return!!e})()}function Em(e){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Em(e)}function sSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I_(e,t)}function I_(e,t){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I_(e,t)}function qU(e,t,r){return t=WU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WU(e){var t=oSe(e,"string");return Dl(t)=="symbol"?t:t+""}function oSe(e,t){if(Dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$_.apply(this,arguments)}var lSe=function(t){var r=t.yAxisId,n=$S(),a=LS(),i=EU(r);return i==null?null:p.createElement(sc,$_({},i,{className:it("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return ni(l,!0)}}))},Zd=(function(e){function t(){return eSe(this,t),nSe(this,t,arguments)}return sSe(t,e),rSe(t,[{key:"render",value:function(){return p.createElement(lSe,this.props)}}])})(p.Component);qU(Zd,"displayName","YAxis");qU(Zd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function dM(e){return fSe(e)||dSe(e)||uSe(e)||cSe()}function cSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uSe(e,t){if(e){if(typeof e=="string")return L_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L_(e,t)}}function dSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fSe(e){if(Array.isArray(e))return L_(e)}function L_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var F_=function(t,r,n,a,i){var s=ha(t,BS),l=ha(t,ag),c=[].concat(dM(s),dM(l)),u=ha(t,sg),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(g,y){if(y.props[d]===n&&Ma(y.props,"extendDomain")&&pe(y.props[f])){var x=y.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),u.length){var m="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(g,y){if(y.props[d]===n&&Ma(y.props,"extendDomain")&&pe(y.props[m])&&pe(y.props[v])){var x=y.props[m],b=y.props[v];return[Math.min(g[0],x,b),Math.max(g[1],x,b)]}return g},h)}return i&&i.length&&(h=i.reduce(function(g,y){return pe(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},h)),h},i0={exports:{}},fM;function hSe(){return fM||(fM=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,v){var g=r?r+u:u;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,v),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var j=y.length,_;for(w=0;w<j;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),x){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!b)for(_=1,b=new Array(x-1);_<x;_++)b[_-1]=arguments[_];y[w].fn.apply(y[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&s(this,m);else{for(var g=0,y=[],x=v.length;g<x;g++)(v[g].fn!==d||h&&!v[g].once||f&&v[g].context!==f)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(i0)),i0.exports}var mSe=hSe();const pSe=Lt(mSe);var s0=new pSe,o0="recharts.syncMouseEvents";function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function gSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ySe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HU(n.key),n)}}function vSe(e,t,r){return t&&ySe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function l0(e,t,r){return t=HU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HU(e){var t=xSe(e,"string");return dd(t)=="symbol"?t:t+""}function xSe(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bSe=(function(){function e(){gSe(this,e),l0(this,"activeIndex",0),l0(this,"coordinateList",[]),l0(this,"layout","horizontal")}return vSe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])})();function wSe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&pe(n)&&pe(a))return!0}return!1}function _Se(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function GU(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=Pr(t,r,n,a),l=Pr(t,r,n,i);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function jSe(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Pr(l,c,u,f),m=Pr(l,c,d,f);n=h.x,a=h.y,i=m.x,s=m.y}else return GU(t);return[{x:n,y:a},{x:i,y:s}]}function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function hM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hM(Object(r),!0).forEach(function(n){SSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SSe(e,t,r){return t=NSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NSe(e){var t=CSe(e,"string");return fd(t)=="symbol"?t:t+""}function CSe(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TSe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var v,g=G2;if(h==="ScatterChart")v=s,g=Lwe;else if(h==="BarChart")v=_Se(f,s,c,d),g=RS;else if(f==="radial"){var y=GU(s),x=y.cx,b=y.cy,w=y.radius,j=y.startAngle,_=y.endAngle;v={cx:x,cy:b,startAngle:j,endAngle:_,innerRadius:w,outerRadius:w},g=rU}else v={points:jSe(f,s,c)},g=G2;var S=Rf(Rf(Rf(Rf({stroke:"#ccc",pointerEvents:"none"},c),v),dt(m,!1)),{},{payload:l,payloadIndex:u,className:it("recharts-tooltip-cursor",m.className)});return p.isValidElement(m)?p.cloneElement(m,S):p.createElement(g,S)}var ESe=["item"],ASe=["children","className","width","height","style","compact","title","desc"];function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Go.apply(this,arguments)}function mM(e,t){return kSe(e)||OSe(e,t)||YU(e,t)||PSe()}function PSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function kSe(e){if(Array.isArray(e))return e}function pM(e,t){if(e==null)return{};var r=RSe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XU(n.key),n)}}function ISe(e,t,r){return t&&DSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Se(e,t,r){return t=Am(t),LSe(e,KU()?Reflect.construct(t,r||[],Am(e).constructor):t.apply(e,r))}function LSe(e,t){if(t&&(Il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FSe(e)}function FSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KU=function(){return!!e})()}function Am(e){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(e)}function BSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B_(e,t)}function B_(e,t){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B_(e,t)}function $l(e){return VSe(e)||USe(e)||YU(e)||zSe()}function zSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YU(e,t){if(e){if(typeof e=="string")return z_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z_(e,t)}}function USe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VSe(e){if(Array.isArray(e))return z_(e)}function z_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(r),!0).forEach(function(n){$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $e(e,t,r){return t=XU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XU(e){var t=qSe(e,"string");return Il(t)=="symbol"?t:t+""}function qSe(e,t){if(Il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WSe={xAxis:["bottom","top"],yAxis:["left","right"]},HSe={width:"100%",height:"100%"},ZU={x:0,y:0};function Mf(e){return e}var GSe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},KSe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,l=a.radius;return ee(ee(ee({},a),Pr(a.cx,a.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,u=a.angle;return ee(ee(ee({},a),Pr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return ZU},og=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat($l(l),$l(u)):l},[]);return s.length>0?s:t&&t.length&&pe(a)&&pe(i)?t.slice(a,i+1):[]};function JU(e){return e==="number"?[0,"auto"]:void 0}var U_=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,l=og(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?l:f;h=Ew(m,s.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat($l(c),[Qz(u,h)]):c},[])},yM=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=GSe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=yxe(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=U_(t,r,d,f),m=KSe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},YSe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=Xz(d,i);return n.reduce(function(v,g){var y,x=g.type.defaultProps!==void 0?ee(ee({},g.type.defaultProps),g.props):g.props,b=x.type,w=x.dataKey,j=x.allowDataOverflow,_=x.allowDuplicatedCategory,S=x.scale,N=x.ticks,T=x.includeHidden,C=x[s];if(v[C])return v;var A=og(t.data,{graphicalItems:a.filter(function(Y){var q,oe=s in Y.props?Y.props[s]:(q=Y.type.defaultProps)===null||q===void 0?void 0:q[s];return oe===C}),dataStartIndex:c,dataEndIndex:u}),P=A.length,E,R,O;wSe(x.domain,j,b)&&(E=l_(x.domain,null,j),m&&(b==="number"||S!=="auto")&&(O=Yc(A,w,"category")));var M=JU(b);if(!E||E.length===0){var D,I=(D=x.domain)!==null&&D!==void 0?D:M;if(w){if(E=Yc(A,w,b),b==="category"&&m){var F=cde(E);_&&F?(R=E,E=ym(0,P)):_||(E=R2(I,E,g).reduce(function(Y,q){return Y.indexOf(q)>=0?Y:[].concat($l(Y),[q])},[]))}else if(b==="category")_?E=E.filter(function(Y){return Y!==""&&!ft(Y)}):E=R2(I,E,g).reduce(function(Y,q){return Y.indexOf(q)>=0||q===""||ft(q)?Y:[].concat($l(Y),[q])},[]);else if(b==="number"){var $=_xe(A,a.filter(function(Y){var q,oe,me=s in Y.props?Y.props[s]:(q=Y.type.defaultProps)===null||q===void 0?void 0:q[s],xe="hide"in Y.props?Y.props.hide:(oe=Y.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return me===C&&(T||!xe)}),w,i,d);$&&(E=$)}m&&(b==="number"||S!=="auto")&&(O=Yc(A,w,"category"))}else m?E=ym(0,P):l&&l[C]&&l[C].hasStack&&b==="number"?E=h==="expand"?[0,1]:Jz(l[C].stackGroups,c,u):E=Yz(A,a.filter(function(Y){var q=s in Y.props?Y.props[s]:Y.type.defaultProps[s],oe="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return q===C&&(T||!oe)}),b,d,!0);if(b==="number")E=F_(f,E,C,i,N),I&&(E=l_(I,E,j));else if(b==="category"&&I){var V=I,X=E.every(function(Y){return V.indexOf(Y)>=0});X&&(E=V)}}return ee(ee({},v),{},$e({},C,ee(ee({},x),{},{axisType:i,domain:E,categoricalDomain:O,duplicateDomain:R,originalDomain:(y=x.domain)!==null&&y!==void 0?y:M,isCategorical:m,layout:d})))},{})},XSe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=og(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,v=Xz(d,i),g=-1;return n.reduce(function(y,x){var b=x.type.defaultProps!==void 0?ee(ee({},x.type.defaultProps),x.props):x.props,w=b[s],j=JU("number");if(!y[w]){g++;var _;return v?_=ym(0,m):l&&l[w]&&l[w].hasStack?(_=Jz(l[w].stackGroups,c,u),_=F_(f,_,w,i)):(_=l_(j,Yz(h,n.filter(function(S){var N,T,C=s in S.props?S.props[s]:(N=S.type.defaultProps)===null||N===void 0?void 0:N[s],A="hide"in S.props?S.props.hide:(T=S.type.defaultProps)===null||T===void 0?void 0:T.hide;return C===w&&!A}),"number",d),a.defaultProps.allowDataOverflow),_=F_(f,_,w,i)),ee(ee({},y),{},$e({},w,ee(ee({axisType:i},a.defaultProps),{},{hide:!0,orientation:In(WSe,"".concat(i,".").concat(g%2),null),domain:_,originalDomain:j,isCategorical:v,layout:d})))}return y},{})},ZSe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=ha(d,i),m={};return h&&h.length?m=YSe(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(m=XSe(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},JSe=function(t){var r=Ii(t),n=ni(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:aS(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:om(r,n)}},vM=function(t){var r=t.children,n=t.defaultShowTooltip,a=sn(r,El),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},QSe=function(t){return!t||!t.length?!1:t.some(function(r){var n=ii(r&&r.type);return n&&n.indexOf("Bar")>=0})},xM=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},eNe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=sn(f,El),v=sn(f,Fs),g=Object.keys(c).reduce(function(_,S){var N=c[S],T=N.orientation;return!N.mirror&&!N.hide?ee(ee({},_),{},$e({},T,_[T]+N.width)):_},{left:h.left||0,right:h.right||0}),y=Object.keys(s).reduce(function(_,S){var N=s[S],T=N.orientation;return!N.mirror&&!N.hide?ee(ee({},_),{},$e({},T,In(_,"".concat(T))+N.height)):_},{top:h.top||0,bottom:h.bottom||0}),x=ee(ee({},y),g),b=x.bottom;m&&(x.bottom+=m.props.height||El.defaultProps.height),v&&r&&(x=bxe(x,a,n,r));var w=u-x.left-x.right,j=d-x.top-x.bottom;return ee(ee({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(j,0)})},tNe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},rNe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(x,b){var w=b.graphicalItems,j=b.stackGroups,_=b.offset,S=b.updateId,N=b.dataStartIndex,T=b.dataEndIndex,C=x.barSize,A=x.layout,P=x.barGap,E=x.barCategoryGap,R=x.maxBarSize,O=xM(A),M=O.numericAxisName,D=O.cateAxisName,I=QSe(w),F=[];return w.forEach(function($,V){var X=og(x.data,{graphicalItems:[$],dataStartIndex:N,dataEndIndex:T}),Y=$.type.defaultProps!==void 0?ee(ee({},$.type.defaultProps),$.props):$.props,q=Y.dataKey,oe=Y.maxBarSize,me=Y["".concat(M,"Id")],xe=Y["".concat(D,"Id")],te={},Se=c.reduce(function(L,U){var H=b["".concat(U.axisType,"Map")],fe=Y["".concat(U.axisType,"Id")];H&&H[fe]||U.axisType==="zAxis"||no();var de=H[fe];return ee(ee({},L),{},$e($e({},U.axisType,de),"".concat(U.axisType,"Ticks"),ni(de)))},te),re=Se[D],ae=Se["".concat(D,"Ticks")],Q=j&&j[me]&&j[me].hasStack&&Mxe($,j[me].stackGroups),K=ii($.type).indexOf("Bar")>=0,Te=om(re,ae),Z=[],G=I&&vxe({barSize:C,stackGroups:j,totalSize:tNe(Se,D)});if(K){var se,be,Ie=ft(oe)?R:oe,Ye=(se=(be=om(re,ae,!0))!==null&&be!==void 0?be:Ie)!==null&&se!==void 0?se:0;Z=xxe({barGap:P,barCategoryGap:E,bandSize:Ye!==Te?Ye:Te,sizeList:G[xe],maxBarSize:Ie}),Ye!==Te&&(Z=Z.map(function(L){return ee(ee({},L),{},{position:ee(ee({},L.position),{},{offset:L.position.offset-Ye/2})})}))}var et=$&&$.type&&$.type.getComposedData;et&&F.push({props:ee(ee({},et(ee(ee({},Se),{},{displayedData:X,props:x,dataKey:q,item:$,bandSize:Te,barPosition:Z,offset:_,stackedData:Q,layout:A,dataStartIndex:N,dataEndIndex:T}))),{},$e($e($e({key:$.key||"item-".concat(V)},M,Se[M]),D,Se[D]),"animationId",S)),childIndex:wde($,x.children),item:$})}),F},m=function(x,b){var w=x.props,j=x.dataStartIndex,_=x.dataEndIndex,S=x.updateId;if(!KA({props:w}))return null;var N=w.children,T=w.layout,C=w.stackOffset,A=w.data,P=w.reverseStackOrder,E=xM(T),R=E.numericAxisName,O=E.cateAxisName,M=ha(N,n),D=Oxe(A,M,"".concat(R,"Id"),"".concat(O,"Id"),C,P),I=c.reduce(function(Y,q){var oe="".concat(q.axisType,"Map");return ee(ee({},Y),{},$e({},oe,ZSe(w,ee(ee({},q),{},{graphicalItems:M,stackGroups:q.axisType===R&&D,dataStartIndex:j,dataEndIndex:_}))))},{}),F=eNe(ee(ee({},I),{},{props:w,graphicalItems:M}),b?.legendBBox);Object.keys(I).forEach(function(Y){I[Y]=d(w,I[Y],F,Y.replace("Map",""),r)});var $=I["".concat(O,"Map")],V=JSe($),X=h(w,ee(ee({},I),{},{dataStartIndex:j,dataEndIndex:_,updateId:S,graphicalItems:M,stackGroups:D,offset:F}));return ee(ee({formattedGraphicalItems:X,graphicalItems:M,offset:F,stackGroups:D},V),I)},v=(function(y){function x(b){var w,j,_;return MSe(this,x),_=$Se(this,x,[b]),$e(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$e(_,"accessibilityManager",new bSe),$e(_,"handleLegendBBoxUpdate",function(S){if(S){var N=_.state,T=N.dataStartIndex,C=N.dataEndIndex,A=N.updateId;_.setState(ee({legendBBox:S},m({props:_.props,dataStartIndex:T,dataEndIndex:C,updateId:A},ee(ee({},_.state),{},{legendBBox:S}))))}}),$e(_,"handleReceiveSyncEvent",function(S,N,T){if(_.props.syncId===S){if(T===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(N)}}),$e(_,"handleBrushChange",function(S){var N=S.startIndex,T=S.endIndex;if(N!==_.state.dataStartIndex||T!==_.state.dataEndIndex){var C=_.state.updateId;_.setState(function(){return ee({dataStartIndex:N,dataEndIndex:T},m({props:_.props,dataStartIndex:N,dataEndIndex:T,updateId:C},_.state))}),_.triggerSyncEvent({dataStartIndex:N,dataEndIndex:T})}}),$e(_,"handleMouseEnter",function(S){var N=_.getMouseInfo(S);if(N){var T=ee(ee({},N),{},{isTooltipActive:!0});_.setState(T),_.triggerSyncEvent(T);var C=_.props.onMouseEnter;Je(C)&&C(T,S)}}),$e(_,"triggeredAfterMouseMove",function(S){var N=_.getMouseInfo(S),T=N?ee(ee({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(T),_.triggerSyncEvent(T);var C=_.props.onMouseMove;Je(C)&&C(T,S)}),$e(_,"handleItemMouseEnter",function(S){_.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),$e(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),$e(_,"handleMouseMove",function(S){S.persist(),_.throttleTriggeredAfterMouseMove(S)}),$e(_,"handleMouseLeave",function(S){_.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};_.setState(N),_.triggerSyncEvent(N);var T=_.props.onMouseLeave;Je(T)&&T(N,S)}),$e(_,"handleOuterEvent",function(S){var N=bde(S),T=In(_.props,"".concat(N));if(N&&Je(T)){var C,A;/.*touch.*/i.test(N)?A=_.getMouseInfo(S.changedTouches[0]):A=_.getMouseInfo(S),T((C=A)!==null&&C!==void 0?C:{},S)}}),$e(_,"handleClick",function(S){var N=_.getMouseInfo(S);if(N){var T=ee(ee({},N),{},{isTooltipActive:!0});_.setState(T),_.triggerSyncEvent(T);var C=_.props.onClick;Je(C)&&C(T,S)}}),$e(_,"handleMouseDown",function(S){var N=_.props.onMouseDown;if(Je(N)){var T=_.getMouseInfo(S);N(T,S)}}),$e(_,"handleMouseUp",function(S){var N=_.props.onMouseUp;if(Je(N)){var T=_.getMouseInfo(S);N(T,S)}}),$e(_,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),$e(_,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseDown(S.changedTouches[0])}),$e(_,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseUp(S.changedTouches[0])}),$e(_,"handleDoubleClick",function(S){var N=_.props.onDoubleClick;if(Je(N)){var T=_.getMouseInfo(S);N(T,S)}}),$e(_,"handleContextMenu",function(S){var N=_.props.onContextMenu;if(Je(N)){var T=_.getMouseInfo(S);N(T,S)}}),$e(_,"triggerSyncEvent",function(S){_.props.syncId!==void 0&&s0.emit(o0,_.props.syncId,S,_.eventEmitterSymbol)}),$e(_,"applySyncEvent",function(S){var N=_.props,T=N.layout,C=N.syncMethod,A=_.state.updateId,P=S.dataStartIndex,E=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)_.setState(ee({dataStartIndex:P,dataEndIndex:E},m({props:_.props,dataStartIndex:P,dataEndIndex:E,updateId:A},_.state)));else if(S.activeTooltipIndex!==void 0){var R=S.chartX,O=S.chartY,M=S.activeTooltipIndex,D=_.state,I=D.offset,F=D.tooltipTicks;if(!I)return;if(typeof C=="function")M=C(F,S);else if(C==="value"){M=-1;for(var $=0;$<F.length;$++)if(F[$].value===S.activeLabel){M=$;break}}var V=ee(ee({},I),{},{x:I.left,y:I.top}),X=Math.min(R,V.x+V.width),Y=Math.min(O,V.y+V.height),q=F[M]&&F[M].value,oe=U_(_.state,_.props.data,M),me=F[M]?{x:T==="horizontal"?F[M].coordinate:X,y:T==="horizontal"?Y:F[M].coordinate}:ZU;_.setState(ee(ee({},S),{},{activeLabel:q,activeCoordinate:me,activePayload:oe,activeTooltipIndex:M}))}else _.setState(S)}),$e(_,"renderCursor",function(S){var N,T=_.state,C=T.isTooltipActive,A=T.activeCoordinate,P=T.activePayload,E=T.offset,R=T.activeTooltipIndex,O=T.tooltipAxisBandSize,M=_.getTooltipEventType(),D=(N=S.props.active)!==null&&N!==void 0?N:C,I=_.props.layout,F=S.key||"_recharts-cursor";return k.createElement(TSe,{key:F,activeCoordinate:A,activePayload:P,activeTooltipIndex:R,chartName:r,element:S,isActive:D,layout:I,offset:E,tooltipAxisBandSize:O,tooltipEventType:M})}),$e(_,"renderPolarAxis",function(S,N,T){var C=In(S,"type.axisType"),A=In(_.state,"".concat(C,"Map")),P=S.type.defaultProps,E=P!==void 0?ee(ee({},P),S.props):S.props,R=A&&A[E["".concat(C,"Id")]];return p.cloneElement(S,ee(ee({},R),{},{className:it(C,R.className),key:S.key||"".concat(N,"-").concat(T),ticks:ni(R,!0)}))}),$e(_,"renderPolarGrid",function(S){var N=S.props,T=N.radialLines,C=N.polarAngles,A=N.polarRadius,P=_.state,E=P.radiusAxisMap,R=P.angleAxisMap,O=Ii(E),M=Ii(R),D=M.cx,I=M.cy,F=M.innerRadius,$=M.outerRadius;return p.cloneElement(S,{polarAngles:Array.isArray(C)?C:ni(M,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(A)?A:ni(O,!0).map(function(V){return V.coordinate}),cx:D,cy:I,innerRadius:F,outerRadius:$,key:S.key||"polar-grid",radialLines:T})}),$e(_,"renderLegend",function(){var S=_.state.formattedGraphicalItems,N=_.props,T=N.children,C=N.width,A=N.height,P=_.props.margin||{},E=C-(P.left||0)-(P.right||0),R=Gz({children:T,formattedGraphicalItems:S,legendWidth:E,legendContent:u});if(!R)return null;var O=R.item,M=pM(R,ESe);return p.cloneElement(O,ee(ee({},M),{},{chartWidth:C,chartHeight:A,margin:P,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),$e(_,"renderTooltip",function(){var S,N=_.props,T=N.children,C=N.accessibilityLayer,A=sn(T,ta);if(!A)return null;var P=_.state,E=P.isTooltipActive,R=P.activeCoordinate,O=P.activePayload,M=P.activeLabel,D=P.offset,I=(S=A.props.active)!==null&&S!==void 0?S:E;return p.cloneElement(A,{viewBox:ee(ee({},D),{},{x:D.left,y:D.top}),active:I,label:M,payload:I?O:[],coordinate:R,accessibilityLayer:C})}),$e(_,"renderBrush",function(S){var N=_.props,T=N.margin,C=N.data,A=_.state,P=A.offset,E=A.dataStartIndex,R=A.dataEndIndex,O=A.updateId;return p.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Af(_.handleBrushChange,S.props.onChange),data:C,x:pe(S.props.x)?S.props.x:P.left,y:pe(S.props.y)?S.props.y:P.top+P.height+P.brushBottom-(T.bottom||0),width:pe(S.props.width)?S.props.width:P.width,startIndex:E,endIndex:R,updateId:"brush-".concat(O)})}),$e(_,"renderReferenceElement",function(S,N,T){if(!S)return null;var C=_,A=C.clipPathId,P=_.state,E=P.xAxisMap,R=P.yAxisMap,O=P.offset,M=S.type.defaultProps||{},D=S.props,I=D.xAxisId,F=I===void 0?M.xAxisId:I,$=D.yAxisId,V=$===void 0?M.yAxisId:$;return p.cloneElement(S,{key:S.key||"".concat(N,"-").concat(T),xAxis:E[F],yAxis:R[V],viewBox:{x:O.left,y:O.top,width:O.width,height:O.height},clipPathId:A})}),$e(_,"renderActivePoints",function(S){var N=S.item,T=S.activePoint,C=S.basePoint,A=S.childIndex,P=S.isRange,E=[],R=N.props.key,O=N.item.type.defaultProps!==void 0?ee(ee({},N.item.type.defaultProps),N.item.props):N.item.props,M=O.activeDot,D=O.dataKey,I=ee(ee({index:A,dataKey:D,cx:T.x,cy:T.y,r:4,fill:kS(N.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},dt(M,!1)),Mh(M));return E.push(x.renderActiveDot(M,I,"".concat(R,"-activePoint-").concat(A))),C?E.push(x.renderActiveDot(M,ee(ee({},I),{},{cx:C.x,cy:C.y}),"".concat(R,"-basePoint-").concat(A))):P&&E.push(null),E}),$e(_,"renderGraphicChild",function(S,N,T){var C=_.filterFormatItem(S,N,T);if(!C)return null;var A=_.getTooltipEventType(),P=_.state,E=P.isTooltipActive,R=P.tooltipAxis,O=P.activeTooltipIndex,M=P.activeLabel,D=_.props.children,I=sn(D,ta),F=C.props,$=F.points,V=F.isRange,X=F.baseLine,Y=C.item.type.defaultProps!==void 0?ee(ee({},C.item.type.defaultProps),C.item.props):C.item.props,q=Y.activeDot,oe=Y.hide,me=Y.activeBar,xe=Y.activeShape,te=!!(!oe&&E&&I&&(q||me||xe)),Se={};A!=="axis"&&I&&I.props.trigger==="click"?Se={onClick:Af(_.handleItemMouseEnter,S.props.onClick)}:A!=="axis"&&(Se={onMouseLeave:Af(_.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Af(_.handleItemMouseEnter,S.props.onMouseEnter)});var re=p.cloneElement(S,ee(ee({},C.props),Se));function ae(U){return typeof R.dataKey=="function"?R.dataKey(U.payload):null}if(te)if(O>=0){var Q,K;if(R.dataKey&&!R.allowDuplicatedCategory){var Te=typeof R.dataKey=="function"?ae:"payload.".concat(R.dataKey.toString());Q=Ew($,Te,M),K=V&&X&&Ew(X,Te,M)}else Q=$?.[O],K=V&&X&&X[O];if(xe||me){var Z=S.props.activeIndex!==void 0?S.props.activeIndex:O;return[p.cloneElement(S,ee(ee(ee({},C.props),Se),{},{activeIndex:Z})),null,null]}if(!ft(Q))return[re].concat($l(_.renderActivePoints({item:C,activePoint:Q,basePoint:K,childIndex:O,isRange:V})))}else{var G,se=(G=_.getItemByXY(_.state.activeCoordinate))!==null&&G!==void 0?G:{graphicalItem:re},be=se.graphicalItem,Ie=be.item,Ye=Ie===void 0?S:Ie,et=be.childIndex,L=ee(ee(ee({},C.props),Se),{},{activeIndex:et});return[p.cloneElement(Ye,L),null,null]}return V?[re,null,null]:[re,null]}),$e(_,"renderCustomized",function(S,N,T){return p.cloneElement(S,ee(ee({key:"recharts-customized-".concat(T)},_.props),_.state))}),$e(_,"renderMap",{CartesianGrid:{handler:Mf,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:Mf},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:Mf},YAxis:{handler:Mf},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Dp("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=G3(_.triggeredAfterMouseMove,(j=b.throttleDelay)!==null&&j!==void 0?j:1e3/60),_.state={},_}return BSe(x,y),ISe(x,[{key:"componentDidMount",value:function(){var w,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,j=w.children,_=w.data,S=w.height,N=w.layout,T=sn(j,ta);if(T){var C=T.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,P=U_(this.state,_,C,A),E=this.state.tooltipTicks[C].coordinate,R=(this.state.offset.top+S)/2,O=N==="horizontal",M=O?{x:E,y:R}:{y:E,x:R},D=this.state.formattedGraphicalItems.find(function(F){var $=F.item;return $.type.name==="Scatter"});D&&(M=ee(ee({},M),D.props.points[C].tooltipPosition),P=D.props.points[C].tooltipPayload);var I={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:A,activePayload:P,activeCoordinate:M};this.setState(I),this.renderCursor(T),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var _,S;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){Pw([sn(w.children,ta)],[sn(this.props.children,ta)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=sn(this.props.children,ta);if(w&&typeof w.props.shared=="boolean"){var j=w.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var j=this.container,_=j.getBoundingClientRect(),S=ope(_),N={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},T=_.width/j.offsetWidth||1,C=this.inRange(N.chartX,N.chartY,T);if(!C)return null;var A=this.state,P=A.xAxisMap,E=A.yAxisMap,R=this.getTooltipEventType(),O=yM(this.state,this.props.data,this.props.layout,C);if(R!=="axis"&&P&&E){var M=Ii(P).scale,D=Ii(E).scale,I=M&&M.invert?M.invert(N.chartX):null,F=D&&D.invert?D.invert(N.chartY):null;return ee(ee({},N),{},{xValue:I,yValue:F},O)}return O?ee(ee({},N),O):null}},{key:"inRange",value:function(w,j){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=w/_,T=j/_;if(S==="horizontal"||S==="vertical"){var C=this.state.offset,A=N>=C.left&&N<=C.left+C.width&&T>=C.top&&T<=C.top+C.height;return A?{x:N,y:T}:null}var P=this.state,E=P.angleAxisMap,R=P.radiusAxisMap;if(E&&R){var O=Ii(E);return I2({x:N,y:T},O)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,j=this.getTooltipEventType(),_=sn(w,ta),S={};_&&j==="axis"&&(_.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Mh(this.props,this.handleOuterEvent);return ee(ee({},N),S)}},{key:"addListener",value:function(){s0.on(o0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){s0.removeListener(o0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,j,_){for(var S=this.state.formattedGraphicalItems,N=0,T=S.length;N<T;N++){var C=S[N];if(C.item===w||C.props.key===w.key||j===ii(C.item.type)&&_===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,j=this.state.offset,_=j.left,S=j.top,N=j.height,T=j.width;return k.createElement("defs",null,k.createElement("clipPath",{id:w},k.createElement("rect",{x:_,y:S,height:N,width:T})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(j,_){var S=mM(_,2),N=S[0],T=S[1];return ee(ee({},j),{},$e({},N,T.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(j,_){var S=mM(_,2),N=S[0],T=S[1];return ee(ee({},j),{},$e({},N,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(w){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(w){var j=this.state,_=j.formattedGraphicalItems,S=j.activeItem;if(_&&_.length)for(var N=0,T=_.length;N<T;N++){var C=_[N],A=C.props,P=C.item,E=P.type.defaultProps!==void 0?ee(ee({},P.type.defaultProps),P.props):P.props,R=ii(P.type);if(R==="Bar"){var O=(A.data||[]).find(function(F){return Ewe(w,F)});if(O)return{graphicalItem:C,payload:O}}else if(R==="RadialBar"){var M=(A.data||[]).find(function(F){return I2(w,F)});if(M)return{graphicalItem:C,payload:M}}else if(eg(C,S)||tg(C,S)||sd(C,S)){var D=v_e({graphicalItem:C,activeTooltipItem:S,itemData:E.data}),I=E.activeIndex===void 0?D:E.activeIndex;return{graphicalItem:ee(ee({},C),{},{childIndex:I}),payload:sd(C,S)?E.data[D]:C.props.data[D]}}}return null}},{key:"render",value:function(){var w=this;if(!KA(this))return null;var j=this.props,_=j.children,S=j.className,N=j.width,T=j.height,C=j.style,A=j.compact,P=j.title,E=j.desc,R=pM(j,ASe),O=dt(R,!1);if(A)return k.createElement(JR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement(kw,Go({},O,{width:N,height:T,title:P,desc:E}),this.renderClipPath(),XA(_,this.renderMap)));if(this.props.accessibilityLayer){var M,D;O.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,O.role=(D=this.props.role)!==null&&D!==void 0?D:"application",O.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},O.onFocus=function(){w.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return k.createElement(JR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement("div",Go({className:it("recharts-wrapper",S),style:ee({position:"relative",cursor:"default",width:N,height:T},C)},I,{ref:function($){w.container=$}}),k.createElement(kw,Go({},O,{width:N,height:T,title:P,desc:E,style:HSe}),this.renderClipPath(),XA(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(p.Component);$e(v,"displayName",r),$e(v,"defaultProps",ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),$e(v,"getDerivedStateFromProps",function(y,x){var b=y.dataKey,w=y.data,j=y.children,_=y.width,S=y.height,N=y.layout,T=y.stackOffset,C=y.margin,A=x.dataStartIndex,P=x.dataEndIndex;if(x.updateId===void 0){var E=vM(y);return ee(ee(ee({},E),{},{updateId:0},m(ee(ee({props:y},E),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:w,prevWidth:_,prevHeight:S,prevLayout:N,prevStackOffset:T,prevMargin:C,prevChildren:j})}if(b!==x.prevDataKey||w!==x.prevData||_!==x.prevWidth||S!==x.prevHeight||N!==x.prevLayout||T!==x.prevStackOffset||!rl(C,x.prevMargin)){var R=vM(y),O={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},M=ee(ee({},yM(x,w,N)),{},{updateId:x.updateId+1}),D=ee(ee(ee({},R),O),M);return ee(ee(ee({},D),m(ee({props:y},D),x)),{},{prevDataKey:b,prevData:w,prevWidth:_,prevHeight:S,prevLayout:N,prevStackOffset:T,prevMargin:C,prevChildren:j})}if(!Pw(j,x.prevChildren)){var I,F,$,V,X=sn(j,El),Y=X&&(I=(F=X.props)===null||F===void 0?void 0:F.startIndex)!==null&&I!==void 0?I:A,q=X&&($=(V=X.props)===null||V===void 0?void 0:V.endIndex)!==null&&$!==void 0?$:P,oe=Y!==A||q!==P,me=!ft(w),xe=me&&!oe?x.updateId:x.updateId+1;return ee(ee({updateId:xe},m(ee(ee({props:y},x),{},{updateId:xe,dataStartIndex:Y,dataEndIndex:q}),x)),{},{prevChildren:j,dataStartIndex:Y,dataEndIndex:q})}return null}),$e(v,"renderActiveDot",function(y,x,b){var w;return p.isValidElement(y)?w=p.cloneElement(y,x):Je(y)?w=y(x):w=k.createElement(uU,x),k.createElement(jr,{className:"recharts-active-dot",key:b},w)});var g=p.forwardRef(function(x,b){return k.createElement(v,Go({},x,{ref:b}))});return g.displayName=v.displayName,g},QU=rNe({chartName:"BarChart",GraphicalChild:Rn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Xd},{axisType:"yAxis",AxisComp:Zd}],formatAxisMap:m1e});const nNe=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"];function aNe({transactions:e}){const t=new Date().getFullYear(),[r,n]=p.useState(t.toString()),[a,i]=p.useState("none"),s=p.useMemo(()=>{const f=new Set;return e.forEach(h=>{f.add(Ac(new Date(h.date)))}),Array.from(f).sort((h,m)=>m-h)},[e]),l=p.useMemo(()=>{const f=nNe.map((h,m)=>({month:h,entrate:0,uscite:0,entrateConfronto:0,usciteConfronto:0}));return e.forEach(h=>{const m=new Date(h.date),v=Ac(m),g=yF(m),y=Number(h.amount);v===parseInt(r)&&(h.type==="entrata"?f[g].entrate+=y:f[g].uscite+=y),a!=="none"&&v===parseInt(a)&&(h.type==="entrata"?f[g].entrateConfronto+=y:f[g].usciteConfronto+=y)}),f},[e,r,a]),c=p.useMemo(()=>{const f=e.filter(y=>Ac(new Date(y.date))===parseInt(r)),h=f.filter(y=>y.type==="entrata").reduce((y,x)=>y+Number(x.amount),0),m=f.filter(y=>y.type==="uscita").reduce((y,x)=>y+Number(x.amount),0);let v=0,g=0;if(a!=="none"){const y=e.filter(x=>Ac(new Date(x.date))===parseInt(a));v=y.filter(x=>x.type==="entrata").reduce((x,b)=>x+Number(b.amount),0),g=y.filter(x=>x.type==="uscita").reduce((x,b)=>x+Number(b.amount),0)}return{entrate:h,uscite:m,bilancio:h-m,entrateConfronto:v,usciteConfronto:g,bilancioConfronto:v-g}},[e,r,a]),u=f=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(f),d=({active:f,payload:h,label:m})=>f&&h&&h.length?o.jsxs("div",{className:"bg-card border border-border rounded-lg p-3 shadow-lg",children:[o.jsx("p",{className:"font-semibold text-foreground mb-2",children:m}),h.map((v,g)=>o.jsxs("p",{className:"text-sm",style:{color:v.color},children:[v.name,": ",u(v.value)]},g))]}):null;return s.length===0?null:o.jsxs(Re,{className:"shadow-card mb-6",children:[o.jsx(We,{className:"pb-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(m0,{className:"w-5 h-5 text-[#067d1c]"}),o.jsx(He,{className:"text-lg text-[#067d1c]",children:"Andamento Annuale"})]}),o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Anno:"}),o.jsxs(St,{value:r,onValueChange:n,children:[o.jsx(wt,{className:"w-[100px] text-primary border-primary/30 hover:bg-primary/10",children:o.jsx(Nt,{})}),o.jsx(_t,{children:s.map(f=>o.jsx(Ae,{value:f.toString(),children:f},f))})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Confronta:"}),o.jsxs(St,{value:a,onValueChange:i,children:[o.jsx(wt,{className:"w-[100px] text-primary border-primary/30 hover:bg-primary/10",children:o.jsx(Nt,{placeholder:"Nessuno"})}),o.jsxs(_t,{children:[o.jsx(Ae,{value:"none",children:"Nessuno"}),s.filter(f=>f.toString()!==r).map(f=>o.jsx(Ae,{value:f.toString(),children:f},f))]})]})]})]})]})}),o.jsxs(De,{children:[o.jsx("div",{className:"h-[300px] w-full mb-6",children:o.jsx(K3,{width:"100%",height:"100%",children:o.jsxs(QU,{data:l,margin:{top:10,right:10,left:-10,bottom:0},children:[o.jsx(FU,{strokeDasharray:"3 3",className:"opacity-30"}),o.jsx(Xd,{dataKey:"month",tick:{fontSize:12},tickLine:!1,axisLine:!1}),o.jsx(Zd,{tick:{fontSize:11},tickFormatter:f=>`${f/1e3}k`,tickLine:!1,axisLine:!1}),o.jsx(ta,{content:o.jsx(d,{})}),o.jsx(Fs,{iconType:"circle",wrapperStyle:{paddingTop:10}}),o.jsx(Rn,{dataKey:"entrate",name:`Entrate ${r}`,fill:"hsl(160, 60%, 35%)",radius:[4,4,0,0]}),o.jsx(Rn,{dataKey:"uscite",name:`Uscite ${r}`,fill:"hsl(16, 80%, 55%)",radius:[4,4,0,0]}),a!=="none"&&o.jsxs(o.Fragment,{children:[o.jsx(Rn,{dataKey:"entrateConfronto",name:`Entrate ${a}`,fill:"hsl(160, 60%, 55%)",radius:[4,4,0,0],opacity:.6}),o.jsx(Rn,{dataKey:"usciteConfronto",name:`Uscite ${a}`,fill:"hsl(16, 80%, 70%)",radius:[4,4,0,0],opacity:.6})]})]})})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-income/10 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(wd,{className:"w-4 h-4 text-income"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Entrate ",r]})]}),o.jsx("p",{className:"text-xl font-bold text-income",children:u(c.entrate)}),a!=="none"&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a,": ",u(c.entrateConfronto)]})]}),o.jsxs("div",{className:"bg-expense/10 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(bd,{className:"w-4 h-4 text-expense"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Uscite ",r]})]}),o.jsx("p",{className:"text-xl font-bold text-expense",children:u(c.uscite)}),a!=="none"&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a,": ",u(c.usciteConfronto)]})]}),o.jsxs("div",{className:`rounded-lg p-4 ${c.bilancio>=0?"bg-income/10":"bg-expense/10"}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(m0,{className:"w-4 h-4 text-primary"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Bilancio ",r]})]}),o.jsxs("p",{className:`text-xl font-bold ${c.bilancio>=0?"text-income":"text-expense"}`,children:[c.bilancio>=0?"+":"",u(c.bilancio)]}),a!=="none"&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a,": ",c.bilancioConfronto>=0?"+":"",u(c.bilancioConfronto)]})]})]})]})]})}function eV({type:e,records:t,startDate:r,endDate:n,onStartDateChange:a,onEndDateChange:i}){const{isPro:s,showGate:l,featureName:c,checkProFeature:u,setShowGate:d}=_p(),f=C=>C?ye(C,"dd/MM/yyyy"):"",h=C=>e==="transactions"?C.date:C.due_date,m=C=>e==="transactions"?C.description||"":C.title,v=C=>C.amount!=null?Number(C.amount):0,g=p.useMemo(()=>{let C=[...t];return C=C.filter(A=>{const P=new Date(h(A));return!(r&&Xs(P,fa(r))||n&&sp(P,sj(n)))}),e==="reminders"&&(C=C.filter(A=>!A.completed)),C.sort((A,P)=>{const E=new Date(h(A)).getTime(),R=new Date(h(P)).getTime();return E!==R?E-R:v(P)-v(A)}),C},[t,r,n,e]),y=C=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(C),x=()=>{const C={};return g.forEach(A=>{const P=A.category_id||"altro",E=A.categories?.name||"Altro";C[P]||(C[P]={items:[],categoryName:E,total:0,entrateTotal:0,usciteTotal:0}),C[P].items.push(A),e==="transactions"?A.type==="entrata"?C[P].entrateTotal+=v(A):C[P].usciteTotal+=v(A):C[P].total+=v(A)}),Object.values(C).sort((A,P)=>A.categoryName.localeCompare(P.categoryName))},b=()=>{if(!u("Export e Stampa"))return;if(g.length===0){W.error("Nessun dato nel periodo selezionato");return}const C=x(),A=e==="transactions";let P=0,E=0,R=0;A?g.forEach(D=>{D.type==="entrata"?P+=v(D):E+=v(D)}):R=g.reduce((D,I)=>D+v(I),0);const O=`dal ${f(r)} al ${f(n)}`,M=window.open("","_blank");M&&(M.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>Report ${A?"Transazioni":"Scadenze"}</title>
          <style>
            * { box-sizing: border-box; margin: 0; padding: 0; }
            body { font-family: Arial, sans-serif; padding: 20px; font-size: 11px; }
            h1 { text-align: center; margin-bottom: 5px; font-size: 18px; color: #333; }
            .period { text-align: center; margin-bottom: 20px; font-size: 12px; color: #555; padding: 8px; background: #f5f5f5; border-radius: 4px; }
            .period span { font-weight: bold; }
            .category-header { color: #067d1c; margin-top: 25px; padding: 8px 0; border-top: 2px solid #067d1c; border-bottom: 1px solid #ddd; font-size: 13px; font-weight: bold; }
            table { width: 100%; border-collapse: collapse; margin-top: 10px; margin-bottom: 5px; }
            th, td { border: 1px solid #ddd; padding: 6px 8px; text-align: left; font-size: 10px; }
            th { background-color: #f5f5f5; font-weight: bold; }
            .amount { text-align: right; }
            .entrata { color: #22c55e; }
            .uscita { color: #ef4444; }
            .category-total { margin: 10px 0 25px 0; padding: 8px 12px; background: #f0f9f0; border: 1px solid #c8e6c9; border-radius: 4px; font-size: 11px; text-align: right; }
            .category-section { page-break-inside: avoid; margin-bottom: 15px; }
            .grand-total { margin-top: 30px; padding: 15px; background: #f5f5f5; border: 2px solid #333; border-radius: 4px; font-size: 12px; }
            .grand-total-row { display: flex; justify-content: space-between; margin: 5px 0; }
            @media print {
              body { padding: 10px; }
              h1 { font-size: 16px; }
            }
          </style>
        </head>
        <body>
          <h1> Report ${A?"Transazioni":"Scadenze"}</h1>
          <p class="period">
            Periodo: <span>${O}</span>  Generato il: ${ye(new Date,"dd/MM/yyyy HH:mm")}
          </p>
          
          ${C.map(D=>{const I=A?D.entrateTotal-D.usciteTotal:D.total;return`
              <div class="category-section">
                <div class="category-header"> CATEGORIA: ${D.categoryName}</div>
                <table>
                  <thead>
                    <tr>
                      <th>Data</th>
                      <th>${A?"Descrizione":"Titolo"}</th>
                      ${A?"<th>Tipo</th>":""}
                      <th class="amount">Importo ()</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${D.items.map(F=>{const $=F;return`
                        <tr>
                          <td>${ye(new Date(h(F)),"dd/MM/yyyy")}</td>
                          <td>${m(F)}</td>
                          ${A?`<td>${$.type==="entrata"?"Entrata":"Uscita"}</td>`:""}
                          <td class="amount ${A?$.type:""}">${y(v(F))}</td>
                        </tr>
                      `}).join("")}
                  </tbody>
                </table>
                <div class="category-total">
                  Totale categoria: 
                  ${A?`
                    ${D.entrateTotal>0?`<strong class="entrata">+${y(D.entrateTotal)}</strong>`:""}
                    ${D.usciteTotal>0?`<strong class="uscita">-${y(D.usciteTotal)}</strong>`:""}
                    <strong>= ${I>=0?"+":""}${y(I)}</strong>
                  `:`<strong>${y(D.total)}</strong>`}
                </div>
              </div>
            `}).join("")}
          
          <div class="grand-total">
            ${A?`
              <div class="grand-total-row"><span>Totale Entrate:</span> <strong class="entrata">${y(P)}</strong></div>
              <div class="grand-total-row"><span>Totale Uscite:</span> <strong class="uscita">${y(E)}</strong></div>
              <div class="grand-total-row" style="border-top: 1px solid #333; padding-top: 8px; margin-top: 8px;">
                <span><strong>TOTALE GENERALE:</strong></span> 
                <strong class="${P-E>=0?"entrata":"uscita"}">${y(P-E)}</strong>
              </div>
            `:`
              <div class="grand-total-row"><strong>TOTALE GENERALE: ${y(R)}</strong></div>
            `}
          </div>
        </body>
      </html>
    `),M.document.close(),setTimeout(()=>M.print(),300),W.success("Stampa avviata"))},w=()=>{if(!u("Export CSV"))return;if(g.length===0){W.error("Nessun dato da esportare");return}const C=x(),A=e==="transactions",P=`dal ${f(r)} al ${f(n)}`;let E=`Report ${A?"Transazioni":"Scadenze"} - Periodo: ${P}
`;E+=`Generato il ${ye(new Date,"dd/MM/yyyy HH:mm")}

`,C.forEach(O=>{E+=`--- CATEGORIA: ${O.categoryName} ---
`,E+=A?`Data;Tipo;Descrizione;Importo
`:`Data;Titolo;Importo
`,O.items.forEach(M=>{const D=M;A?E+=`${ye(new Date(h(M)),"dd/MM/yyyy")};${D.type==="entrata"?"Entrata":"Uscita"};"${m(M)}";${v(M).toFixed(2).replace(".",",")}
`:E+=`${ye(new Date(h(M)),"dd/MM/yyyy")};"${m(M)}";${v(M).toFixed(2).replace(".",",")}
`}),A?(E+=`Subtotale Entrate: ${O.entrateTotal.toFixed(2).replace(".",",")} EUR
`,E+=`Subtotale Uscite: ${O.usciteTotal.toFixed(2).replace(".",",")} EUR
`):E+=`Subtotale: ${O.total.toFixed(2).replace(".",",")} EUR
`,E+=`
`});const R=A?g.filter(O=>O.type==="entrata").reduce((O,M)=>O+v(M),0)-g.filter(O=>O.type==="uscita").reduce((O,M)=>O+v(M),0):g.reduce((O,M)=>O+v(M),0);E+=`
TOTALE GENERALE: ${R.toFixed(2).replace(".",",")} EUR
`,N(E,`report_${e}_${ye(new Date,"yyyy-MM-dd")}.csv`,"text/csv;charset=utf-8"),W.success("CSV esportato")},j=()=>{u("Export PDF")&&(b(),W.info("Usa 'Salva come PDF' nel dialogo di stampa"))},_=()=>{if(!u("Export Excel"))return;if(g.length===0){W.error("Nessun dato da esportare");return}const C=x(),A=e==="transactions",P=`dal ${f(r)} al ${f(n)}`;let E=`"Report ${A?"Transazioni":"Scadenze"}"
`;E+=`"Periodo: ${P}"
`,E+=`"Generato il ${ye(new Date,"dd/MM/yyyy HH:mm")}"

`,C.forEach(D=>{E+=`"CATEGORIA: ${D.categoryName}"
`,E+=A?`"Data";"Tipo";"Descrizione";"Importo ()"
`:`"Data";"Titolo";"Importo ()"
`,D.items.forEach(I=>{const F=I;A?E+=`"${ye(new Date(h(I)),"dd/MM/yyyy")}";"${F.type==="entrata"?"Entrata":"Uscita"}";"${m(I)}";"${v(I).toFixed(2).replace(".",",")}"
`:E+=`"${ye(new Date(h(I)),"dd/MM/yyyy")}";"${m(I)}";"${v(I).toFixed(2).replace(".",",")}"
`}),A?(E+=`"";"Subtotale Entrate";"";"+${D.entrateTotal.toFixed(2).replace(".",",")}"
`,E+=`"";"Subtotale Uscite";"";"${D.usciteTotal.toFixed(2).replace(".",",")}"
`):E+=`"";"Subtotale";"${D.total.toFixed(2).replace(".",",")}"
`,E+=`
`});let R=0,O=0,M=0;A?(g.forEach(D=>{D.type==="entrata"?R+=v(D):O+=v(D)}),E+=`
"";"TOTALE ENTRATE";"";"+${R.toFixed(2).replace(".",",")}"
`,E+=`"";"TOTALE USCITE";"";"${O.toFixed(2).replace(".",",")}"
`,E+=`"";"SALDO GENERALE";"";"${(R-O).toFixed(2).replace(".",",")}"
`):(M=g.reduce((D,I)=>D+v(I),0),E+=`
"";"TOTALE GENERALE";"${M.toFixed(2).replace(".",",")}"
`),N(E,`report_${e}_${ye(new Date,"yyyy-MM-dd")}.xls`,"application/vnd.ms-excel;charset=utf-8"),W.success("Excel esportato")},S=()=>{if(!u("Export JSON"))return;if(g.length===0){W.error("Nessun dato da esportare");return}const C=e==="transactions",A=x();let P=0,E=0,R=0;C?g.forEach(M=>{M.type==="entrata"?P+=v(M):E+=v(M)}):R=g.reduce((M,D)=>M+v(D),0);const O={report:{tipo:C?"Transazioni":"Scadenze",periodo:{dal:r?ye(r,"yyyy-MM-dd"):null,al:n?ye(n,"yyyy-MM-dd"):null},generato_il:ye(new Date,"yyyy-MM-dd'T'HH:mm:ss")},categorie:A.map(M=>({nome:M.categoryName,voci:M.items.map(D=>{const I=D;return C?{id:D.id,data:ye(new Date(h(D)),"yyyy-MM-dd"),tipo:I.type,descrizione:m(D),importo:v(D)}:{id:D.id,scadenza:ye(new Date(h(D)),"yyyy-MM-dd"),titolo:m(D),importo:v(D)}}),totale:C?{entrate:M.entrateTotal,uscite:M.usciteTotal,saldo:M.entrateTotal-M.usciteTotal}:M.total})),totali:C?{entrate:P,uscite:E,saldo:P-E}:{totale:R}};N(JSON.stringify(O,null,2),`report_${e}_${ye(new Date,"yyyy-MM-dd")}.json`,"application/json;charset=utf-8"),W.success("JSON esportato")},N=(C,A,P)=>{const E=new Blob(["\uFEFF"+C],{type:P}),R=URL.createObjectURL(E),O=document.createElement("a");O.href=R,O.download=A,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(R)},T=()=>{a(void 0),i(void 0)};return o.jsxs("div",{className:"flex flex-wrap items-end gap-4 p-4 bg-card rounded-lg border shadow-sm mb-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Me,{htmlFor:"from-date",className:"text-sm font-medium text-muted-foreground",children:"Dal"}),o.jsxs(fi,{children:[o.jsx(hi,{asChild:!0,children:o.jsxs(z,{id:"from-date",variant:"outline",size:"sm",className:J("w-[140px] justify-start text-left font-normal text-primary border-primary/30 hover:bg-primary/10",!r&&"text-muted-foreground"),children:[o.jsx(Gt,{className:"mr-2 h-4 w-4 text-[#067d1c]"}),r?ye(r,"dd/MM/yyyy"):"Seleziona"]})}),o.jsx(La,{className:"w-auto p-0",align:"start",children:o.jsx(ya,{mode:"single",selected:r,onSelect:a,initialFocus:!0,className:"pointer-events-auto"})})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Me,{htmlFor:"to-date",className:"text-sm font-medium text-muted-foreground",children:"Al"}),o.jsxs(fi,{children:[o.jsx(hi,{asChild:!0,children:o.jsxs(z,{id:"to-date",variant:"outline",size:"sm",className:J("w-[140px] justify-start text-left font-normal text-primary border-primary/30 hover:bg-primary/10",!n&&"text-muted-foreground"),children:[o.jsx(Gt,{className:"mr-2 h-4 w-4 text-[#067d1c]"}),n?ye(n,"dd/MM/yyyy"):"Seleziona"]})}),o.jsx(La,{className:"w-auto p-0",align:"start",children:o.jsx(ya,{mode:"single",selected:n,onSelect:i,initialFocus:!0,className:"pointer-events-auto"})})]})]}),(r||n)&&o.jsx(z,{variant:"ghost",size:"sm",onClick:T,className:"h-9 px-2 text-muted-foreground hover:text-foreground self-end",children:o.jsx(ma,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap ml-auto",children:[o.jsxs(z,{onClick:b,variant:"outline",size:"sm",className:J("gap-2",s?"text-primary border-primary/30 hover:bg-primary/10":"border-yellow-500/50 text-yellow-600"),children:[!s&&o.jsx(er,{className:"h-3 w-3 text-yellow-500"}),o.jsx(Jf,{className:"h-4 w-4"}),"Stampa"]}),o.jsxs(z,{onClick:w,variant:"outline",size:"sm",className:J("gap-2",s?"text-primary border-primary/30 hover:bg-primary/10":"border-yellow-500/50 text-yellow-600"),children:[!s&&o.jsx(er,{className:"h-3 w-3 text-yellow-500"}),o.jsx($r,{className:"h-4 w-4"}),"CSV"]}),o.jsxs(z,{onClick:_,variant:"outline",size:"sm",className:J("gap-2",s?"text-primary border-primary/30 hover:bg-primary/10":"border-yellow-500/50 text-yellow-600"),children:[!s&&o.jsx(er,{className:"h-3 w-3 text-yellow-500"}),o.jsx(W6,{className:"h-4 w-4"}),"Excel"]}),o.jsxs(z,{onClick:S,variant:"outline",size:"sm",className:J("gap-2",s?"text-primary border-primary/30 hover:bg-primary/10":"border-yellow-500/50 text-yellow-600"),children:[!s&&o.jsx(er,{className:"h-3 w-3 text-yellow-500"}),o.jsx(UW,{className:"h-4 w-4"}),"JSON"]}),o.jsxs(z,{onClick:j,variant:"outline",size:"sm",className:J("gap-2",s?"text-primary border-primary/30 hover:bg-primary/10":"border-yellow-500/50 text-yellow-600"),children:[!s&&o.jsx(er,{className:"h-3 w-3 text-yellow-500"}),o.jsx(qW,{className:"h-4 w-4"}),"PDF"]})]}),o.jsx(jp,{open:l,onOpenChange:d,feature:c})]})}function tV({entityType:e,entityId:t}){const{data:r={count:0,hasPdf:!1}}=Gi({queryKey:["attachments","count",e,t],queryFn:async()=>{const{data:n,count:a,error:i}=await ie.from("attachments").select("file_type",{count:"exact"}).eq("entity_type",e).eq("entity_id",t);if(i)return{count:0,hasPdf:!1};const s=n?.some(l=>l.file_type==="application/pdf")||!1;return{count:a||0,hasPdf:s}},staleTime:3e4});return r.count===0?null:o.jsxs("div",{className:"flex items-center gap-1",title:`${r.count} allegati`,children:[r.hasPdf?o.jsx(Eu,{className:"h-4 w-4"}):o.jsx(v0,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:r.count})]})}function iNe(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var VS="ScrollArea",[rV]=Fr(VS),[sNe,qn]=rV(VS),nV=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...s}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,v]=p.useState(null),[g,y]=p.useState(null),[x,b]=p.useState(0),[w,j]=p.useState(0),[_,S]=p.useState(!1),[N,T]=p.useState(!1),C=Fe(t,P=>c(P)),A=Zl(a);return o.jsx(sNe,{scope:r,type:n,dir:A,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:_,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:N,onScrollbarYEnabledChange:T,onCornerWidthChange:b,onCornerHeightChange:j,children:o.jsx(Ce.div,{dir:A,...s,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});nV.displayName=VS;var aV="ScrollAreaViewport",iV=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,s=qn(aV,r),l=p.useRef(null),c=Fe(t,l,s.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(Ce.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});iV.displayName=aV;var Ha="ScrollAreaScrollbar",qS=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=qn(Ha,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=a,l=e.orientation==="horizontal";return p.useEffect(()=>(l?i(!0):s(!0),()=>{l?i(!1):s(!1)}),[l,i,s]),a.type==="hover"?o.jsx(oNe,{...n,ref:t,forceMount:r}):a.type==="scroll"?o.jsx(lNe,{...n,ref:t,forceMount:r}):a.type==="auto"?o.jsx(sV,{...n,ref:t,forceMount:r}):a.type==="always"?o.jsx(WS,{...n,ref:t}):null});qS.displayName=Ha;var oNe=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=qn(Ha,e.__scopeScrollArea),[i,s]=p.useState(!1);return p.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),s(!0)},d=()=>{c=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx(Sr,{present:r||i,children:o.jsx(sV,{"data-state":i?"visible":"hidden",...n,ref:t})})}),lNe=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=qn(Ha,e.__scopeScrollArea),i=e.orientation==="horizontal",s=cg(()=>c("SCROLL_END"),100),[l,c]=iNe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),p.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),s()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,s]),o.jsx(Sr,{present:r||l!=="hidden",children:o.jsx(WS,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ce(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ce(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),sV=p.forwardRef((e,t)=>{const r=qn(Ha,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,s]=p.useState(!1),l=e.orientation==="horizontal",c=cg(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;s(l?u:d)}},10);return Ll(r.viewport,c),Ll(r.content,c),o.jsx(Sr,{present:n||i,children:o.jsx(WS,{"data-state":i?"visible":"hidden",...a,ref:t})})}),WS=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=qn(Ha,e.__scopeScrollArea),i=p.useRef(null),s=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=dV(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,m){return mNe(h,s.current,l,m)}return r==="horizontal"?o.jsx(cNe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=bM(h,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?o.jsx(uNe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=bM(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),cNe=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=qn(Ha,e.__scopeScrollArea),[s,l]=p.useState(),c=p.useRef(null),u=Fe(t,c,i.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(lV,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":lg(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),hV(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Om(s.paddingLeft),paddingEnd:Om(s.paddingRight)}})}})}),uNe=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=qn(Ha,e.__scopeScrollArea),[s,l]=p.useState(),c=p.useRef(null),u=Fe(t,c,i.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(lV,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":lg(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),hV(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Om(s.paddingTop),paddingEnd:Om(s.paddingBottom)}})}})}),[dNe,oV]=rV(Ha),lV=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=qn(Ha,r),[v,g]=p.useState(null),y=Fe(t,C=>g(C)),x=p.useRef(null),b=p.useRef(""),w=m.viewport,j=n.content-n.viewport,_=Qt(d),S=Qt(c),N=cg(f,10);function T(C){if(x.current){const A=C.clientX-x.current.left,P=C.clientY-x.current.top;u({x:A,y:P})}}return p.useEffect(()=>{const C=A=>{const P=A.target;v?.contains(P)&&_(A,j)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,v,j,_]),p.useEffect(S,[n,S]),Ll(v,N),Ll(m.content,N),o.jsx(dNe,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:Qt(i),onThumbPointerUp:Qt(s),onThumbPositionChange:S,onThumbPointerDown:Qt(l),children:o.jsx(Ce.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:ce(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),x.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(C))}),onPointerMove:ce(e.onPointerMove,T),onPointerUp:ce(e.onPointerUp,C=>{const A=C.target;A.hasPointerCapture(C.pointerId)&&A.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Pm="ScrollAreaThumb",cV=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=oV(Pm,e.__scopeScrollArea);return o.jsx(Sr,{present:r||a.hasThumb,children:o.jsx(fNe,{ref:t,...n})})}),fNe=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=qn(Pm,r),s=oV(Pm,r),{onThumbPositionChange:l}=s,c=Fe(t,f=>s.onThumbChange(f)),u=p.useRef(void 0),d=cg(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=pNe(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),o.jsx(Ce.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ce(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,g=f.clientY-m.top;s.onThumbPointerDown({x:v,y:g})}),onPointerUp:ce(e.onPointerUp,s.onThumbPointerUp)})});cV.displayName=Pm;var HS="ScrollAreaCorner",uV=p.forwardRef((e,t)=>{const r=qn(HS,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(hNe,{...e,ref:t}):null});uV.displayName=HS;var hNe=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=qn(HS,r),[i,s]=p.useState(0),[l,c]=p.useState(0),u=!!(i&&l);return Ll(a.scrollbarX,()=>{const d=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(d),c(d)}),Ll(a.scrollbarY,()=>{const d=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(d),s(d)}),u?o.jsx(Ce.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Om(e){return e?parseInt(e,10):0}function dV(e,t){const r=e/t;return isNaN(r)?0:r}function lg(e){const t=dV(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function mNe(e,t,r,n="ltr"){const a=lg(r),i=a/2,s=t||i,l=a-s,c=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return fV([c,u],f)(e)}function bM(e,t,r="ltr"){const n=lg(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,s=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,s]:[s*-1,0],u=Tu(e,c);return fV([0,s],[0,l])(u)}function fV(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function hV(e,t){return e>0&&e<t}var pNe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},s=r.left!==i.left,l=r.top!==i.top;(s||l)&&t(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function cg(e,t){const r=Qt(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Ll(e,t){const r=Qt(t);ar(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var mV=nV,gNe=iV,yNe=uV;const ug=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(mV,{ref:n,className:J("relative overflow-hidden",e),...r,children:[o.jsx(gNe,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(pV,{}),o.jsx(yNe,{})]}));ug.displayName=mV.displayName;const pV=p.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(qS,{ref:n,orientation:t,className:J("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(cV,{className:"relative flex-1 rounded-full bg-border"})}));pV.displayName=qS.displayName;const wM=[{value:"circle",label:""},{value:"home",label:""},{value:"car",label:""},{value:"utensils",label:""},{value:"shopping-bag",label:""},{value:"heart",label:""},{value:"briefcase",label:""},{value:"plane",label:""},{value:"gift",label:""},{value:"music",label:""},{value:"book",label:""},{value:"phone",label:""},{value:"tv",label:""},{value:"gamepad",label:""},{value:"coffee",label:""},{value:"pill",label:""},{value:"graduation-cap",label:""},{value:"dumbbell",label:""},{value:"dog",label:""},{value:"baby",label:""},{value:"wallet",label:""},{value:"credit-card",label:""},{value:"piggy-bank",label:""},{value:"receipt",label:""}],vNe=["#22c55e","#ef4444","#3b82f6","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#6366f1"];function xNe({open:e,onOpenChange:t}){const{categories:r,addCategory:n,updateCategory:a,deleteCategory:i,getSubcategories:s}=Ql(),{user:l}=vt(),c=p.useRef(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,v]=p.useState(new Set),[g,y]=p.useState(!1),[x,b]=p.useState(!1),[w,j]=p.useState(!1),[_,S]=p.useState(new Set),[N,T]=p.useState(""),[C,A]=p.useState("uscita"),[P,E]=p.useState(""),[R,O]=p.useState("#6366f1"),[M,D]=p.useState(null),[I,F]=p.useState(null),$=Z=>{const G=new Set(_);G.has(Z)?G.delete(Z):G.add(Z),S(G)},V=()=>{T(""),A("uscita"),E(""),O("#6366f1"),D(null),F(null),d(null),b(!1)},X=Z=>{d(Z),T(Z.name),A(Z.type),E(Z.icon||"circle"),O(Z.color||"#6366f1"),D(Z.custom_icon_url||null),F(Z.parent_id||null),b(!1)},Y=async Z=>{const G=Z.target.files?.[0];if(!(!G||!l)){if(!G.type.startsWith("image/")){W.error("Seleziona un file immagine valido");return}if(G.size>1024*1024){W.error("L'immagine deve essere inferiore a 1MB");return}j(!0);try{const se=G.name.split(".").pop(),be=`${l.id}/${crypto.randomUUID()}.${se}`,{error:Ie}=await ie.storage.from("category-icons").upload(be,G);if(Ie)throw Ie;const{data:{publicUrl:Ye}}=ie.storage.from("category-icons").getPublicUrl(be);D(Ye),E("custom"),W.success("Icona caricata con successo")}catch(se){console.error("Error uploading icon:",se),W.error("Errore durante il caricamento dell'icona")}finally{j(!1),c.current&&(c.current.value="")}}},q=()=>{D(null),E("circle")},oe=Z=>{const G=new Set(m);G.has(Z)?G.delete(Z):G.add(Z),v(G)},me=async()=>{if(m.size!==0)try{for(const Z of m)await i.mutateAsync(Z);W.success(`${m.size} categorie eliminate`),v(new Set),y(!1),u&&m.has(u.id)&&V()}catch{W.error("Errore durante l'eliminazione")}},xe=()=>{V(),b(!0)},te=async()=>{if(!N.trim()){W.error("Inserisci un nome per la categoria");return}try{u?(await a.mutateAsync({id:u.id,name:N.trim(),type:C,icon:M?"custom":P,color:R,custom_icon_url:M,parent_id:I}),W.success("Categoria aggiornata")):(await n.mutateAsync({name:N.trim(),type:C,icon:M?"custom":P,color:R,custom_icon_url:M,parent_id:I}),W.success("Categoria aggiunta")),V()}catch{W.error("Errore durante il salvataggio")}},Se=async()=>{if(f)try{await i.mutateAsync(f),W.success("Categoria eliminata"),h(null),u?.id===f&&V()}catch{W.error("Errore durante l'eliminazione")}},re=(Z,G)=>Z==="custom"&&G?o.jsx("img",{src:G,alt:"Custom icon",className:"w-5 h-5 rounded object-cover"}):wM.find(se=>se.value===Z)?.label||"",ae=r.filter(Z=>Z.type==="entrata"&&!Z.parent_id),Q=r.filter(Z=>Z.type==="uscita"&&!Z.parent_id),K=r.filter(Z=>!Z.parent_id&&Z.type===C&&Z.id!==u?.id),Te=(Z,G=!1)=>{const se=s(Z.id),be=se.length>0,Ie=_.has(Z.id);return o.jsxs("div",{children:[o.jsxs("div",{className:J("flex items-center justify-between p-2 rounded-lg transition-colors group",G&&"ml-4 border-l-2 border-muted",u?.id===Z.id?"bg-primary/10 border border-primary/30":m.has(Z.id)?"bg-destructive/10 border border-destructive/30":"bg-secondary/50 hover:bg-secondary"),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[be&&o.jsx("button",{type:"button",onClick:Ye=>{Ye.stopPropagation(),$(Z.id)},className:"w-5 h-5 flex items-center justify-center text-muted-foreground hover:text-foreground",children:Ie?o.jsx(il,{className:"w-4 h-4"}):o.jsx(Im,{className:"w-4 h-4"})}),!be&&!G&&o.jsx("div",{className:"w-5"}),o.jsx("button",{type:"button",onClick:Ye=>{Ye.stopPropagation(),oe(Z.id)},className:J("w-5 h-5 rounded border-2 flex items-center justify-center transition-colors",m.has(Z.id)?"bg-destructive border-destructive text-destructive-foreground":"border-muted-foreground/50 hover:border-destructive"),children:m.has(Z.id)&&o.jsx(Ln,{className:"w-3 h-3"})}),o.jsxs("div",{className:"flex items-center gap-2 cursor-pointer flex-1",onClick:()=>X(Z),title:"Clicca per modificare questa categoria",children:[o.jsx("span",{className:"w-6 h-6 rounded-full flex items-center justify-center text-sm overflow-hidden",style:{backgroundColor:`${Z.color||"#6366f1"}20`},children:re(Z.icon,Z.custom_icon_url)}),o.jsx("span",{className:"text-sm font-medium",children:Z.name}),be&&o.jsxs(yt,{variant:"outline",className:"text-xs",children:[se.length," sotto"]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[be&&o.jsx(z,{variant:"ghost",size:"icon",className:"h-6 w-6 text-orange-500 hover:text-orange-600 opacity-0 group-hover:opacity-100 transition-opacity",onClick:Ye=>{Ye.stopPropagation();const et=new Set(m);se.forEach(L=>et.add(L.id)),v(et),y(!0)},title:"Elimina tutte le sottocategorie",children:o.jsx(GW,{className:"w-3 h-3"})}),o.jsx(z,{variant:"ghost",size:"icon",className:"h-6 w-6 text-primary opacity-0 group-hover:opacity-100 transition-opacity",onClick:Ye=>{Ye.stopPropagation(),X(Z)},title:"Modifica categoria",children:o.jsx(xd,{className:"w-3 h-3"})}),o.jsx(z,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive hover:text-destructive/80",onClick:Ye=>{Ye.stopPropagation(),h(Z.id)},title:"Elimina categoria",children:o.jsx(Lr,{className:"w-3 h-3"})})]})]}),be&&Ie&&o.jsx("div",{className:"mt-1 space-y-1",children:se.map(Ye=>Te(Ye,!0))})]},Z.id)};return o.jsxs(o.Fragment,{children:[o.jsx(ir,{open:e,onOpenChange:Z=>{Z||V(),t(Z)},children:o.jsxs(tr,{className:"max-w-2xl max-h-[85vh]",children:[o.jsxs(rr,{children:[o.jsx(nr,{className:"text-[#067d1c]",children:"Gestione Categorie"}),o.jsx(Xi,{children:"Aggiungi, modifica o elimina le categorie per le tue transazioni"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("h3",{className:"font-semibold text-sm",children:"Categorie esistenti"}),o.jsxs("div",{className:"flex items-center gap-2",children:[m.size>0&&o.jsxs(z,{size:"sm",variant:"destructive",onClick:()=>y(!0),className:"gap-1",children:[o.jsx(Lr,{className:"w-4 h-4"}),"Elimina (",m.size,")"]}),o.jsxs(z,{size:"sm",onClick:xe,className:"gradient-primary text-primary-foreground",children:[o.jsx(Bl,{className:"w-4 h-4 mr-1"}),"Nuova"]})]})]}),o.jsx(ug,{className:"h-[350px] pr-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"text-xs font-medium text-muted-foreground mb-2 uppercase",children:["Uscite (",Q.length,")"]}),o.jsx("div",{className:"space-y-1",children:Q.map(Z=>Te(Z))})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"text-xs font-medium text-muted-foreground mb-2 uppercase",children:["Entrate (",ae.length,")"]}),o.jsx("div",{className:"space-y-1",children:ae.map(Z=>Te(Z))})]})]})})]}),o.jsxs("div",{className:"space-y-4 border-l pl-4",children:[o.jsx("h3",{className:"font-semibold text-sm",children:u?"Modifica categoria":x?"Nuova categoria":"Seleziona una categoria"}),u||x?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"name",children:"Nome"}),o.jsx(gt,{id:"name",value:N,onChange:Z=>T(Z.target.value),placeholder:"Es: Spesa, Affitto..."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Tipo"}),o.jsxs(St,{value:C,onValueChange:Z=>{A(Z),F(null)},children:[o.jsx(wt,{children:o.jsx(Nt,{})}),o.jsxs(_t,{children:[o.jsx(Ae,{value:"uscita",children:"Uscita"}),o.jsx(Ae,{value:"entrata",children:"Entrata"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Categoria padre (opzionale)"}),o.jsxs(St,{value:I||"none",onValueChange:Z=>F(Z==="none"?null:Z),children:[o.jsx(wt,{children:o.jsx(Nt,{placeholder:"Nessuna (categoria principale)"})}),o.jsxs(_t,{children:[o.jsx(Ae,{value:"none",children:"Nessuna (categoria principale)"}),K.map(Z=>o.jsxs(Ae,{value:Z.id,children:[re(Z.icon,Z.custom_icon_url)," ",Z.name]},Z.id))]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Seleziona una categoria padre per creare una sottocategoria"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Icona"}),o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:Y,className:"hidden"}),o.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:()=>c.current?.click(),disabled:w,className:"gap-2",children:[o.jsx(qs,{className:"w-4 h-4"}),w?"Caricamento...":"Carica icona"]}),M&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg border overflow-hidden",children:o.jsx("img",{src:M,alt:"Custom icon",className:"w-full h-full object-cover"})}),o.jsx(z,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive",onClick:q,children:o.jsx(ma,{className:"w-4 h-4"})})]})]}),!M&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Oppure scegli un'icona predefinita:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:wM.map(Z=>o.jsx("button",{type:"button",className:J("w-8 h-8 rounded-lg flex items-center justify-center text-lg transition-all",P===Z.value&&!M?"bg-primary/20 ring-2 ring-primary":"bg-secondary hover:bg-secondary/80"),onClick:()=>{E(Z.value),D(null)},children:Z.label},Z.value))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Colore"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:vNe.map(Z=>o.jsx("button",{type:"button",className:J("w-8 h-8 rounded-full transition-all",R===Z?"ring-2 ring-offset-2 ring-foreground":""),style:{backgroundColor:Z},onClick:()=>O(Z)},Z))})]}),o.jsxs("div",{className:"p-4 bg-secondary/50 rounded-lg",children:[o.jsx(Me,{className:"text-xs text-muted-foreground",children:"Anteprima"}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("span",{className:"w-8 h-8 rounded-full flex items-center justify-center text-lg overflow-hidden",style:{backgroundColor:`${R}20`},children:re(M?"custom":P,M)}),o.jsx("span",{className:"font-medium",children:N||"Nome categoria"}),o.jsx(yt,{variant:"outline",className:J("text-xs",C==="entrata"?"text-income border-income/30":"text-expense border-expense/30"),children:C==="entrata"?"Entrata":"Uscita"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(z,{variant:"outline",onClick:V,className:"flex-1",children:[o.jsx(ma,{className:"w-4 h-4 mr-2"}),"Annulla"]}),o.jsxs(z,{onClick:te,disabled:n.isPending||a.isPending,className:"flex-1 gradient-primary text-primary-foreground",children:[o.jsx(Ln,{className:"w-4 h-4 mr-2"}),u?"Salva":"Aggiungi"]})]})]}):o.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground text-sm",children:'Seleziona una categoria da modificare o clicca "Nuova" per crearne una'})]})]})]})}),o.jsx(Fn,{open:!!f,onOpenChange:()=>h(null),children:o.jsxs(gn,{children:[o.jsxs(yn,{children:[o.jsx(xn,{children:"Eliminare questa categoria?"}),o.jsx(bn,{children:"Questa azione non pu essere annullata. Le transazioni associate manterranno i dati esistenti."})]}),o.jsxs(vn,{children:[o.jsx(_n,{children:"Annulla"}),o.jsx(wn,{onClick:Se,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Elimina"})]})]})}),o.jsx(Fn,{open:g,onOpenChange:y,children:o.jsxs(gn,{children:[o.jsxs(yn,{children:[o.jsxs(xn,{children:["Eliminare ",m.size," categorie?"]}),o.jsx(bn,{children:"Questa azione non pu essere annullata. Le transazioni associate manterranno i dati esistenti."})]}),o.jsxs(vn,{children:[o.jsx(_n,{children:"Annulla"}),o.jsx(wn,{onClick:me,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Elimina tutte"})]})]})})]})}const c0=[{value:"credit-card",label:"Carta di credito",icon:fn,emoji:""},{value:"banknote",label:"Contanti",icon:iD,emoji:""},{value:"building-2",label:"Bonifico",icon:oD,emoji:""},{value:"smartphone",label:"Mobile",icon:sl,emoji:""},{value:"wallet",label:"Portafoglio",icon:eu,emoji:""}],bNe=["#6366f1","#22c55e","#f59e0b","#ef4444","#8b5cf6","#0ea5e9","#ec4899","#64748b","#f97316","#06b6d4"];function gV({open:e,onOpenChange:t}){const{paymentMethods:r,addPaymentMethod:n,updatePaymentMethod:a,deletePaymentMethod:i}=bp(),[s,l]=p.useState(null),[c,u]=p.useState(null),[d,f]=p.useState(new Set),[h,m]=p.useState(!1),[v,g]=p.useState(!1),[y,x]=p.useState(""),[b,w]=p.useState("credit-card"),[j,_]=p.useState("#6366f1"),S=()=>{x(""),w("credit-card"),_("#6366f1"),l(null),g(!1)},N=O=>{l(O),x(O.name),w(O.icon||"credit-card"),_(O.color||"#6366f1"),g(!1)},T=()=>{S(),g(!0)},C=O=>{const M=new Set(d);M.has(O)?M.delete(O):M.add(O),f(M)},A=async()=>{if(d.size!==0)try{for(const O of d)await i.mutateAsync(O);W.success(`${d.size} metodi di pagamento eliminati`),f(new Set),m(!1),s&&d.has(s.id)&&S()}catch{W.error("Errore durante l'eliminazione")}},P=async()=>{if(!y.trim()){W.error("Inserisci un nome per il metodo di pagamento");return}try{s?(await a.mutateAsync({id:s.id,name:y.trim(),icon:b,color:j}),W.success("Metodo di pagamento aggiornato")):(await n.mutateAsync({name:y.trim(),icon:b,color:j}),W.success("Metodo di pagamento aggiunto")),S()}catch{W.error("Errore durante il salvataggio")}},E=async()=>{if(c)try{await i.mutateAsync(c),W.success("Metodo di pagamento eliminato"),u(null),s?.id===c&&S()}catch{W.error("Errore durante l'eliminazione")}},R=O=>c0.find(M=>M.value===O)?.emoji||"";return o.jsxs(o.Fragment,{children:[o.jsx(ir,{open:e,onOpenChange:O=>{O||S(),t(O)},children:o.jsxs(tr,{className:"max-w-2xl max-h-[85vh]",children:[o.jsxs(rr,{children:[o.jsx(nr,{className:"text-[#067d1c]",children:"Gestione Modalit di Pagamento"}),o.jsx(Xi,{children:"Aggiungi, modifica o elimina le modalit di pagamento per le tue transazioni"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("h3",{className:"font-semibold text-sm",children:"Metodi esistenti"}),o.jsxs("div",{className:"flex items-center gap-2",children:[d.size>0&&o.jsxs(z,{size:"sm",variant:"destructive",onClick:()=>m(!0),className:"gap-1",children:[o.jsx(Lr,{className:"w-4 h-4"}),"Elimina (",d.size,")"]}),o.jsxs(z,{size:"sm",onClick:T,className:"gradient-primary text-primary-foreground",children:[o.jsx(Bl,{className:"w-4 h-4 mr-1"}),"Nuova"]})]})]}),o.jsx(ug,{className:"h-[350px] pr-4",children:o.jsx("div",{className:"space-y-1",children:r.length===0?o.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Nessun metodo di pagamento configurato"}):r.map(O=>o.jsxs("div",{className:J("flex items-center justify-between p-2 rounded-lg transition-colors group",s?.id===O.id?"bg-primary/10 border border-primary/30":d.has(O.id)?"bg-destructive/10 border border-destructive/30":"bg-secondary/50 hover:bg-secondary"),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:M=>{M.stopPropagation(),C(O.id)},className:J("w-5 h-5 rounded border-2 flex items-center justify-center transition-colors",d.has(O.id)?"bg-destructive border-destructive text-destructive-foreground":"border-muted-foreground/50 hover:border-destructive"),children:d.has(O.id)&&o.jsx(Ln,{className:"w-3 h-3"})}),o.jsxs("div",{className:"flex items-center gap-2 cursor-pointer flex-1",onClick:()=>N(O),title:"Clicca per modificare",children:[o.jsx("span",{className:"w-6 h-6 rounded-full flex items-center justify-center text-sm",style:{backgroundColor:`${O.color||"#6366f1"}20`},children:R(O.icon)}),o.jsx("span",{className:"text-sm font-medium",children:O.name})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(z,{variant:"ghost",size:"icon",className:"h-6 w-6 text-primary opacity-0 group-hover:opacity-100 transition-opacity",onClick:M=>{M.stopPropagation(),N(O)},title:"Modifica",children:o.jsx(xd,{className:"w-3 h-3"})}),o.jsx(z,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive hover:text-destructive/80",onClick:M=>{M.stopPropagation(),u(O.id)},title:"Elimina",children:o.jsx(Lr,{className:"w-3 h-3"})})]})]},O.id))})})]}),o.jsxs("div",{className:"space-y-4 border-l pl-4",children:[o.jsx("h3",{className:"font-semibold text-sm",children:s?"Modifica metodo":v?"Nuovo metodo di pagamento":"Seleziona un metodo"}),s||v?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"pm-name",children:"Nome"}),o.jsx(gt,{id:"pm-name",value:y,onChange:O=>x(O.target.value),placeholder:"Es: Carta di credito, PayPal..."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"pm-icon",children:"Icona"}),o.jsxs(St,{value:b,onValueChange:w,children:[o.jsx(wt,{id:"pm-icon",children:o.jsx(Nt,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:R(b)}),o.jsx("span",{children:c0.find(O=>O.value===b)?.label})]})})}),o.jsx(_t,{children:c0.map(O=>o.jsx(Ae,{value:O.value,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:O.emoji}),o.jsx("span",{children:O.label})]})},O.value))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Colore"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:bNe.map(O=>o.jsx("button",{type:"button",onClick:()=>_(O),className:J("w-8 h-8 rounded-full transition-all",j===O?"ring-2 ring-offset-2 ring-primary scale-110":"hover:scale-105"),style:{backgroundColor:O},title:O},O))})]}),o.jsxs("div",{className:"p-4 rounded-lg border bg-secondary/30",children:[o.jsx(Me,{className:"text-xs text-muted-foreground",children:"Anteprima"}),o.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-lg",style:{backgroundColor:`${j}20`},children:R(b)}),o.jsx("span",{className:"font-medium",children:y||"Nome metodo"})]})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx(z,{variant:"outline",onClick:S,className:"flex-1",children:"Annulla"}),o.jsx(z,{onClick:P,className:"flex-1 gradient-primary text-primary-foreground",disabled:n.isPending||a.isPending,children:s?"Aggiorna":"Salva"})]})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] text-muted-foreground",children:[o.jsx(fn,{className:"w-12 h-12 mb-4 opacity-30"}),o.jsxs("p",{className:"text-sm text-center",children:["Seleziona un metodo da modificare o",o.jsx("br",{}),'clicca "Nuova" per crearne uno']})]})]})]})]})}),o.jsx(Fn,{open:!!c,onOpenChange:()=>u(null),children:o.jsxs(gn,{children:[o.jsxs(yn,{children:[o.jsx(xn,{children:"Eliminare metodo di pagamento?"}),o.jsx(bn,{children:"Questa azione non pu essere annullata. Il metodo verr rimosso ma le transazioni esistenti non saranno modificate."})]}),o.jsxs(vn,{children:[o.jsx(_n,{children:"Annulla"}),o.jsx(wn,{onClick:E,className:"bg-destructive hover:bg-destructive/90",children:"Elimina"})]})]})}),o.jsx(Fn,{open:h,onOpenChange:m,children:o.jsxs(gn,{children:[o.jsxs(yn,{children:[o.jsxs(xn,{children:["Eliminare ",d.size," metodi di pagamento?"]}),o.jsx(bn,{children:"Questa azione non pu essere annullata. I metodi selezionati verranno rimossi."})]}),o.jsxs(vn,{children:[o.jsx(_n,{children:"Annulla"}),o.jsx(wn,{onClick:A,className:"bg-destructive hover:bg-destructive/90",children:"Elimina tutti"})]})]})})]})}function wNe(){const{transactions:e,isLoading:t,updateTransaction:r}=qa(),{categories:n}=Ql(),{paymentMethods:a}=bp(),{speak:i,stop:s,isPlaying:l,isLoading:c}=Ej(),{recordsPerPage:u,setRecordsPerPage:d,applyLimit:f}=j5(),[h,m]=p.useState("all"),[v,g]=p.useState("all"),[y,x]=p.useState("all"),[b,w]=p.useState("date-asc"),[j,_]=p.useState(!1),[S,N]=p.useState(!1),[T,C]=p.useState(!1),[A,P]=p.useState(!1),[E,R]=p.useState(void 0),[O,M]=p.useState(void 0),[D,I]=p.useState(!1),[F,$]=p.useState(""),[V,X]=p.useState(!1),[Y,q]=p.useState(!1),[oe,me]=p.useState(()=>localStorage.getItem("backupFolder")||""),[xe,te]=p.useState(()=>{try{const B=localStorage.getItem("backupHistory");return B?JSON.parse(B):[]}catch{return[]}}),Se=p.useCallback(()=>e.length===0?null:{backup_date:new Date().toISOString(),backup_folder:oe,transactions:e.map(B=>({id:B.id,date:B.date,type:B.type,amount:B.amount,paid_amount:B.paid_amount,description:B.description,category:B.categories?.name,category_id:B.category_id,payment_method_id:B.payment_method_id,recurring:B.recurring,start_date:B.start_date,end_date:B.end_date,is_partial:B.is_partial,plan_id:B.plan_id,installment_index:B.installment_index,installment_total:B.installment_total}))},[e,oe]),re=p.useCallback(B=>{if(!B)return;const le=`backup_${ye(new Date,"yyyy-MM-dd_HH-mm-ss")}`,ge={date:new Date().toISOString(),name:le,data:JSON.stringify(B)},Oe=[ge,...xe].slice(0,20);return te(Oe),localStorage.setItem("backupHistory",JSON.stringify(Oe)),ge},[xe]);p.useEffect(()=>{const B=le=>{const ge=Se();if(ge){localStorage.setItem("lastAutoBackup",JSON.stringify(ge)),localStorage.setItem("lastAutoBackupDate",new Date().toISOString());const Oe=`auto_${ye(new Date,"yyyy-MM-dd_HH-mm-ss")}`;try{const Ze=localStorage.getItem("backupHistory"),Be=Ze?JSON.parse(Ze):[],Ct=[{date:new Date().toISOString(),name:Oe,data:JSON.stringify(ge)},...Be].slice(0,20);localStorage.setItem("backupHistory",JSON.stringify(Ct))}catch{}}return le.preventDefault(),le.returnValue="Salvataggio Sessione in corso...","Salvataggio Sessione in corso..."};return window.addEventListener("beforeunload",B),()=>window.removeEventListener("beforeunload",B)},[Se]);const ae=async B=>{try{const le=JSON.parse(B);if(!le.transactions||!Array.isArray(le.transactions)){W.error("Formato backup non valido");return}const ge=new Blob([JSON.stringify(le,null,2)],{type:"application/json"}),Oe=URL.createObjectURL(ge),Ze=document.createElement("a");Ze.href=Oe,Ze.download=`ripristino_${ye(new Date,"yyyy-MM-dd_HH-mm")}.json`,document.body.appendChild(Ze),Ze.click(),document.body.removeChild(Ze),URL.revokeObjectURL(Oe),W.success(`Backup ripristinato con ${le.transactions.length} transazioni. Usa "Importa" per caricarle.`),q(!1)}catch{W.error("Errore nel ripristino del backup")}},Q=()=>{const B=document.createElement("input");B.type="file",B.webkitdirectory=!0,B.directory=!0,B.onchange=()=>{const le=B.files;if(le&&le.length>0){const Oe=(le[0].webkitRelativePath||"").split("/")[0]||"Desktop";me(Oe),localStorage.setItem("backupFolder",Oe),W.success(`Cartella backup selezionata: ${Oe}`)}},B.click()},K=()=>{const B=Se();if(!B||B.transactions.length===0){W.info("Nessuna transazione da salvare");return}re(B);const le=new Blob([JSON.stringify(B,null,2)],{type:"application/json"}),ge=URL.createObjectURL(le),Oe=document.createElement("a");Oe.href=ge,Oe.download=`backup_transazioni_${ye(new Date,"yyyy-MM-dd_HH-mm")}.json`,document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe),URL.revokeObjectURL(ge),W.success("Backup salvato")},Te=()=>{const B=document.createElement("input");B.type="file",B.accept=".json",B.onchange=le=>{const ge=le.target.files?.[0];if(!ge)return;const Oe=new FileReader;Oe.onload=Ze=>{const Be=Ze.target?.result;ae(Be)},Oe.readAsText(ge)},B.click()},Z=()=>{if(l){s(),I(!1);return}if(G.length===0){W.info("Nessuna transazione da leggere");return}const B=G.slice(0,5),le=G.filter(Be=>Be.type==="entrata").reduce((Be,Kt)=>Be+Number(Kt.amount),0),ge=G.filter(Be=>Be.type==="uscita").reduce((Be,Kt)=>Be+Number(Kt.amount),0),Oe=`Hai ${G.length} transazioni. 
      Totale entrate: ${le.toFixed(0)} euro. 
      Totale uscite: ${ge.toFixed(0)} euro.`,Ze=B.map(Be=>{const Kt=Be.type==="entrata"?"entrata":"uscita",Ct=Be.categories?.name||"senza categoria";return`${Kt} di ${Number(Be.amount).toFixed(0)} euro, ${Ct}`}).join(". ");I(!0),i(`${Oe} Ultime transazioni: ${Ze}.`)},G=p.useMemo(()=>{let B=[...e];if(h!=="all"&&(B=B.filter(le=>le.type===h)),v!=="all"&&(B=B.filter(le=>le.category_id===v)),y!=="all"&&(B=B.filter(le=>le.payment_method_id===y)),F.trim()){const le=F.toLowerCase().trim();B=B.filter(ge=>ge.description?.toLowerCase().includes(le)||ge.categories?.name?.toLowerCase().includes(le))}return E&&(B=B.filter(le=>!Xs(new Date(le.date),fa(E)))),O&&(B=B.filter(le=>!sp(new Date(le.date),sj(O)))),B.sort((le,ge)=>{const Oe=new Date(le.date).getTime()-new Date(ge.date).getTime();return Oe!==0?Oe:Number(ge.amount)-Number(le.amount)}),B},[e,h,v,y,b,E,O,F]),se=()=>{m("all"),g("all"),x("all"),R(void 0),M(void 0)},be=async(B,le)=>{try{const ge=e.find(Oe=>Oe.id===B);if(!ge)return;le?(await r.mutateAsync({id:B,is_partial:!1,paid_amount:0}),W.success("Segnato come da pagare")):(await r.mutateAsync({id:B,is_partial:!0,paid_amount:Number(ge.amount)}),W.success("Segnato come pagato"))}catch{W.error("Errore durante l'aggiornamento")}},Ie=v==="all"?"Tutte le categorie":n.find(B=>B.id===v)?.name||"Categoria",Ye=y==="all"?"Tutti i metodi":a.find(B=>B.id===y)?.name||"Metodo",et=(B,le)=>{const ge=new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(B);return le==="entrata"?`+${ge.replace("","").trim()} `:`-${ge.replace("","").replace("-","").trim()} `},L=B=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(B);(()=>{const B={};return G.forEach(le=>{const ge=le.categories?.name||"Altro",Oe=le.categories?.icon||"";B[ge]||(B[ge]={name:ge,entrate:0,uscite:0,icon:Oe}),le.type==="entrata"?B[ge].entrate+=Number(le.amount):B[ge].uscite+=Number(le.amount)}),Object.values(B).sort((le,ge)=>ge.entrate+ge.uscite-(le.entrate+le.uscite))})();const H=G.filter(B=>B.type==="entrata").reduce((B,le)=>B+Number(le.amount),0),fe=G.filter(B=>B.type==="uscita").reduce((B,le)=>B+Number(le.amount),0),de=()=>{const B={};G.forEach(Ze=>{const Be=Ze.category_id||"altro",Kt=Ze.categories?.name||"Altro",Ct=Ze.categories?.icon||"";B[Be]||(B[Be]={transactions:[],categoryName:Kt,categoryIcon:Ct,entrate:0,uscite:0}),B[Be].transactions.push(Ze),Ze.type==="entrata"?B[Be].entrate+=Number(Ze.amount):B[Be].uscite+=Number(Ze.amount)}),Object.values(B).forEach(Ze=>{Ze.transactions.sort((Be,Kt)=>{const Ct=new Date(Be.date).getTime()-new Date(Kt.date).getTime();return Ct!==0?Ct:Number(Kt.amount)-Number(Be.amount)})});const le=Object.keys(B).sort((Ze,Be)=>B[Ze].categoryName.localeCompare(B[Be].categoryName)),ge=`
      <html>
        <head>
          <title>Transazioni</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 20px; font-size: 11px; }
            h1 { color: #333; margin-bottom: 5px; font-size: 18px; }
            .header-info { color: #666; margin-bottom: 20px; font-size: 11px; }
            .header-info p { margin: 3px 0; }
            h2 { color: #555; margin-top: 25px; font-size: 14px; }
            .category-header { color: #067d1c; margin-top: 25px; padding: 8px 0; border-top: 2px solid #067d1c; border-bottom: 1px solid #ddd; font-size: 13px; font-weight: bold; }
            table { width: 100%; border-collapse: collapse; margin-top: 10px; margin-bottom: 5px; }
            th, td { border: 1px solid #ddd; padding: 6px 8px; text-align: left; font-size: 10px; }
            th { background-color: #f5f5f5; font-weight: bold; }
            .entrata { color: #22c55e; }
            .uscita { color: #ef4444; }
            .category-total { margin: 10px 0 25px 0; padding: 8px 12px; background: #f0f9f0; border: 1px solid #c8e6c9; border-radius: 4px; font-size: 11px; text-align: right; }
            .category-total strong { margin-left: 10px; }
            .category-section { page-break-inside: avoid; margin-bottom: 15px; }
            .grand-total { margin-top: 30px; padding: 15px; background: #f5f5f5; border: 2px solid #333; border-radius: 4px; font-size: 12px; }
            .grand-total-row { display: flex; justify-content: space-between; margin: 5px 0; }
          </style>
        </head>
        <body>
          <h1> Transazioni</h1>
          <div class="header-info">
            <p><strong>Report:</strong> Transazioni per Categoria</p>
            ${E||O?`<p><strong>Periodo:</strong> ${E?ye(E,"dd/MM/yyyy"):"Inizio"} - ${O?ye(O,"dd/MM/yyyy"):"Oggi"}</p>`:""}
            <p><strong>Generato il:</strong> ${ye(new Date,"dd/MM/yyyy HH:mm")}</p>
          </div>
          
          ${le.map(Ze=>{const Be=B[Ze],Kt=Be.entrate-Be.uscite;return`
              <div class="category-section">
                <div class="category-header"> CATEGORIA: ${Be.categoryName}</div>
                <table>
                  <thead>
                    <tr>
                      <th>Data</th>
                      <th>Tipo</th>
                      <th>Descrizione</th>
                      <th style="text-align:right">Importo ()</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${Be.transactions.map(Ct=>`
                      <tr>
                        <td>${ye(new Date(Ct.date),"dd/MM/yyyy")}</td>
                        <td>${Ct.type==="entrata"?"Entrata":"Uscita"}</td>
                        <td>${Ct.description||"-"}</td>
                        <td style="text-align:right" class="${Ct.type}">${L(Number(Ct.amount))}</td>
                      </tr>
                    `).join("")}
                  </tbody>
                </table>
                <div class="category-total">
                  Totale categoria:
                  ${Be.entrate>0?`<strong class="entrata">+${L(Be.entrate)}</strong>`:""}
                  ${Be.uscite>0?`<strong class="uscita">-${L(Be.uscite)}</strong>`:""}
                  <strong>= ${Kt>=0?"+":""}${L(Kt)}</strong>
                </div>
              </div>
            `}).join("")}
          
          <div class="grand-total">
            <div class="grand-total-row"><span>Totale Entrate:</span> <strong class="entrata">${L(H)}</strong></div>
            <div class="grand-total-row"><span>Totale Uscite:</span> <strong class="uscita">${L(fe)}</strong></div>
            <div class="grand-total-row" style="border-top: 1px solid #333; padding-top: 8px; margin-top: 8px;">
              <span><strong>TOTALE GENERALE:</strong></span> 
              <strong class="${H-fe>=0?"entrata":"uscita"}">${L(H-fe)}</strong>
            </div>
          </div>
        </body>
      </html>
    `,Oe=window.open("","_blank");Oe&&(Oe.document.write(ge),Oe.document.close(),Oe.print()),W.success("Stampa avviata")},ne=B=>{switch(B){case"date-desc":return"Data  (decrescente)";case"date-asc":return"Data  (crescente)";case"amount-desc":return"Importo ";case"amount-asc":return"Importo "}};return o.jsx(pn,{children:o.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"coin-container",children:o.jsx("div",{className:"banknote-shine coin-rotate w-10 h-10 rounded-full",children:o.jsx("img",{src:dl,alt:"Euro",className:"w-10 h-10 object-contain"})})}),o.jsx(nt.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl md:text-3xl font-bold text-[#067d1c]",children:"Transazioni"})]}),o.jsxs("div",{className:"flex flex-col items-end gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[o.jsx(op,{}),o.jsxs(z,{variant:"outline",size:"sm",onClick:Z,disabled:c,className:"gap-2 text-primary border-primary/30 hover:bg-primary/10",children:[c?o.jsx(Vt,{className:"w-4 h-4 animate-spin"}):l?o.jsx(Lm,{className:"w-4 h-4"}):D?o.jsx(Ws,{className:"w-4 h-4"}):o.jsx(Qc,{className:"w-4 h-4"}),c?"Carico...":l?"Stop":"Leggi"]}),o.jsxs(z,{variant:"outline",size:"sm",onClick:()=>C(!0),className:"gap-2 bg-secondary text-foreground border-primary/30 hover:bg-primary/10",title:"Gestisci categorie e sottocategorie",children:[o.jsx(vN,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Categorie"})]}),o.jsxs(z,{variant:"outline",size:"sm",onClick:()=>P(!0),className:"gap-2 bg-secondary text-foreground border-primary/30 hover:bg-primary/10",title:"Gestisci modalit di pagamento",children:[o.jsx(fn,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Pagamenti"})]})]}),o.jsxs(z,{onClick:()=>_(!0),className:"gradient-primary text-primary-foreground shadow-glow",children:[o.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Aggiungi"]})]})]}),o.jsx("div",{className:"flex flex-col gap-4 mb-6",children:o.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsxs(z,{variant:"outline",size:"sm",className:"gap-2 text-primary border-primary/30 hover:bg-primary/10",children:[o.jsx(dD,{className:"w-4 h-4"}),h==="all"?"Tutte":h==="entrata"?"Entrate":"Uscite"]})}),o.jsxs(On,{children:[o.jsx(ut,{onClick:()=>m("all"),children:"Tutte"}),o.jsx(ut,{onClick:()=>m("entrata"),children:"Entrate"}),o.jsx(ut,{onClick:()=>m("uscita"),children:"Uscite"})]})]}),o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsxs(z,{variant:"outline",size:"sm",className:"gap-2 text-primary border-primary/30 hover:bg-primary/10",children:[o.jsx(aD,{className:"w-4 h-4"}),ne(b)]})}),o.jsxs(On,{children:[o.jsx(ut,{onClick:()=>w("date-desc"),children:"Data  (decrescente)"}),o.jsx(ut,{onClick:()=>w("date-asc"),children:"Data  (crescente)"}),o.jsx(ut,{onClick:()=>w("amount-desc"),children:"Importo "}),o.jsx(ut,{onClick:()=>w("amount-asc"),children:"Importo "})]})]}),o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsxs(z,{variant:"outline",size:"sm",className:"gap-2 text-primary border-primary/30 hover:bg-primary/10",children:[o.jsx(vN,{className:"w-4 h-4"}),Ie]})}),o.jsxs(On,{className:"max-h-[300px] overflow-y-auto",children:[o.jsx(ut,{onClick:()=>g("all"),children:"Tutte le categorie"}),o.jsx(Rh,{}),n.map(B=>o.jsxs(ut,{onClick:()=>g(B.id),children:[o.jsx("span",{className:"mr-2",children:B.icon}),B.name,o.jsx(yt,{variant:"outline",className:J("ml-2 text-xs",B.type==="entrata"?"text-income border-income/30":"text-expense border-expense/30"),children:B.type==="entrata"?"Entrata":"Uscita"})]},B.id))]})]}),o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsxs(z,{variant:"outline",size:"sm",className:"gap-2 text-primary border-primary/30 hover:bg-primary/10",children:[o.jsx(fn,{className:"w-4 h-4"}),Ye]})}),o.jsxs(On,{className:"max-h-[300px] overflow-y-auto",children:[o.jsx(ut,{onClick:()=>x("all"),children:"Tutti i metodi"}),o.jsx(Rh,{}),a.map(B=>o.jsx(ut,{onClick:()=>x(B.id),children:B.name},B.id))]})]}),(h!=="all"||v!=="all"||y!=="all"||E||O)&&o.jsxs(z,{variant:"ghost",size:"sm",onClick:se,className:"h-8 px-2 text-muted-foreground hover:text-foreground",children:[o.jsx(ma,{className:"h-4 w-4 mr-1"}),"Reset filtri"]})]})})}),o.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-3 mb-4",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(mD,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(gt,{type:"text",placeholder:"Cerca transazione...",value:F,onChange:B=>$(B.target.value),className:"pl-10 border-primary/30"}),F&&o.jsx(z,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>$(""),children:o.jsx(ma,{className:"w-4 h-4"})})]}),o.jsxs(z,{variant:"outline",size:"sm",onClick:()=>X(!0),className:"gap-2 text-primary border-primary/30 hover:bg-primary/10",children:[o.jsx(ai,{className:"w-4 h-4"}),"Visualizza"]}),o.jsxs(z,{variant:"outline",size:"sm",onClick:Q,className:"gap-2 text-primary border-primary/30 hover:bg-primary/10",title:oe?`Cartella: ${oe}`:"Seleziona cartella backup",children:[o.jsx(YW,{className:"w-4 h-4"}),oe?` ${oe}`:"Cartella Backup"]}),o.jsxs(z,{variant:"outline",size:"sm",onClick:K,className:"gap-2 bg-income text-income-foreground hover:bg-income/90",children:[o.jsx(e1,{className:"w-4 h-4"}),"Salva Backup"]}),o.jsxs(z,{variant:"outline",size:"sm",onClick:()=>q(!0),className:"gap-2 text-primary border-primary/30 hover:bg-primary/10",children:[o.jsx(yN,{className:"w-4 h-4"}),"Ripristina"]})]}),o.jsx(eV,{type:"transactions",records:e,startDate:E,endDate:O,onStartDateChange:R,onEndDateChange:M}),o.jsx("div",{className:"flex items-center gap-2 mb-6",children:o.jsxs(z,{variant:"outline",size:"sm",className:"text-primary border-primary/30 hover:bg-primary/10",onClick:()=>N(!0),children:[o.jsx(qs,{className:"w-4 h-4 mr-2"}),"Importa"]})}),o.jsx(aNe,{transactions:e}),o.jsx(Re,{className:"shadow-card",children:o.jsxs(De,{className:"p-4 md:p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[G.length," Transazioni"]}),o.jsx(S5,{value:u,onChange:d,totalCount:G.length})]}),t?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):G.length===0?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Nessuna transazione trovata"}):o.jsx("div",{className:"space-y-3",children:f(G).map((B,le)=>o.jsx(_Ne,{transaction:B,formatCurrency:et,delay:le*.05,onTogglePaid:be},B.id))})]})}),o.jsx(mue,{open:j,onOpenChange:_}),o.jsx(gue,{open:S,onOpenChange:N}),o.jsx(xNe,{open:T,onOpenChange:C}),o.jsx(gV,{open:A,onOpenChange:P}),o.jsx(ir,{open:V,onOpenChange:X,children:o.jsxs(tr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[o.jsx(rr,{children:o.jsxs(nr,{className:"flex items-center gap-2",children:[o.jsx(ai,{className:"w-5 h-5"}),"Visualizza Transazioni Filtrate (",G.length,")"]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-secondary/30 rounded-lg",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:G.length}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Totali"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-income",children:L(G.filter(B=>B.type==="entrata").reduce((B,le)=>B+Number(le.amount),0))}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Entrate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-expense",children:L(G.filter(B=>B.type==="uscita").reduce((B,le)=>B+Number(le.amount),0))}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Uscite"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold",children:G.filter(B=>B.recurring&&B.recurring!=="none").length}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Ricorrenti"})]})]}),G.filter(B=>B.recurring&&B.recurring!=="none").length>0&&o.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:[o.jsx("h4",{className:"font-semibold text-amber-700 dark:text-amber-400 mb-2",children:" Transazioni Ricorrenti"}),o.jsx("div",{className:"space-y-2",children:G.filter(B=>B.recurring&&B.recurring!=="none").map(B=>o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{children:B.description||B.categories?.name||"Transazione"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(yt,{variant:"outline",className:"text-xs",children:B.recurring==="monthly"?"Mensile":B.recurring==="weekly"?"Settimanale":B.recurring}),o.jsx("span",{className:B.type==="entrata"?"text-income":"text-expense",children:L(Number(B.amount))})]})]},B.id))})]}),o.jsx("div",{className:"space-y-2 max-h-[40vh] overflow-y-auto",children:G.map(B=>o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-secondary/20 hover:bg-secondary/40 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${B.type==="entrata"?"bg-income/10":"bg-expense/10"}`,children:B.type==="entrata"?o.jsx(wd,{className:"w-4 h-4 text-income"}):o.jsx(bd,{className:"w-4 h-4 text-expense"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:B.description||B.categories?.name||"Transazione"}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[ye(new Date(B.date),"dd/MM/yyyy"),B.recurring&&B.recurring!=="none"&&o.jsx(yt,{variant:"outline",className:"ml-2 text-xs",children:B.recurring==="monthly"?" Mensile":" Settimanale"})]})]})]}),o.jsxs("div",{className:`font-semibold ${B.type==="entrata"?"text-income":"text-expense"}`,children:[B.type==="entrata"?"+":"-",L(Number(B.amount))]})]},B.id))}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[o.jsx(z,{variant:"outline",onClick:()=>X(!1),children:"Chiudi"}),o.jsxs(z,{onClick:()=>{de(),X(!1)},className:"gap-2",children:[o.jsx(ai,{className:"w-4 h-4"}),"Stampa"]})]})]})]})}),o.jsx(ir,{open:Y,onOpenChange:q,children:o.jsxs(tr,{className:"max-w-lg max-h-[80vh] overflow-y-auto",children:[o.jsx(rr,{children:o.jsxs(nr,{className:"flex items-center gap-2",children:[o.jsx(t6,{className:"w-5 h-5"}),"Ripristina Backup"]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(z,{variant:"outline",onClick:Te,className:"w-full gap-2",children:[o.jsx(qs,{className:"w-4 h-4"}),"Carica file backup (.json)"]}),xe.length>0?o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-sm font-semibold text-muted-foreground",children:"Backup precedenti"}),xe.map((B,le)=>{let ge=0;try{ge=JSON.parse(B.data).transactions?.length||0}catch{}return o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-secondary/30 hover:bg-secondary/50 transition-colors",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:B.name}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[ye(new Date(B.date),"dd/MM/yyyy HH:mm"),"  ",ge," transazioni"]})]}),o.jsxs(z,{size:"sm",variant:"outline",onClick:()=>ae(B.data),className:"gap-1",children:[o.jsx(yN,{className:"w-3 h-3"}),"Ripristina"]})]},le)})]}):o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nessun backup disponibile"}),o.jsx("div",{className:"flex justify-end pt-4 border-t",children:o.jsx(z,{variant:"outline",onClick:()=>q(!1),children:"Chiudi"})})]})]})})]})})}function _Ne({transaction:e,formatCurrency:t,delay:r,onTogglePaid:n}){const a=e.type==="entrata",i=e.is_partial&&Number(e.paid_amount)>=Number(e.amount),s=e.recurring&&e.recurring!=="none",l=e.installment_index!==null&&e.installment_total!==null;return o.jsxs(nt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:r},className:"flex items-center gap-4 p-4 rounded-xl bg-secondary/30 hover:bg-secondary/50 transition-colors",children:[o.jsx("button",{onClick:()=>n(e.id,i),className:J("w-6 h-6 rounded-md border-2 flex items-center justify-center transition-all flex-shrink-0",i?"bg-income border-income text-white":"border-muted-foreground/30 hover:border-income/50"),title:i?"Segna come da pagare":"Segna come pagato",children:i&&o.jsx(Ln,{className:"w-4 h-4"})}),o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${a?"bg-income/10":"bg-expense/10"}`,children:a?o.jsx(wd,{className:"w-5 h-5 text-income"}):o.jsx(bd,{className:"w-5 h-5 text-expense"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:J("font-medium",i?"text-muted-foreground line-through":"text-foreground"),children:e.categories?.name||"Altro"}),l&&o.jsx(yt,{variant:"outline",className:J("text-xs",e.installment_index===0?"text-amber-600 border-amber-600/30 bg-amber-50 dark:bg-amber-950/30":"text-primary border-primary/30 bg-primary/5"),children:e.installment_index===0?"Acconto":`Rata ${e.installment_index}/${e.installment_total}`}),s&&o.jsx(yt,{variant:"outline",className:"text-xs",children:"Auto"}),i&&o.jsx(yt,{variant:"outline",className:"text-xs text-income border-income/30",children:"Pagato"}),e.payment_methods&&o.jsx(yt,{variant:"outline",className:"text-xs",style:{borderColor:`${e.payment_methods.color}50`,color:e.payment_methods.color||void 0},children:e.payment_methods.name}),o.jsx(tV,{entityType:"transaction",entityId:e.id})]}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:e.description}),o.jsx("p",{className:"text-xs text-muted-foreground",children:ye(new Date(e.date),"dd MMM yyyy",{locale:$a})}),Number(e.paid_amount)>0&&Number(e.paid_amount)<Number(e.amount)&&o.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs",children:[o.jsxs("span",{className:"text-income",title:"Acconto versato",children:["Acconto: ",Number(e.paid_amount).toFixed(2)]}),o.jsxs("span",{className:"text-expense",title:"Rimanenza da pagare",children:["Rimanenza: ",(Number(e.amount)-Number(e.paid_amount)).toFixed(2)]})]})]}),o.jsxs("div",{className:"text-right flex items-center gap-2",children:[o.jsx("span",{className:J("font-semibold",i?"text-muted-foreground":a?"text-income":"text-expense"),children:t(Number(e.paid_amount)>0&&Number(e.paid_amount)<Number(e.amount)?Number(e.amount)-Number(e.paid_amount):Number(e.amount),e.type)}),o.jsx(bue,{transaction:e})]})]})}function yV(){const{user:e}=vt(),[t,r]=p.useState("default"),[n,a]=p.useState(!1),[i,s]=p.useState(!1);p.useEffect(()=>{const h="Notification"in window;a(h),h&&r(Notification.permission)},[]),p.useEffect(()=>{(async()=>{if(!e?.id)return;const{data:m}=await ie.from("profiles").select("notification_enabled").eq("id",e.id).single();m&&s(m.notification_enabled??!1)})()},[e?.id]);const l=p.useCallback(async()=>{if(!n)return W.error("Le notifiche non sono supportate in questo browser"),!1;try{const h=await Notification.requestPermission();return r(h),h==="granted"?(W.success("Notifiche abilitate!"),!0):(h==="denied"&&W.error("Permesso notifiche negato"),!1)}catch(h){return console.error("Error requesting notification permission:",h),W.error("Errore nella richiesta permessi"),!1}},[n]),c=p.useCallback(async h=>{if(!e?.id||h&&t!=="granted"&&!await l())return;const{error:m}=await ie.from("profiles").update({notification_enabled:h}).eq("id",e.id);if(m){W.error("Errore nel salvare le preferenze");return}s(h),W.success(h?"Notifiche attivate":"Notifiche disattivate")},[e?.id,t,l]),u=p.useCallback((h,m)=>{if(!n||t!=="granted")return console.log("Notifications not available, using toast instead"),W.info(h,{description:m?.body}),null;try{const v=new Notification(h,{icon:"/pwa-192x192.png",badge:"/pwa-192x192.png",...m});return v.onclick=()=>{window.focus(),v.close()},v}catch(v){return console.error("Error sending notification:",v),W.info(h,{description:m?.body}),null}},[n,t]),d=p.useCallback(()=>{if(t!=="granted"){W.warning("Abilita prima le notifiche");return}u("Notifica di test",{body:"Le notifiche funzionano correttamente! ",tag:"test-notification"})},[t,u]),f=p.useCallback(async()=>{if(!e?.id||!i||t!=="granted")return;const h=new Date,m=new Date(h);m.setDate(h.getDate()+3);const{data:v}=await ie.from("reminders").select("*").eq("user_id",e.id).eq("completed",!1).gte("due_date",h.toISOString().split("T")[0]).lte("due_date",m.toISOString().split("T")[0]);return v&&v.length>0&&v.forEach(g=>{const y=new Date(g.due_date),x=Math.ceil((y.getTime()-h.getTime())/(1e3*60*60*24));let b="";x===0?b="Scade oggi!":x===1?b="Scade domani!":b=`Scade tra ${x} giorni`;const w=g.amount?` - ${new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(g.amount)}`:"";u(` ${g.title}`,{body:`${b}${w}`,tag:`reminder-${g.id}`})}),v},[e?.id,i,t,u]);return{permission:t,isSupported:n,notificationsEnabled:i,requestPermission:l,toggleNotifications:c,sendNotification:u,sendTestNotification:d,checkUpcomingReminders:f}}const jNe=Id({title:Ut().min(1,"Inserisci un titolo"),description:Ut().optional(),amount:Ut().optional(),category_id:Ut().optional(),payment_method_id:Ut().optional(),due_date:hp(),notify_days_before:Ut()});function SNe({open:e,onOpenChange:t}){const{addReminder:r}=as(),{expenseCategories:n}=Ql(),a=dp({resolver:fp(jNe),defaultValues:{title:"",description:"",amount:"",category_id:"",payment_method_id:"",due_date:new Date,notify_days_before:"3"}}),i=async s=>{try{await r.mutateAsync({title:s.title,description:s.description||null,amount:s.amount?parseFloat(s.amount):null,paid_amount:0,category_id:s.category_id||null,due_date:ye(s.due_date,"yyyy-MM-dd"),completed:!1,notify_days_before:parseInt(s.notify_days_before)}),W.success("Promemoria aggiunto con successo"),a.reset(),t(!1)}catch{W.error("Errore durante il salvataggio")}};return o.jsx(ir,{open:e,onOpenChange:t,children:o.jsxs(tr,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsx(rr,{children:o.jsx(nr,{children:"Nuovo Promemoria"})}),o.jsx(mp,{...a,children:o.jsxs("form",{onSubmit:a.handleSubmit(i),className:"space-y-4",children:[o.jsx(It,{control:a.control,name:"title",render:({field:s})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Titolo"}),o.jsx(Pt,{children:o.jsx(gt,{placeholder:"Es: Rata mutuo",...s})}),o.jsx(Ot,{})]})}),o.jsx(It,{control:a.control,name:"amount",render:({field:s})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Importo ()"}),o.jsx(Pt,{children:o.jsx(gt,{type:"number",step:"0.01",placeholder:"0.00",...s})}),o.jsx(Ot,{})]})}),o.jsx(It,{control:a.control,name:"category_id",render:({field:s})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Categoria"}),o.jsxs(St,{onValueChange:s.onChange,value:s.value,children:[o.jsx(Pt,{children:o.jsx(wt,{children:o.jsx(Nt,{placeholder:"Seleziona categoria"})})}),o.jsx(_t,{children:n.map(l=>o.jsx(Ae,{value:l.id,children:l.name},l.id))})]}),o.jsx(Ot,{})]})}),o.jsx(It,{control:a.control,name:"payment_method_id",render:({field:s})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Modalit di pagamento"}),o.jsx(Pt,{children:o.jsx(wp,{value:s.value||"",onValueChange:s.onChange,placeholder:"Seleziona metodo"})}),o.jsx(Ot,{})]})}),o.jsx(It,{control:a.control,name:"description",render:({field:s})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Descrizione"}),o.jsx(Pt,{children:o.jsx($d,{placeholder:"Descrizione opzionale...",className:"resize-none",...s})}),o.jsx(Ot,{})]})}),o.jsx(It,{control:a.control,name:"due_date",render:({field:s})=>o.jsxs(Et,{className:"flex flex-col",children:[o.jsx(At,{children:"Data scadenza"}),o.jsxs(fi,{children:[o.jsx(hi,{asChild:!0,children:o.jsx(Pt,{children:o.jsxs(z,{variant:"outline",className:J("w-full pl-3 text-left font-normal text-primary border-primary/30 hover:bg-primary/10",!s.value&&"text-muted-foreground"),children:[s.value?ye(s.value,"dd/MM/yyyy"):o.jsx("span",{children:"Seleziona data"}),o.jsx(Gt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(La,{className:"w-auto p-0",align:"start",children:o.jsx(ya,{mode:"single",selected:s.value,onSelect:s.onChange,initialFocus:!0})})]}),o.jsx(Ot,{})]})}),o.jsx(It,{control:a.control,name:"notify_days_before",render:({field:s})=>o.jsxs(Et,{children:[o.jsx(At,{children:"Notifica giorni prima"}),o.jsxs(St,{onValueChange:s.onChange,value:s.value,children:[o.jsx(Pt,{children:o.jsx(wt,{children:o.jsx(Nt,{})})}),o.jsxs(_t,{children:[o.jsx(Ae,{value:"1",children:"1 giorno prima"}),o.jsx(Ae,{value:"2",children:"2 giorni prima"}),o.jsx(Ae,{value:"3",children:"3 giorni prima"}),o.jsx(Ae,{value:"5",children:"5 giorni prima"}),o.jsx(Ae,{value:"7",children:"1 settimana prima"})]})]}),o.jsx(Ot,{})]})}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(z,{type:"button",variant:"outline",className:"flex-1 text-primary border-primary/30 hover:bg-primary/10",onClick:()=>t(!1),children:"Annulla"}),o.jsx(z,{type:"submit",className:"flex-1 gradient-primary",disabled:r.isPending,children:r.isPending?"Salvando...":"Salva"})]})]})})]})})}const NNe=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"];function CNe({reminders:e}){const t=new Date().getMonth(),r=new Date().getFullYear(),[n,a]=p.useState(r),[i,s]=p.useState(null),[l,c]=p.useState(""),u=p.useMemo(()=>{const b=new Set;return b.add(r),e.forEach(w=>{const j=new Date(w.due_date).getFullYear();b.add(j)}),Array.from(b).sort((w,j)=>j-w)},[e,r]),d=b=>NNe.map((w,j)=>{const S=e.filter(N=>{const T=new Date(N.due_date);return T.getMonth()===j&&T.getFullYear()===b}).reduce((N,T)=>N+(Number(T.amount)||0),0);return{name:w,amount:S,monthIndex:j,type:b===r?j<t?"past":j===t?"current":"future":"compare"}}),f=p.useMemo(()=>{const b=d(n);if(i){const w=d(i);return b.map((j,_)=>({...j,compareAmount:w[_].amount}))}return b},[e,n,i,t,r]),h=p.useMemo(()=>e.filter(b=>new Date(b.due_date).getFullYear()===n).reduce((b,w)=>b+(Number(w.amount)||0),0),[e,n]),m=p.useMemo(()=>i?e.filter(b=>new Date(b.due_date).getFullYear()===i).reduce((b,w)=>b+(Number(w.amount)||0),0):0,[e,i]),v=b=>{switch(b){case"past":return"hsl(var(--muted-foreground))";case"current":return"hsl(var(--expense))";case"future":return"hsl(var(--income))";case"compare":return"hsl(var(--primary))";default:return"hsl(var(--muted))"}},g=b=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(b),y=()=>{const b=e.filter(_=>new Date(_.due_date).getFullYear()===n),w=`
      <html>
        <head>
          <title>Scadenze ${n}</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 20px; }
            h1 { color: #333; margin-bottom: 5px; }
            .subtitle { color: #666; margin-bottom: 20px; }
            .total { font-size: 18px; font-weight: bold; color: #ef4444; margin-bottom: 20px; }
            table { width: 100%; border-collapse: collapse; margin-top: 20px; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; font-size: 12px; }
            th { background-color: #f5f5f5; font-weight: bold; }
            .completed { text-decoration: line-through; color: #999; }
          </style>
        </head>
        <body>
          <h1>Scadenze ${n}</h1>
          <p class="subtitle">Esportato il: ${ye(new Date,"dd/MM/yyyy HH:mm")}</p>
          <p class="total">Totale ${n}: ${g(h)}</p>
          ${i?`<p>Confronto ${i}: ${g(m)}</p>`:""}
          <table>
            <thead>
              <tr>
                <th>Titolo</th>
                <th>Scadenza</th>
                <th>Importo</th>
                <th>Categoria</th>
                <th>Stato</th>
              </tr>
            </thead>
            <tbody>
              ${b.map(_=>`
                <tr class="${_.completed?"completed":""}">
                  <td>${_.title}</td>
                  <td>${ye(new Date(_.due_date),"dd/MM/yyyy")}</td>
                  <td>${_.amount?g(Number(_.amount)):"-"}</td>
                  <td>${_.categories?.name||"Altro"}</td>
                  <td>${_.completed?" Completato":"In sospeso"}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </body>
      </html>
    `,j=window.open("","_blank");j&&(j.document.write(w),j.document.close(),W.info('Usa "Salva come PDF" nel dialogo di stampa'),setTimeout(()=>j.print(),500))},x=async()=>{if(!l||!l.includes("@")){W.error("Inserisci un indirizzo email valido");return}W.info("Funzione email in configurazione. Contatta l'amministratore per abilitarla.")};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsxs(z,{variant:"outline",size:"sm",className:"gap-2 text-primary border-primary/30 hover:bg-primary/10",children:[n,o.jsx(il,{className:"w-4 h-4"})]})}),o.jsx(On,{children:u.map(b=>o.jsx(ut,{onClick:()=>a(b),children:b},b))})]}),o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsxs(z,{variant:"outline",size:"sm",className:"gap-2 text-primary border-primary/30 hover:bg-primary/10",children:[i?`Confronta: ${i}`:"Confronta",o.jsx(il,{className:"w-4 h-4"})]})}),o.jsxs(On,{children:[o.jsx(ut,{onClick:()=>s(null),children:"Nessun confronto"}),u.filter(b=>b!==n).map(b=>o.jsx(ut,{onClick:()=>s(b),children:b},b))]})]}),o.jsxs(z,{variant:"outline",size:"sm",className:"text-primary border-primary/30 hover:bg-primary/10",onClick:y,children:[o.jsx(Jf,{className:"w-4 h-4 mr-2"}),"Stampa PDF"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gt,{type:"email",placeholder:"Email destinatario",value:l,onChange:b=>c(b.target.value),className:"w-48 h-8 text-sm"}),o.jsxs(z,{variant:"outline",size:"sm",className:"text-primary border-primary/30 hover:bg-primary/10",onClick:x,children:[o.jsx(Jc,{className:"w-4 h-4 mr-2"}),"Invia"]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Totale ",n,":"]}),o.jsx("span",{className:"font-semibold text-expense",children:g(h)}),i&&o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"text-sm text-muted-foreground",children:["vs ",i,":"]}),o.jsx("span",{className:"font-semibold text-primary",children:g(m)})]})]}),o.jsx("div",{className:"h-64",children:o.jsx(K3,{width:"100%",height:"100%",children:o.jsxs(QU,{data:f,margin:{top:10,right:10,left:10,bottom:10},children:[o.jsx(Xd,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),o.jsx(Zd,{axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickFormatter:b=>`${b}`}),o.jsx(ta,{formatter:(b,w)=>[g(b),w==="compareAmount"?`Scadenze ${i}`:`Scadenze ${n}`],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),o.jsx(Rn,{dataKey:"amount",radius:[4,4,0,0],children:f.map((b,w)=>o.jsx(sS,{fill:v(b.type)},`cell-${w}`))}),i&&o.jsx(Rn,{dataKey:"compareAmount",radius:[4,4,0,0],fill:"hsl(var(--primary))",opacity:.5})]})})}),o.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4 flex-wrap",children:[n===r&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-sm bg-muted-foreground"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Mesi passati"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-sm bg-expense"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Mese corrente"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-sm bg-income"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Mesi futuri"})]})]}),i&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary opacity-50"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Confronto ",i]})]})]})]})}function TNe(){const{reminders:e,isLoading:t,toggleCompleted:r}=as(),{paymentMethods:n}=bp(),{user:a}=vt(),{notificationsEnabled:i,permission:s,checkUpcomingReminders:l,sendNotification:c}=yV(),{speak:u,stop:d,isPlaying:f,isLoading:h}=Ej(),{recordsPerPage:m,setRecordsPerPage:v,applyLimit:g}=j5(),[y,x]=p.useState("all"),[b,w]=p.useState("all"),[j,_]=p.useState("date-asc"),[S,N]=p.useState(!1),[T,C]=p.useState(!1),[A,P]=p.useState(!1),[E,R]=p.useState(void 0),[O,M]=p.useState(void 0),[D,I]=p.useState(""),[F,$]=p.useState(!1),V=()=>{if(!a?.id)return W.error("Devi essere autenticato per usare questa funzione"),null;const G=btoa(a.id).replace(/=/g,"");return`https://tbqreletxtzaosvyyvnv.supabase.co/functions/v1/calendar-feed?user_id=${a.id}&token=${G}`},X=async()=>{const G=V();if(G)try{await navigator.clipboard.writeText(G),W.success("URL copiato! Incollalo in Google Calendar: Impostazioni  Aggiungi calendario  Da URL",{duration:5e3})}catch{W.error("Errore durante la copia")}},Y=()=>{const G=V();if(!G)return;window.open("https://calendar.google.com/calendar/r/settings/addbyurl","_blank"),navigator.clipboard.writeText(G).then(()=>{W.success('URL copiato! Incollalo nel campo "URL del calendario" su Google Calendar',{duration:6e3})})},q=()=>{if(!a?.id){W.error("Devi essere autenticato per usare questa funzione");return}const G=btoa(a.id).replace(/=/g,""),be=`webcal://${"https://tbqreletxtzaosvyyvnv.supabase.co".replace("https://","")}/functions/v1/calendar-feed?user_id=${a.id}&token=${G}`;window.location.href=be,W.success("Apertura Calendario Apple... Conferma la sottoscrizione nel popup.",{duration:5e3})},oe=()=>{if(f){d(),P(!1);return}const G=e.filter(et=>!et.completed);if(G.length===0){W.info("Nessun promemoria da leggere");return}const se=new Date,be=G.slice(0,5).map(et=>{const L=new Date(et.due_date),U=Ps(L,se);let H="";U<0?H="scaduto":U===0?H="oggi":U===1?H="domani":H=`tra ${U} giorni`;const fe=et.amount?`, importo ${Number(et.amount).toFixed(0)} euro`:"";return`${et.title}, scade ${H}${fe}`}),Ye=`${G.length===1?"Hai un promemoria in sospeso.":`Hai ${G.length} promemoria in sospeso.`} ${be.join(". ")}.`;P(!0),u(Ye)},me=p.useMemo(()=>{const G=new Date;return e.filter(se=>{if(se.completed)return!1;const be=new Date(se.due_date),Ie=Ps(be,G);return Ie>=0&&Ie<=3}).length},[e]);p.useEffect(()=>{i&&s==="granted"&&l()},[i,s,l]);const xe=()=>{if(s!=="granted"){W.warning("Abilita le notifiche nelle impostazioni");return}const G=new Date,se=e.filter(be=>{if(be.completed)return!1;const Ie=new Date(be.due_date),Ye=Ps(Ie,G);return Ye>=0&&Ye<=7});if(se.length===0){W.info("Nessuna scadenza imminente");return}se.forEach(be=>{const Ie=new Date(be.due_date),Ye=Ps(Ie,G);let et="";Ye===0?et="Scade oggi!":Ye===1?et="Scade domani!":et=`Scade tra ${Ye} giorni`;const L=be.amount?` - ${ae(Number(be.amount))}`:"";c(` ${be.title}`,{body:`${et}${L}`,tag:`reminder-${be.id}`})}),W.success(`${se.length} notifiche inviate`)},te=p.useMemo(()=>{let G=[...e];if(y==="pending"?G=G.filter(se=>!se.completed):y==="completed"&&(G=G.filter(se=>se.completed)),b!=="all"&&(G=G.filter(se=>se.payment_method_id===b)),E&&(G=G.filter(se=>!Xs(new Date(se.due_date),fa(E)))),O&&(G=G.filter(se=>!sp(new Date(se.due_date),sj(O)))),D.trim()){const se=D.toLowerCase().trim();G=G.filter(be=>be.title?.toLowerCase().includes(se)||be.description?.toLowerCase().includes(se)||be.categories?.name?.toLowerCase().includes(se))}return G.sort((se,be)=>{const Ie=new Date(se.due_date).getTime()-new Date(be.due_date).getTime();return Ie!==0?Ie:(Number(be.amount)||0)-(Number(se.amount)||0)}),G},[e,y,b,j,E,O,D]),Se=b==="all"?"Tutti i metodi":n.find(G=>G.id===b)?.name||"Metodo",re=(G,se)=>{r.mutate({id:G,completed:se})};p.useMemo(()=>{const G=new Date().getFullYear();return e.filter(se=>new Date(se.due_date).getFullYear()===G).reduce((se,be)=>se+(Number(be.amount)||0),0)},[e]);const ae=G=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(G),Q=G=>{switch(G){case"date-asc":return"Data  (crescente)";case"date-desc":return"Data  (decrescente)";case"amount-desc":return"Importo ";case"amount-asc":return"Importo "}},K=G=>{switch(G){case"all":return`Tutti (${e.length})`;case"pending":return"In sospeso";case"completed":return"Completati"}},Te=()=>{const G=te.filter(Ie=>!Ie.completed);if(G.length===0){W.error("Nessun promemoria da esportare");return}const se=G.map(Ie=>{const Ye=new Date(Ie.due_date);Ye.setHours(9,0,0,0);const et=Ie.amount?` - Importo: ${ae(Number(Ie.amount))}`:"";return{title:` ${Ie.title}`,description:`${Ie.description||""}${et}`,startDate:Ye,reminder:(Ie.notify_days_before||3)*24*60}}),be=dle(se,"Scadenze - Gestione Scadenze");fle(be,`scadenze_${ye(new Date,"yyyy-MM-dd")}.ics`),W.success(`${G.length} promemoria esportati. Apri il file per importarli nel Calendario.`)},Z=()=>{const G=te.filter(L=>!L.completed),se={};G.forEach(L=>{const U=L.category_id||"altro",H=L.categories?.name||"Altro";se[U]||(se[U]={reminders:[],categoryName:H,total:0}),se[U].reminders.push(L),se[U].total+=Number(L.amount)||0}),Object.values(se).forEach(L=>{L.reminders.sort((U,H)=>{const fe=new Date(U.due_date).getTime()-new Date(H.due_date).getTime();return fe!==0?fe:(Number(H.amount)||0)-(Number(U.amount)||0)})});const be=Object.keys(se).sort((L,U)=>se[L].categoryName.localeCompare(se[U].categoryName)),Ie=G.reduce((L,U)=>L+(Number(U.amount)||0),0),Ye=`
      <html>
        <head>
          <title>Scadenze</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 20px; font-size: 11px; }
            h1 { color: #333; margin-bottom: 5px; font-size: 18px; }
            .header-info { color: #666; margin-bottom: 20px; font-size: 11px; }
            .header-info p { margin: 3px 0; }
            .category-header { color: #067d1c; margin-top: 25px; padding: 8px 0; border-top: 2px solid #067d1c; border-bottom: 1px solid #ddd; font-size: 13px; font-weight: bold; }
            table { width: 100%; border-collapse: collapse; margin-top: 10px; margin-bottom: 5px; }
            th, td { border: 1px solid #ddd; padding: 6px 8px; text-align: left; font-size: 10px; }
            th { background-color: #f5f5f5; font-weight: bold; }
            .overdue { color: #ef4444; }
            .category-total { margin: 10px 0 25px 0; padding: 8px 12px; background: #fff3e0; border: 1px solid #ffe0b2; border-radius: 4px; font-size: 11px; text-align: right; }
            .category-section { page-break-inside: avoid; margin-bottom: 15px; }
            .grand-total { margin-top: 30px; padding: 15px; background: #f5f5f5; border: 2px solid #333; border-radius: 4px; font-size: 12px; text-align: right; }
          </style>
        </head>
        <body>
          <h1> Scadenze in Sospeso</h1>
          <div class="header-info">
            <p><strong>Report:</strong> Scadenze per Categoria</p>
            ${E||O?`<p><strong>Periodo:</strong> ${E?ye(E,"dd/MM/yyyy"):"Inizio"} - ${O?ye(O,"dd/MM/yyyy"):"Fine"}</p>`:""}
            <p><strong>Generato il:</strong> ${ye(new Date,"dd/MM/yyyy HH:mm")}</p>
          </div>
          
          ${be.length===0?"<p>Nessuna scadenza in sospeso.</p>":be.map(L=>{const U=se[L];return`
              <div class="category-section">
                <div class="category-header"> CATEGORIA: ${U.categoryName}</div>
                <table>
                  <thead>
                    <tr>
                      <th>Scadenza</th>
                      <th>Titolo</th>
                      <th>Descrizione</th>
                      <th style="text-align:right">Importo ()</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${U.reminders.map(H=>`
                      <tr class="${Xs(new Date(H.due_date),new Date)?"overdue":""}">
                        <td>${ye(new Date(H.due_date),"dd/MM/yyyy")}</td>
                        <td>${H.title}</td>
                        <td>${H.description||"-"}</td>
                        <td style="text-align:right">${H.amount?ae(Number(H.amount)):"-"}</td>
                      </tr>
                    `).join("")}
                  </tbody>
                </table>
                <div class="category-total">
                  Totale categoria: <strong>${ae(U.total)}</strong>
                </div>
              </div>
            `}).join("")}
          
          <div class="grand-total">
            <strong>TOTALE GENERALE: ${ae(Ie)}</strong>
          </div>
        </body>
      </html>
    `,et=window.open("","_blank");et&&(et.document.write(Ye),et.document.close(),et.print()),W.success("Stampa avviata")};return o.jsx(pn,{children:o.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"coin-container",children:o.jsx("div",{className:"banknote-shine coin-rotate w-10 h-10 rounded-full",children:o.jsx("img",{src:dl,alt:"Euro",className:"w-10 h-10 object-contain"})})}),o.jsx(nt.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl md:text-3xl font-bold text-[#067d1c]",children:"Promemoria"})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx(op,{}),o.jsxs(z,{variant:"outline",size:"sm",onClick:oe,disabled:h,className:"gap-2 text-primary border-primary/30 hover:bg-primary/10",children:[h?o.jsx(Vt,{className:"w-4 h-4 animate-spin"}):f?o.jsx(Lm,{className:"w-4 h-4"}):A?o.jsx(Ws,{className:"w-4 h-4"}):o.jsx(Qc,{className:"w-4 h-4"}),h?"Carico...":f?"Stop":"Leggi"]}),o.jsxs(z,{variant:"outline",size:"sm",className:"gap-2 text-primary border-primary/30 hover:bg-primary/10",children:[o.jsx($6,{className:"w-4 h-4"}),"Riepilogo"]}),o.jsxs(z,{variant:"outline",size:"sm",className:"gap-2 text-primary border-primary/30 hover:bg-primary/10 relative",onClick:xe,children:[me>0?o.jsx(sD,{className:"w-4 h-4"}):o.jsx(qi,{className:"w-4 h-4"}),"Notifica Scadenze",me>0&&o.jsx(yt,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 text-xs",children:me})]}),o.jsxs(z,{variant:"outline",size:"sm",onClick:()=>C(!0),className:"gap-2 bg-secondary text-foreground border-primary/30 hover:bg-primary/10",title:"Gestisci modalit di pagamento",children:[o.jsx(fn,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Pagamenti"})]}),o.jsxs(z,{onClick:()=>N(!0),className:"gradient-primary text-primary-foreground shadow-glow",children:[o.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Aggiungi"]})]})]}),o.jsx("div",{className:"flex flex-col gap-4 mb-6",children:o.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsxs(z,{variant:"outline",size:"sm",className:"gap-2 text-primary border-primary/30 hover:bg-primary/10",children:[o.jsx(Gt,{className:"w-4 h-4"}),K(y)]})}),o.jsxs(On,{children:[o.jsxs(ut,{onClick:()=>x("all"),children:["Tutti (",e.length,")"]}),o.jsx(ut,{onClick:()=>x("pending"),children:"In sospeso"}),o.jsx(ut,{onClick:()=>x("completed"),children:"Completati"})]})]}),o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsxs(z,{variant:"outline",size:"sm",className:"gap-2 text-primary border-primary/30 hover:bg-primary/10",children:[o.jsx(aD,{className:"w-4 h-4"}),Q(j)]})}),o.jsxs(On,{children:[o.jsx(ut,{onClick:()=>_("date-asc"),children:"Data  (crescente)"}),o.jsx(ut,{onClick:()=>_("date-desc"),children:"Data  (decrescente)"}),o.jsx(ut,{onClick:()=>_("amount-desc"),children:"Importo "}),o.jsx(ut,{onClick:()=>_("amount-asc"),children:"Importo "})]})]}),o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsxs(z,{variant:"outline",size:"sm",className:"gap-2 text-primary border-primary/30 hover:bg-primary/10",children:[o.jsx(fn,{className:"w-4 h-4"}),Se]})}),o.jsxs(On,{className:"max-h-[300px] overflow-y-auto",children:[o.jsx(ut,{onClick:()=>w("all"),children:"Tutti i metodi"}),n.map(G=>o.jsx(ut,{onClick:()=>w(G.id),children:G.name},G.id))]})]})]})})}),o.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-3 mb-4",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(mD,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(gt,{type:"text",placeholder:"Cerca promemoria...",value:D,onChange:G=>I(G.target.value),className:"pl-10 border-primary/30"}),D&&o.jsx(z,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>I(""),children:o.jsx(ma,{className:"w-4 h-4"})})]}),o.jsxs(z,{variant:"outline",size:"sm",onClick:()=>$(!0),className:"gap-2 text-primary border-primary/30 hover:bg-primary/10",children:[o.jsx(ai,{className:"w-4 h-4"}),"Visualizza"]})]}),o.jsx(eV,{type:"reminders",records:e,startDate:E,endDate:O,onStartDateChange:R,onEndDateChange:M}),o.jsx("div",{className:"flex items-center gap-2 mb-6",children:o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsxs(z,{variant:"outline",size:"sm",className:"text-primary border-primary/30 hover:bg-primary/10",children:[o.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Calendario"]})}),o.jsxs(On,{align:"start",children:[o.jsxs(ut,{onClick:Te,children:[o.jsx($r,{className:"w-4 h-4 mr-2"}),"Scarica file ICS"]}),o.jsxs(ut,{onClick:Y,children:[o.jsx(s6,{className:"w-4 h-4 mr-2"}),"Sincronizza con Google Calendar"]}),o.jsxs(ut,{onClick:q,children:[o.jsx(nD,{className:"w-4 h-4 mr-2"}),"Sincronizza con Apple Calendar"]}),o.jsxs(ut,{onClick:X,children:[o.jsx(uD,{className:"w-4 h-4 mr-2"}),"Copia URL webcal"]})]})]})}),o.jsxs(Re,{className:"shadow-card mb-6",children:[o.jsxs(We,{className:"flex flex-row items-center gap-2 pb-2",children:[o.jsx(m0,{className:"w-5 h-5 text-[#067d1c]"}),o.jsx(He,{className:"text-lg text-[#067d1c]",children:"Scadenze"})]}),o.jsx(De,{children:o.jsx(CNe,{reminders:e})})]}),o.jsx(Re,{className:"shadow-card",children:o.jsxs(De,{className:"p-4 md:p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Gt,{className:"w-5 h-5 text-[#067d1c]"}),o.jsxs("span",{className:"font-semibold text-[#067d1c]",children:["Promemoria (",te.length,")"]})]}),o.jsx(S5,{value:m,onChange:v,totalCount:te.length})]}),t?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):te.length===0?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Nessun promemoria trovato"}):o.jsx("div",{className:"space-y-3",children:g(te).map((G,se)=>o.jsx(ENe,{reminder:G,formatCurrency:ae,delay:se*.05,onToggleComplete:re},G.id))})]})}),o.jsx(SNe,{open:S,onOpenChange:N}),o.jsx(gV,{open:T,onOpenChange:C}),o.jsx(ir,{open:F,onOpenChange:$,children:o.jsxs(tr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[o.jsx(rr,{children:o.jsxs(nr,{className:"flex items-center gap-2",children:[o.jsx(ai,{className:"w-5 h-5"}),"Visualizza Promemoria Filtrati (",te.length,")"]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 p-4 bg-secondary/30 rounded-lg",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:te.length}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Totali"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-expense",children:ae(te.reduce((G,se)=>G+(Number(se.amount)||0),0))}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Importo Totale"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-amber-500",children:te.filter(G=>!G.completed).length}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"In Sospeso"})]})]}),o.jsx("div",{className:"space-y-2 max-h-[40vh] overflow-y-auto",children:te.map(G=>o.jsxs("div",{className:J("flex items-center justify-between p-3 rounded-lg transition-colors",G.completed?"bg-muted/30":"bg-secondary/20 hover:bg-secondary/40"),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${G.completed?"bg-income/10":"bg-expense/10"}`,children:G.completed?o.jsx(Ln,{className:"w-4 h-4 text-income"}):o.jsx(Gt,{className:"w-4 h-4 text-expense"})}),o.jsxs("div",{children:[o.jsx("div",{className:J("font-medium text-sm",G.completed&&"line-through text-muted-foreground"),children:G.title}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[ye(new Date(G.due_date),"dd/MM/yyyy"),G.categories?.name&&o.jsx(yt,{variant:"outline",className:"ml-2 text-xs",children:G.categories.name})]})]})]}),o.jsx("div",{className:"font-semibold text-expense",children:G.amount?ae(Number(G.amount)):"-"})]},G.id))}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[o.jsx(z,{variant:"outline",onClick:()=>$(!1),children:"Chiudi"}),o.jsxs(z,{onClick:()=>{Z(),$(!1)},className:"gap-2",children:[o.jsx(ai,{className:"w-4 h-4"}),"Stampa"]})]})]})]})})]})})}function ENe({reminder:e,formatCurrency:t,delay:r,onToggleComplete:n}){const a=new Date(e.due_date),i=Xs(a,new Date)&&!e.completed;return o.jsx(nt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:r},className:`p-4 rounded-xl border transition-colors ${e.completed?"bg-muted/30 border-border":i?"bg-expense/5 border-expense/20":"bg-secondary/30 border-transparent"}`,children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsx("button",{onClick:()=>n(e.id,!e.completed),className:J("w-6 h-6 rounded-md border-2 flex items-center justify-center transition-all flex-shrink-0 mt-1",e.completed?"bg-income border-income text-white":"border-muted-foreground/30 hover:border-income/50"),title:e.completed?"Segna come da pagare":"Segna come pagato",children:e.completed&&o.jsx(Ln,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("h3",{className:`font-semibold ${e.completed?"line-through text-muted-foreground":"text-foreground"}`,children:[e.categories?.name||"Altro"," - ",e.title]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.description||e.title}),o.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:ye(a,"d MMM yyyy",{locale:$a})}),e.amount&&o.jsx("span",{className:"text-sm font-medium text-expense",children:t(Number(e.amount))}),e.completed&&o.jsx(yt,{variant:"outline",className:"text-xs text-income border-income/30",children:"Pagato"}),e.payment_methods&&o.jsx(yt,{variant:"outline",className:"text-xs",style:{borderColor:`${e.payment_methods.color}50`,color:e.payment_methods.color||void 0},children:e.payment_methods.name}),o.jsx(tV,{entityType:"reminder",entityId:e.id})]}),e.amount&&Number(e.paid_amount)>0&&Number(e.paid_amount)<Number(e.amount)&&o.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs",children:[o.jsxs("span",{className:"text-income",title:"Acconto versato",children:["Acconto: ",Number(e.paid_amount).toFixed(2)]}),o.jsxs("span",{className:"text-expense",title:"Rimanenza da pagare",children:["Rimanenza: ",(Number(e.amount)-Number(e.paid_amount)).toFixed(2)]})]})]}),o.jsx(x5,{reminder:e})]})})}function ANe({translations:e}){const{permission:t,isSupported:r,notificationsEnabled:n,toggleNotifications:a,sendTestNotification:i,requestPermission:s}=yV(),l=()=>{if(!r)return o.jsx(yt,{variant:"secondary",children:"Non supportato"});switch(t){case"granted":return o.jsx(yt,{className:"bg-income text-income-foreground",children:"Consentito"});case"denied":return o.jsx(yt,{variant:"destructive",children:"Negato"});default:return o.jsx(yt,{variant:"secondary",children:"Non richiesto"})}};return o.jsxs(Re,{className:"shadow-card",children:[o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qi,{className:"w-5 h-5 text-[#067d1c]"}),o.jsx(He,{className:"text-[#067d1c]",children:e.notifications})]}),o.jsx(Tt,{children:e.notificationsDesc})]}),o.jsxs(De,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:"Stato permessi browser"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:r?t==="denied"?"Hai negato i permessi. Modificali nelle impostazioni del browser":t==="granted"?"Puoi ricevere notifiche push":"Clicca per richiedere i permessi":"Il tuo browser non supporta le notifiche push"})]}),l()]}),r&&t==="default"&&o.jsxs(z,{variant:"outline",className:"w-full gap-2",onClick:s,children:[o.jsx(sD,{className:"w-4 h-4"}),"Richiedi permesso notifiche"]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:e.enableNotifications}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.enableNotificationsDesc})]}),o.jsx(co,{checked:n,onCheckedChange:a,disabled:!r||t==="denied"})]}),r&&t==="granted"&&n&&o.jsxs(z,{variant:"outline",size:"sm",className:"gap-2",onClick:i,children:[o.jsx(K6,{className:"w-4 h-4"}),"Invia notifica di test"]}),o.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/30 p-3 rounded-lg",children:[o.jsx("p",{className:"font-medium mb-1",children:" Come funzionano le notifiche:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[o.jsx("li",{children:"Riceverai una notifica per i promemoria in scadenza"}),o.jsx("li",{children:"Le notifiche vengono inviate in base ai giorni di preavviso configurati"}),o.jsx("li",{children:"Puoi disabilitare le notifiche in qualsiasi momento"})]})]})]})]})}function PNe(e,t=[]){let r=[];function n(i,s){const l=p.createContext(s);l.displayName=i+"Context";const c=r.length;r=[...r,s];const u=f=>{const{scope:h,children:m,...v}=f,g=h?.[e]?.[c]||l,y=p.useMemo(()=>v,Object.values(v));return o.jsx(g.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(f,h){const m=h?.[e]?.[c]||l,v=p.useContext(m);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>p.createContext(s));return function(l){const c=l?.[e]||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,ONe(a,...t)]}function ONe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var kNe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vV=kNe.reduce((e,t)=>{const r=Ad(`Primitive.${t}`),n=p.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),GS="Progress",KS=100,[RNe]=PNe(GS),[MNe,DNe]=RNe(GS),xV=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=INe,...s}=e;(a||a===0)&&!_M(a)&&console.error($Ne(`${a}`,"Progress"));const l=_M(a)?a:KS;n!==null&&!jM(n,l)&&console.error(LNe(`${n}`,"Progress"));const c=jM(n,l)?n:null,u=km(c)?i(c,l):void 0;return o.jsx(MNe,{scope:r,value:c,max:l,children:o.jsx(vV.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":km(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":_V(c,l),"data-value":c??void 0,"data-max":l,...s,ref:t})})});xV.displayName=GS;var bV="ProgressIndicator",wV=p.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=DNe(bV,r);return o.jsx(vV.div,{"data-state":_V(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});wV.displayName=bV;function INe(e,t){return`${Math.round(e/t*100)}%`}function _V(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function km(e){return typeof e=="number"}function _M(e){return km(e)&&!isNaN(e)&&e>0}function jM(e,t){return km(e)&&!isNaN(e)&&e<=t&&e>=0}function $Ne(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${KS}\`.`}function LNe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${KS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var jV=xV,FNe=wV;const YS=p.forwardRef(({className:e,value:t,...r},n)=>o.jsx(jV,{ref:n,className:J("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(FNe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));YS.displayName=jV.displayName;const BNe={it:{title:"Aggiornamenti",description:"Verifica e installa nuovi aggiornamenti dell'applicazione",currentVersion:"Versione attuale",checkForUpdates:"Controlla aggiornamenti",checking:"Controllo in corso...",noUpdates:"Sei aggiornato!",noUpdatesDesc:"Stai usando la versione pi recente",updateAvailable:"Aggiornamento disponibile",updateAvailableDesc:" disponibile una nuova versione",downloading:"Download in corso...",downloadUpdate:"Scarica aggiornamento",readyToInstall:"Pronto per l'installazione",readyToInstallDesc:"Riavvia per completare l'aggiornamento",installAndRestart:"Installa e riavvia",error:"Errore",notDesktop:"Funzionalit disponibile solo nell'app desktop",version:"Versione"},en:{title:"Updates",description:"Check and install new application updates",currentVersion:"Current version",checkForUpdates:"Check for updates",checking:"Checking...",noUpdates:"You're up to date!",noUpdatesDesc:"You're running the latest version",updateAvailable:"Update available",updateAvailableDesc:"A new version is available",downloading:"Downloading...",downloadUpdate:"Download update",readyToInstall:"Ready to install",readyToInstallDesc:"Restart to complete the update",installAndRestart:"Install and restart",error:"Error",notDesktop:"Feature only available in desktop app",version:"Version"}};function zNe({language:e}){const t=BNe[e],r=!!window.electronAPI?.isElectron,[n,a]=p.useState({checking:!1,available:!1,downloaded:!1,downloading:!1,progress:0,error:null,version:null}),[i,s]=p.useState(""),[l,c]=p.useState(!1);p.useEffect(()=>{if(!r)return;window.electronAPI?.getAppVersion?.().then(s),window.electronAPI?.getUpdateStatus?.().then(m=>{m&&a(m)});const h=window.electronAPI?.onUpdateStatus?.(m=>{a(m)});return()=>{h?.()}},[r]);const u=async()=>{window.electronAPI?.checkForUpdates&&(c(!0),await window.electronAPI.checkForUpdates())},d=async()=>{window.electronAPI?.downloadUpdate&&await window.electronAPI.downloadUpdate()},f=async()=>{window.electronAPI?.installUpdate&&await window.electronAPI.installUpdate()};return r?o.jsxs(Re,{className:"shadow-card",children:[o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(eh,{className:"w-5 h-5 text-[#067d1c]"}),o.jsx(He,{className:"text-[#067d1c]",children:t.title})]}),i&&o.jsxs(yt,{variant:"secondary",className:"font-mono",children:["v",i]})]}),o.jsx(Tt,{children:t.description})]}),o.jsxs(De,{className:"space-y-4",children:[n.error&&o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-destructive/10 text-destructive",children:[o.jsx(vd,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("p",{className:"text-sm",children:n.error})]}),n.downloaded&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-primary/10",children:[o.jsx(Vs,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-primary",children:t.readyToInstall}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.readyToInstallDesc," (",t.version," ",n.version,")"]})]})]}),o.jsxs(z,{onClick:f,className:"w-full bg-primary hover:bg-primary/90",children:[o.jsx(Qf,{className:"w-4 h-4 mr-2"}),t.installAndRestart]})]}),n.downloading&&!n.downloaded&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vt,{className:"w-5 h-5 animate-spin text-primary"}),o.jsx("p",{className:"font-medium",children:t.downloading}),o.jsxs("span",{className:"text-sm text-muted-foreground ml-auto",children:[n.progress,"%"]})]}),o.jsx(YS,{value:n.progress,className:"h-2"})]}),n.available&&!n.downloading&&!n.downloaded&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-blue-500/10",children:[o.jsx($r,{className:"w-5 h-5 text-blue-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-blue-600 dark:text-blue-400",children:t.updateAvailable}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.updateAvailableDesc," (",t.version," ",n.version,")"]})]})]}),o.jsxs(z,{onClick:d,variant:"outline",className:"w-full text-blue-600 border-blue-500/50 hover:bg-blue-500/10",children:[o.jsx($r,{className:"w-4 h-4 mr-2"}),t.downloadUpdate]})]}),l&&!n.checking&&!n.available&&!n.downloaded&&!n.error&&o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-primary/10",children:[o.jsx(Vs,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-primary",children:t.noUpdates}),o.jsx("p",{className:"text-sm text-muted-foreground",children:t.noUpdatesDesc})]})]}),!n.downloading&&!n.downloaded&&o.jsx(z,{onClick:u,variant:"outline",className:"w-full text-primary border-primary/30 hover:bg-primary/10",disabled:n.checking,children:n.checking?o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"w-4 h-4 mr-2 animate-spin"}),t.checking]}):o.jsxs(o.Fragment,{children:[o.jsx(Qf,{className:"w-4 h-4 mr-2"}),t.checkForUpdates]})})]})]}):o.jsx(Re,{className:"shadow-card opacity-60",children:o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(eh,{className:"w-5 h-5 text-muted-foreground"}),o.jsx(He,{className:"text-muted-foreground",children:t.title})]}),o.jsx(Tt,{children:t.notDesktop})]})})}function UNe(){const{isAdmin:e,guestModeEnabled:t,toggleGuestMode:r}=so(),[n,a]=p.useState(!1),{toast:i}=pd();if(!e)return null;const s=async()=>{a(!0);try{await r(),i({title:t?"Modalit Ospite Disattivata":"Modalit Ospite Attivata",description:t?"Login e registrazione sono ora obbligatori":"Gli utenti possono ora accedere come ospiti con dati demo"})}catch{i({title:"Errore",description:"Impossibile modificare la modalit ospite",variant:"destructive"})}finally{a(!1)}};return o.jsxs(Re,{className:"shadow-card border-primary/30",children:[o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ko,{className:"w-5 h-5 text-primary"}),o.jsx(He,{children:"Impostazioni Amministratore"})]}),o.jsx(Tt,{children:"Gestisci le impostazioni globali dell'applicazione"})]}),o.jsxs(De,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50 border border-border",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[t?o.jsx(J6,{className:"w-6 h-6 text-income"}):o.jsx(X6,{className:"w-6 h-6 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx(Me,{className:"text-base font-medium",children:"Modalit Ospite"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:t?"Attiva - Gli utenti possono accedere senza login":"Disattivata - Login obbligatorio"})]})]}),o.jsxs(Fn,{children:[o.jsx(Aae,{asChild:!0,children:o.jsx(co,{checked:t,disabled:n})}),o.jsxs(gn,{children:[o.jsxs(yn,{children:[o.jsxs(xn,{className:"flex items-center gap-2",children:[o.jsx(pD,{className:"w-5 h-5 text-warning"}),t?"Disattivare modalit ospite?":"Attivare modalit ospite?"]}),o.jsx(bn,{children:t?"Il login e la registrazione diventeranno obbligatori. Gli ospiti non potranno pi accedere.":"Gli utenti potranno accedere all'app senza login, visualizzando dati demo. I dati reali rimarranno protetti."})]}),o.jsxs(vn,{children:[o.jsx(_n,{children:"Annulla"}),o.jsx(wn,{onClick:s,children:"Conferma"})]})]})]})]}),o.jsx("div",{className:"p-4 rounded-lg bg-primary/5 border border-primary/20",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(gD,{className:"w-5 h-5 text-primary mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-foreground mb-1",children:"Informazioni sulla modalit ospite"}),o.jsxs("ul",{className:"text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Gli ospiti vedono solo dati demo/fittizi"}),o.jsx("li",{children:" I dati reali degli utenti restano protetti"}),o.jsx("li",{children:" Gli ospiti non possono salvare modifiche"}),o.jsx("li",{children:" Utile per dimostrazioni dell'app"})]})]})]})})]})]})}var SV=["PageUp","PageDown"],NV=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],CV={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},oc="Slider",[V_,VNe,qNe]=gd(oc),[TV]=Fr(oc,[qNe]),[WNe,dg]=TV(oc),EV=p.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:s="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:v,...g}=e,y=p.useRef(new Set),x=p.useRef(0),w=s==="horizontal"?HNe:GNe,[j=[],_]=$n({prop:d,defaultProp:u,onChange:P=>{[...y.current][x.current]?.focus(),f(P)}}),S=p.useRef(j);function N(P){const E=JNe(j,P);A(P,E)}function T(P){A(P,x.current)}function C(){const P=S.current[x.current];j[x.current]!==P&&h(j)}function A(P,E,{commit:R}={commit:!1}){const O=rCe(i),M=nCe(Math.round((P-n)/i)*i+n,O),D=Tu(M,[n,a]);_((I=[])=>{const F=XNe(I,D,E);if(tCe(F,c*i)){x.current=F.indexOf(D);const $=String(F)!==String(I);return $&&R&&h(F),$?F:I}else return I})}return o.jsx(WNe,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:x,thumbs:y.current,values:j,orientation:s,form:v,children:o.jsx(V_.Provider,{scope:e.__scopeSlider,children:o.jsx(V_.Slot,{scope:e.__scopeSlider,children:o.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:ce(g.onPointerDown,()=>{l||(S.current=j)}),min:n,max:a,inverted:m,onSlideStart:l?void 0:N,onSlideMove:l?void 0:T,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&A(n,0,{commit:!0}),onEndKeyDown:()=>!l&&A(a,j.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:E})=>{if(!l){const M=SV.includes(P.key)||P.shiftKey&&NV.includes(P.key)?10:1,D=x.current,I=j[D],F=i*M*E;A(I+F,D,{commit:!0})}}})})})})});EV.displayName=oc;var[AV,PV]=TV(oc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),HNe=p.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:s,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=p.useState(null),m=Fe(t,w=>h(w)),v=p.useRef(void 0),g=Zl(a),y=g==="ltr",x=y&&!i||!y&&i;function b(w){const j=v.current||f.getBoundingClientRect(),_=[0,j.width],N=XS(_,x?[r,n]:[n,r]);return v.current=j,N(w-j.left)}return o.jsx(AV,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:o.jsx(OV,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const j=b(w.clientX);s?.(j)},onSlideMove:w=>{const j=b(w.clientX);l?.(j)},onSlideEnd:()=>{v.current=void 0,c?.()},onStepKeyDown:w=>{const _=CV[x?"from-left":"from-right"].includes(w.key);u?.({event:w,direction:_?-1:1})}})})}),GNe=p.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=p.useRef(null),f=Fe(t,d),h=p.useRef(void 0),m=!a;function v(g){const y=h.current||d.current.getBoundingClientRect(),x=[0,y.height],w=XS(x,m?[n,r]:[r,n]);return h.current=y,w(g-y.top)}return o.jsx(AV,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:o.jsx(OV,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const y=v(g.clientY);i?.(y)},onSlideMove:g=>{const y=v(g.clientY);s?.(y)},onSlideEnd:()=>{h.current=void 0,l?.()},onStepKeyDown:g=>{const x=CV[m?"from-bottom":"from-top"].includes(g.key);c?.({event:g,direction:x?-1:1})}})})}),OV=p.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:s,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=dg(oc,r);return o.jsx(Ce.span,{...u,ref:t,onKeyDown:ce(e.onKeyDown,f=>{f.key==="Home"?(s(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):SV.concat(NV).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:ce(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:ce(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:ce(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),i(f))})})}),kV="SliderTrack",RV=p.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=dg(kV,r);return o.jsx(Ce.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});RV.displayName=kV;var q_="SliderRange",MV=p.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=dg(q_,r),i=PV(q_,r),s=p.useRef(null),l=Fe(t,s),c=a.values.length,u=a.values.map(h=>$V(h,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(Ce.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});MV.displayName=q_;var W_="SliderThumb",DV=p.forwardRef((e,t)=>{const r=VNe(e.__scopeSlider),[n,a]=p.useState(null),i=Fe(t,l=>a(l)),s=p.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return o.jsx(KNe,{...e,ref:i,index:s})}),KNe=p.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,s=dg(W_,r),l=PV(W_,r),[c,u]=p.useState(null),d=Fe(t,b=>u(b)),f=c?s.form||!!c.closest("form"):!0,h=l1(c),m=s.values[n],v=m===void 0?0:$V(m,s.min,s.max),g=ZNe(n,s.values.length),y=h?.[l.size],x=y?QNe(y,v,l.direction):0;return p.useEffect(()=>{if(c)return s.thumbs.add(c),()=>{s.thumbs.delete(c)}},[c,s.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${x}px)`},children:[o.jsx(V_.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(Ce.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":s.min,"aria-valuenow":m,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:ce(e.onFocus,()=>{s.valueIndexToChangeRef.current=n})})}),f&&o.jsx(IV,{name:a??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:m},n)]})});DV.displayName=W_;var YNe="RadioBubbleInput",IV=p.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=p.useRef(null),i=Fe(a,n),s=Cj(t);return p.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[s,t]),o.jsx(Ce.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});IV.displayName=YNe;function XNe(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function $V(e,t,r){const i=100/(r-t)*(e-t);return Tu(i,[0,100])}function ZNe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function JNe(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function QNe(e,t,r){const n=e/2,i=XS([0,50],[0,n]);return(n-i(t)*r)*r}function eCe(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function tCe(e,t){if(t>0){const r=eCe(e);return Math.min(...r)>=t}return!0}function XS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function rCe(e){return(String(e).split(".")[1]||"").length}function nCe(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var LV=EV,aCe=RV,iCe=MV,sCe=DV;const H_=p.forwardRef(({className:e,...t},r)=>o.jsxs(LV,{ref:r,className:J("relative flex w-full touch-none select-none items-center",e),...t,children:[o.jsx(aCe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(iCe,{className:"absolute h-full bg-primary"})}),o.jsx(sCe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));H_.displayName=LV.displayName;function oCe({language:e}){const{user:t}=vt(),[r,n]=p.useState([]),[a,i]=p.useState(""),[s,l]=p.useState(1),[c,u]=p.useState(1),[d,f]=p.useState(!1),[h,m]=p.useState(!0),[v,g]=p.useState(!1),x={it:{title:"Sintesi Vocale",description:"Scegli la voce e regola le impostazioni di lettura",voiceLabel:"Voce",rateLabel:"Velocit",pitchLabel:"Tono",noVoices:"Nessuna voce disponibile",testVoice:"Prova",stopVoice:"Stop",testText:"Questa  una prova della voce selezionata con le impostazioni attuali.",settingsSaved:"Impostazioni salvate",slow:"Lento",fast:"Veloce",low:"Basso",high:"Alto"},en:{title:"Text-to-Speech",description:"Choose the voice and adjust reading settings",voiceLabel:"Voice",rateLabel:"Speed",pitchLabel:"Pitch",noVoices:"No voices available",testVoice:"Test",stopVoice:"Stop",testText:"This is a test of the selected voice with current settings.",settingsSaved:"Settings saved",slow:"Slow",fast:"Fast",low:"Low",high:"High"}}[e],b=p.useCallback(async(A,P,E)=>{if(t?.id){g(!0);try{const{error:R}=await ie.from("profiles").update({tts_voice_name:A||null,tts_rate:P,tts_pitch:E}).eq("id",t.id);if(R)throw R;W.success(x.settingsSaved)}catch(R){console.error("Error saving TTS settings:",R)}finally{g(!1)}}},[t?.id,x.settingsSaved]);p.useEffect(()=>{(async()=>{if(!t?.id){m(!1);return}try{const{data:P,error:E}=await ie.from("profiles").select("tts_voice_name, tts_rate, tts_pitch").eq("id",t.id).maybeSingle();if(E)throw E;P&&(P.tts_voice_name&&i(P.tts_voice_name),P.tts_rate&&l(Number(P.tts_rate)),P.tts_pitch&&u(Number(P.tts_pitch)))}catch(P){console.error("Error loading TTS settings:",P)}finally{m(!1)}})()},[t?.id]),p.useEffect(()=>{const A=()=>{const P=window.speechSynthesis.getVoices();if(n(P),!a&&P.length>0){const E=P.find(R=>R.lang.startsWith("it"));i(E?E.name:P[0].name)}};return A(),"onvoiceschanged"in window.speechSynthesis&&(window.speechSynthesis.onvoiceschanged=A),()=>{"onvoiceschanged"in window.speechSynthesis&&(window.speechSynthesis.onvoiceschanged=null)}},[a]);const w=A=>{i(A),b(A,s,c)},j=A=>{const P=A[0];l(P)},_=A=>{b(a,A[0],c)},S=A=>{const P=A[0];u(P)},N=A=>{b(a,s,A[0])},T=()=>{if(d){window.speechSynthesis.cancel(),f(!1);return}const A=r.find(E=>E.name===a);if(!A)return;const P=new SpeechSynthesisUtterance(x.testText);P.voice=A,P.lang=A.lang,P.rate=s,P.pitch=c,P.onstart=()=>f(!0),P.onend=()=>f(!1),P.onerror=()=>f(!1),window.speechSynthesis.speak(P)},C=r.reduce((A,P)=>{const E=P.lang.split("-")[0].toUpperCase();return A[E]||(A[E]=[]),A[E].push(P),A},{});return h?o.jsxs(Re,{className:"shadow-card",children:[o.jsx(We,{children:o.jsxs(He,{className:"flex items-center gap-2",children:[o.jsx(Ws,{className:"h-5 w-5 text-primary"}),x.title]})}),o.jsx(De,{className:"flex items-center justify-center py-8",children:o.jsx(Vt,{className:"h-6 w-6 animate-spin text-muted-foreground"})})]}):o.jsxs(Re,{className:"shadow-card",children:[o.jsxs(We,{children:[o.jsxs(He,{className:"flex items-center gap-2",children:[o.jsx(Ws,{className:"h-5 w-5 text-primary"}),x.title,v&&o.jsx(Vt,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),o.jsx(Tt,{children:x.description})]}),o.jsxs(De,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:x.voiceLabel}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-1",children:o.jsxs(St,{value:a,onValueChange:w,children:[o.jsx(wt,{children:o.jsx(Nt,{placeholder:x.noVoices})}),o.jsx(_t,{className:"max-h-64",children:Object.entries(C).map(([A,P])=>o.jsxs("div",{children:[o.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground bg-muted/50",children:A}),P.map(E=>o.jsx(Ae,{value:E.name,children:E.name},E.name))]},A))})]})}),o.jsx(z,{variant:"outline",size:"sm",onClick:T,disabled:!a,className:"gap-2",children:d?o.jsxs(o.Fragment,{children:[o.jsx(Lm,{className:"h-4 w-4"}),x.stopVoice]}):o.jsxs(o.Fragment,{children:[o.jsx(E6,{className:"h-4 w-4"}),x.testVoice]})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Me,{children:x.rateLabel}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.toFixed(1),"x"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xs text-muted-foreground w-12",children:x.slow}),o.jsx(H_,{value:[s],onValueChange:j,onValueCommit:_,min:.5,max:2,step:.1,className:"flex-1"}),o.jsx("span",{className:"text-xs text-muted-foreground w-12 text-right",children:x.fast})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Me,{children:x.pitchLabel}),o.jsx("span",{className:"text-sm text-muted-foreground",children:c.toFixed(1)})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xs text-muted-foreground w-12",children:x.low}),o.jsx(H_,{value:[c],onValueChange:S,onValueCommit:N,min:.5,max:2,step:.1,className:"flex-1"}),o.jsx("span",{className:"text-xs text-muted-foreground w-12 text-right",children:x.high})]})]})]})]})}const lCe={maxWidth:512,maxHeight:512,quality:.75,targetSizeKB:200,outputFormat:"image/webp"};async function cCe(e,t={}){const r={...lCe,...t};if(!e.type.startsWith("image/"))throw new Error("Il file deve essere un'immagine");const n=await uCe(e),{width:a,height:i,offsetX:s,offsetY:l}=dCe(n.naturalWidth,n.naturalHeight),c=document.createElement("canvas");c.width=r.maxWidth,c.height=r.maxHeight;const u=c.getContext("2d");if(!u)throw new Error("Impossibile creare il contesto canvas");u.fillStyle="#FFFFFF",u.fillRect(0,0,c.width,c.height),u.drawImage(n,s,l,a,i,0,0,r.maxWidth,r.maxHeight);let d=r.quality,f=await Df(c,r.outputFormat,d);const h=r.targetSizeKB*1024;for(;f.size>h&&d>.3;)d-=.1,f=await Df(c,r.outputFormat,d);if(f.size>h&&r.outputFormat==="image/webp")for(d=.7,f=await Df(c,"image/jpeg",d);f.size>h&&d>.3;)d-=.1,f=await Df(c,"image/jpeg",d);return console.log(`Image compressed: ${(e.size/1024).toFixed(1)}KB -> ${(f.size/1024).toFixed(1)}KB`),f}function uCe(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>{URL.revokeObjectURL(n.src),t(n)},n.onerror=()=>{URL.revokeObjectURL(n.src),r(new Error("Impossibile caricare l'immagine"))},n.src=URL.createObjectURL(e)})}function dCe(e,t,r,n){const a=Math.min(e,t),i=(e-a)/2,s=(t-a)/2;return{width:a,height:a,offsetX:i,offsetY:s}}function Df(e,t,r){return new Promise((n,a)=>{e.toBlob(i=>{i?n(i):a(new Error("Impossibile creare il blob"))},t,r)})}const fCe={sm:"w-10 h-10",md:"w-16 h-16",lg:"w-24 h-24"};function hCe({className:e,size:t="md",showEditButton:r=!0}){const{user:n}=vt(),{avatarUrl:a,setAvatarUrl:i,getInitials:s}=OI(),[l,c]=p.useState(!1),[u,d]=p.useState(!1),[f,h]=p.useState(null),[m,v]=p.useState(null),g=p.useRef(null),y=j=>{const _=j.target.files?.[0];if(!_)return;if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(_.type)){W.error("Formato non supportato. Usa JPG, PNG o WEBP.");return}if(_.size>5*1024*1024){W.error("Immagine troppo grande. Massimo 5 MB.");return}v(_),h(URL.createObjectURL(_))},x=async()=>{if(!(!m||!n?.id)){c(!0);try{const j=await cCe(m,{maxWidth:512,maxHeight:512,quality:.75,targetSizeKB:200,outputFormat:"image/webp"}),_=`${n.id}/avatar.webp`;await ie.storage.from("profile-avatars").remove([_]);const{error:S}=await ie.storage.from("profile-avatars").upload(_,j,{contentType:"image/webp",upsert:!0});if(S)throw S;const{error:N}=await ie.from("profiles").update({avatar_url:_}).eq("id",n.id);if(N)throw N;const{data:T}=ie.storage.from("profile-avatars").getPublicUrl(_),C=`${T.publicUrl}?t=${Date.now()}`;i(C),W.success("Foto profilo aggiornata!"),d(!1)}catch(j){console.error("Upload error:",j),W.error("Errore durante il caricamento")}finally{c(!1),v(null),f&&(URL.revokeObjectURL(f),h(null))}}},b=async()=>{if(n?.id){c(!0);try{const j=`${n.id}/avatar.webp`;await ie.storage.from("profile-avatars").remove([j]),await ie.from("profiles").update({avatar_url:null}).eq("id",n.id),i(null),W.success("Foto profilo rimossa"),d(!1)}catch(j){console.error("Remove error:",j),W.error("Errore durante la rimozione")}finally{c(!1)}}},w=j=>{d(j),j||(f&&(URL.revokeObjectURL(f),h(null)),v(null))};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:J("relative group cursor-pointer",e),onClick:()=>r&&d(!0),children:[o.jsxs(yu,{className:J(fCe[t],"border-2 border-primary/20"),children:[o.jsx(vu,{src:a||void 0,alt:"Foto profilo"}),o.jsx(xu,{className:"bg-primary/10 text-primary font-semibold",children:s()})]}),r&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(Lf,{className:"w-5 h-5 text-white"})})]}),o.jsx(ir,{open:u,onOpenChange:w,children:o.jsxs(tr,{className:"sm:max-w-md",children:[o.jsx(rr,{children:o.jsxs(nr,{className:"text-primary flex items-center gap-2",children:[o.jsx(Lf,{className:"w-5 h-5"}),"Foto Profilo"]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-center",children:o.jsxs(yu,{className:"w-32 h-32 border-4 border-primary/20",children:[o.jsx(vu,{src:f||a||void 0,alt:"Preview"}),o.jsx(xu,{className:"bg-primary/10 text-primary text-4xl font-semibold",children:s()})]})}),o.jsx("input",{ref:g,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",className:"hidden",onChange:y}),o.jsx("div",{className:"flex flex-col gap-3",children:f?o.jsxs("div",{className:"flex gap-2",children:[o.jsx(z,{variant:"outline",className:"flex-1",onClick:()=>{f&&URL.revokeObjectURL(f),h(null),v(null)},disabled:l,children:"Annulla"}),o.jsx(z,{className:"flex-1 gradient-primary text-white",onClick:x,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Caricamento..."]}):"Salva"})]}):o.jsxs(o.Fragment,{children:[o.jsxs(z,{className:"w-full gradient-primary text-white",onClick:()=>g.current?.click(),disabled:l,children:[o.jsx(Lf,{className:"w-4 h-4 mr-2"}),a?"Cambia foto":"Carica foto"]}),a&&o.jsxs(z,{variant:"outline",className:"w-full text-destructive border-destructive/30 hover:bg-destructive/10",onClick:b,disabled:l,children:[l?o.jsx(Vt,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Rimuovi foto"]})]})}),o.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Formati supportati: JPG, PNG, WEBP. Max 5 MB.",o.jsx("br",{}),"L'immagine verr compressa automaticamente."]})]})]})})]})}const mCe={it:{settings:"Impostazioni",language:"Lingua",languageDesc:"Seleziona la lingua dell'applicazione",italian:"Italiano",english:"English",notifications:"Notifiche",notificationsDesc:"Gestisci le preferenze di notifica",enableNotifications:"Abilita notifiche",enableNotificationsDesc:"Ricevi notifiche per le scadenze",dangerZone:"Zona Pericolosa",dangerZoneDesc:"Azioni irreversibili",resetApp:"Reset Applicazione",resetAppDesc:"Elimina tutti i dati e ripristina le impostazioni predefinite.",resetButton:"Reset Completo",resetTransactions:"Elimina Transazioni",resetTransactionsDesc:"Elimina tutte le transazioni mantenendo categorie e promemoria.",resetReminders:"Elimina Promemoria",resetRemindersDesc:"Elimina tutti i promemoria mantenendo transazioni e categorie.",archiveData:"Archivia Anno",archiveDataDesc:"Elimina le transazioni dell'anno precedente. I promemoria completati verranno rimossi.",resetDialogTitle:"Conferma azione",resetDialogDescFull:"Questa azione eliminer TUTTI i tuoi dati: transazioni, promemoria, categorie personalizzate e impostazioni. Non potrai recuperare questi dati.",resetDialogDescTransactions:"Questa azione eliminer TUTTE le tue transazioni. Categorie e promemoria rimarranno intatti.",resetDialogDescReminders:"Questa azione eliminer TUTTI i tuoi promemoria. Transazioni e categorie rimarranno intatti.",resetDialogDescArchive:"Questa azione eliminer le transazioni dell'anno precedente e i promemoria completati. I dati dell'anno corrente rimarranno intatti.",resetConfirmLabel:'Digita "CONFERMA" per procedere',cancel:"Annulla",confirm:"Conferma",resetting:"Elaborazione...",resetSuccess:"Operazione completata con successo",resetError:"Errore durante l'operazione",profile:"Profilo",profileDesc:"Informazioni del tuo account",email:"Email",signOut:"Esci",signOutDesc:"Disconnetti il tuo account",changePassword:"Cambia Password",changePasswordDesc:"Modifica la password del tuo account",newPassword:"Nuova Password",confirmPassword:"Conferma Password",passwordChanged:"Password modificata con successo",passwordError:"Errore durante il cambio password",passwordMismatch:"Le password non corrispondono",passwordTooShort:"La password deve essere di almeno 6 caratteri",dataManagement:"Gestione Dati",dataManagementDesc:"Gestisci i tuoi dati in modo selettivo",installApp:"Installa App",installAppDesc:"Scarica Gestione Scadenze sul tuo dispositivo",installAppButton:"Scarica App",appInstalled:"App gi installata",appInstalledDesc:"L'app  gi installata sul tuo dispositivo"},en:{settings:"Settings",language:"Language",languageDesc:"Select the application language",italian:"Italiano",english:"English",notifications:"Notifications",notificationsDesc:"Manage notification preferences",enableNotifications:"Enable notifications",enableNotificationsDesc:"Receive notifications for due dates",dangerZone:"Danger Zone",dangerZoneDesc:"Irreversible actions",resetApp:"Reset Application",resetAppDesc:"Delete all data and restore default settings.",resetButton:"Full Reset",resetTransactions:"Delete Transactions",resetTransactionsDesc:"Delete all transactions keeping categories and reminders.",resetReminders:"Delete Reminders",resetRemindersDesc:"Delete all reminders keeping transactions and categories.",archiveData:"Archive Year",archiveDataDesc:"Delete transactions from the previous year. Completed reminders will be removed.",resetDialogTitle:"Confirm action",resetDialogDescFull:"This action will delete ALL your data: transactions, reminders, custom categories, and settings. You will not be able to recover this data.",resetDialogDescTransactions:"This action will delete ALL your transactions. Categories and reminders will remain intact.",resetDialogDescReminders:"This action will delete ALL your reminders. Transactions and categories will remain intact.",resetDialogDescArchive:"This action will delete transactions from the previous year and completed reminders. Current year data will remain intact.",resetConfirmLabel:'Type "CONFIRM" to proceed',cancel:"Cancel",confirm:"Confirm",resetting:"Processing...",resetSuccess:"Operation completed successfully",resetError:"Error during operation",profile:"Profile",profileDesc:"Your account information",email:"Email",signOut:"Sign Out",signOutDesc:"Disconnect your account",changePassword:"Change Password",changePasswordDesc:"Change your account password",newPassword:"New Password",confirmPassword:"Confirm Password",passwordChanged:"Password changed successfully",passwordError:"Error changing password",passwordMismatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters",dataManagement:"Data Management",dataManagementDesc:"Manage your data selectively",installApp:"Install App",installAppDesc:"Download Gestione Scadenze on your device",installAppButton:"Download App",appInstalled:"App already installed",appInstalledDesc:"The app is already installed on your device"}};function pCe(){const{user:e,signOut:t}=vt(),r=zn(),{isInstalled:n,isIOS:a}=w5(),{upgradeToPro:i,openCustomerPortal:s,loading:l,portalLoading:c,isPro:u}=Xl(),{isAdmin:d}=so(),f=d||u,[h,m]=p.useState(()=>localStorage.getItem("app-language")||"it"),[v,g]=p.useState(()=>vL()),[y,x]=p.useState(()=>localStorage.getItem("require-password-on-exit")==="true"),[b,w]=p.useState(!1),[j,_]=p.useState("full"),[S,N]=p.useState(""),[T,C]=p.useState(!1),[A,P]=p.useState(!1),[E,R]=p.useState(""),[O,M]=p.useState(""),[D,I]=p.useState(!1);p.useEffect(()=>{const Q=async()=>{y&&await ie.auth.signOut()};return window.addEventListener("beforeunload",Q),()=>window.removeEventListener("beforeunload",Q)},[y]);const F=()=>{const Q=!y;x(Q),localStorage.setItem("require-password-on-exit",Q.toString()),W.success(h==="it"?Q?"Password richiesta all'uscita attivata":"Password richiesta all'uscita disattivata":Q?"Require password on exit enabled":"Require password on exit disabled")},$=()=>{const Q=!v;g(Q),kee(Q),W.success(Q?h==="it"?"Suoni attivati":"Sounds enabled":h==="it"?"Suoni disattivati":"Sounds disabled")},[V,X]=p.useState({notifications:"prompt",geolocation:"prompt",camera:"prompt",microphone:"prompt"});p.useState(()=>{(async()=>{try{if("Notification"in window?X(K=>({...K,notifications:Notification.permission})):X(K=>({...K,notifications:"unsupported"})),"permissions"in navigator){try{const K=await navigator.permissions.query({name:"geolocation"});X(Te=>({...Te,geolocation:K.state}))}catch{X(K=>({...K,geolocation:"unsupported"}))}try{const K=await navigator.permissions.query({name:"camera"});X(Te=>({...Te,camera:K.state}))}catch{X(K=>({...K,camera:"unsupported"}))}try{const K=await navigator.permissions.query({name:"microphone"});X(Te=>({...Te,microphone:K.state}))}catch{X(K=>({...K,microphone:"unsupported"}))}}}catch(K){console.log("Error checking permissions:",K)}})()});const Y=Q=>{const K=Q==="granted";return o.jsx("span",{className:`text-sm font-medium ${K?"text-green-500":"text-red-500"}`,children:K?h==="it"?"S":"Yes":"No"})},q=mCe[h],oe=h==="it"?"CONFERMA":"CONFIRM",me=Q=>{m(Q),localStorage.setItem("app-language",Q),W.success(Q==="it"?"Lingua cambiata in Italiano":"Language changed to English")},xe=Q=>{_(Q),N(""),w(!0)},te=()=>{switch(j){case"full":return q.resetDialogDescFull;case"transactions":return q.resetDialogDescTransactions;case"reminders":return q.resetDialogDescReminders;case"archive":return q.resetDialogDescArchive;default:return""}},Se=async()=>{if(S===oe){C(!0);try{const Q=e?.id;if(!Q){W.error("Utente non autenticato");return}switch(j){case"full":const{data:K}=await ie.from("transactions").select("id").eq("user_id",Q);if(K&&K.length>0){const be=K.map(Ie=>Ie.id);await ie.from("payments").delete().in("transaction_id",be)}await ie.from("transactions").delete().eq("user_id",Q),await ie.from("reminders").delete().eq("user_id",Q),await ie.from("categories").delete().eq("user_id",Q).eq("is_default",!1),await ie.from("profiles").update({notification_enabled:!1,avatar_url:null}).eq("id",Q),localStorage.removeItem("app-language"),W.success(q.resetSuccess),await t(),r("/auth");break;case"transactions":const{data:Te}=await ie.from("transactions").select("id").eq("user_id",Q);if(Te&&Te.length>0){const be=Te.map(Ie=>Ie.id);await ie.from("payments").delete().in("transaction_id",be)}await ie.from("transactions").delete().eq("user_id",Q),W.success(q.resetSuccess);break;case"reminders":await ie.from("reminders").delete().eq("user_id",Q),W.success(q.resetSuccess);break;case"archive":const G=`${new Date().getFullYear()}-01-01`,{data:se}=await ie.from("transactions").select("id").eq("user_id",Q).lt("date",G);if(se&&se.length>0){const be=se.map(Ie=>Ie.id);await ie.from("payments").delete().in("transaction_id",be),await ie.from("transactions").delete().eq("user_id",Q).lt("date",G)}await ie.from("reminders").delete().eq("user_id",Q).eq("completed",!0),W.success(q.resetSuccess);break}w(!1),N("")}catch(Q){console.error("Reset error:",Q),W.error(q.resetError)}finally{C(!1)}}},re=async()=>{if(E.length<6){W.error(q.passwordTooShort);return}if(E!==O){W.error(q.passwordMismatch);return}I(!0);try{const{error:Q}=await ie.auth.updateUser({password:E});if(Q)throw Q;W.success(q.passwordChanged),P(!1),R(""),M("")}catch(Q){console.error("Password change error:",Q),W.error(q.passwordError)}finally{I(!1)}},ae=async()=>{await t(),r("/landing")};return o.jsx(pn,{children:o.jsxs("div",{className:"p-4 md:p-6 max-w-3xl mx-auto pb-24",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"coin-container",children:o.jsx("div",{className:"banknote-shine coin-rotate w-10 h-10 rounded-full",children:o.jsx("img",{src:dl,alt:"Euro",className:"w-10 h-10 object-contain"})})}),o.jsx(nt.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl md:text-3xl font-bold text-[#067d1c]",children:q.settings})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Re,{className:"shadow-card",children:[o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(th,{className:"w-5 h-5 text-[#067d1c]"}),o.jsx(He,{className:"text-[#067d1c]",children:q.profile})]}),o.jsx(Tt,{children:q.profileDesc})]}),o.jsxs(De,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(hCe,{size:"lg"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium",children:e?.user_metadata?.full_name||e?.email?.split("@")[0]||"Utente"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e?.email}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:h==="it"?"Clicca sulla foto per modificarla":"Click on photo to change"})]})]}),o.jsx(sa,{}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:q.email}),o.jsx(gt,{value:e?.email||"",disabled:!0,className:"bg-muted"})]}),o.jsx(sa,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:q.changePassword}),o.jsx("p",{className:"text-sm text-muted-foreground",children:q.changePasswordDesc})]}),o.jsxs(z,{variant:"outline",className:"text-primary border-primary/30 hover:bg-primary/10",onClick:()=>P(!0),children:[o.jsx(mN,{className:"w-4 h-4 mr-2"}),q.changePassword]})]}),o.jsx(sa,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:q.signOut}),o.jsx("p",{className:"text-sm text-muted-foreground",children:q.signOutDesc})]}),o.jsx(z,{variant:"outline",className:"text-primary border-primary/30 hover:bg-primary/10",onClick:ae,children:q.signOut})]})]})]}),o.jsxs(Re,{className:"shadow-card",children:[o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(er,{className:`w-5 h-5 ${u?"text-yellow-500":"text-[#067d1c]"}`}),o.jsx(He,{className:u?"text-yellow-600":"text-[#067d1c]",children:h==="it"?"Abbonamento":"Subscription"})]}),o.jsx(Tt,{children:h==="it"?"Gestisci il tuo piano e la fatturazione":"Manage your plan and billing"})]}),o.jsxs(De,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-muted/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-3 rounded-full ${f?"bg-gradient-to-br from-yellow-400 to-orange-500":"bg-muted"}`,children:o.jsx(er,{className:`w-5 h-5 ${f?"text-white":"text-muted-foreground"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-lg",children:f?d?h==="it"?"Piano Pro (Admin)":"Pro Plan (Admin)":h==="it"?"Piano Pro":"Pro Plan":h==="it"?"Piano Free":"Free Plan"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:f?d?h==="it"?"Accesso completo (Admin)":"Full access (Admin)":h==="it"?"Tutte le funzionalit sbloccate":"All features unlocked":h==="it"?"Funzionalit base":"Basic features"})]})]}),f&&o.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:d?"Admin":h==="it"?"Attivo":"Active"})]}),d?o.jsx("div",{className:"space-y-3",children:o.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:h==="it"?"Accesso Pro permanente: nessun abbonamento richiesto per gli amministratori.":"Permanent Pro access: no subscription required for administrators."})})}):u?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:[h==="it"?"Tipo di piano:":"Plan type:"," ",o.jsx("span",{className:"font-medium text-foreground",children:h==="it"?"Mensile (4,99/mese)":"Monthly (4.99/month)"})]})}),o.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:o.jsxs(z,{variant:"outline",className:"flex-1",onClick:s,disabled:c,children:[c?o.jsx(Vt,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(fn,{className:"w-4 h-4 mr-2"}),h==="it"?"Gestisci abbonamento":"Manage subscription"]})})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:h==="it"?"Passa a Pro per sbloccare allegati, export, TTS, notifiche WhatsApp e molto altro!":"Upgrade to Pro to unlock attachments, exports, TTS, WhatsApp notifications and more!"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsx(z,{variant:"outline",className:"flex-1",onClick:()=>r("/pricing"),children:h==="it"?"Vedi piani":"View plans"}),o.jsxs(z,{className:"flex-1 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white",onClick:()=>i(),disabled:l,children:[l?o.jsx(Vt,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(er,{className:"w-4 h-4 mr-2"}),h==="it"?"Upgrade a Pro":"Upgrade to Pro"]})]})]})]})]}),o.jsxs(Re,{className:"shadow-card",children:[o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sl,{className:"w-5 h-5 text-[#067d1c]"}),o.jsx(He,{className:"text-[#067d1c]",children:q.installApp})]}),o.jsx(Tt,{children:q.installAppDesc})]}),o.jsx(De,{children:n?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-800 flex items-center justify-center",children:o.jsx($r,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-green-700 dark:text-green-400",children:q.appInstalled}),o.jsx("p",{className:"text-sm text-green-600 dark:text-green-500",children:q.appInstalledDesc})]})]}),o.jsx(sa,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-destructive",children:"Disinstalla App"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Rimuovi l'app dal tuo dispositivo"})]}),o.jsx(jle,{variant:"outline",className:"border-destructive/30 text-destructive hover:bg-destructive/10"})]})]}):o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:o.jsx("img",{src:dl,alt:"Logo",className:"w-8 h-8"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Gestione Scadenze"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:a?"Aggiungi alla schermata Home":"Installa come app"})]})]}),o.jsx(_5,{variant:"default",size:"lg",className:"w-full sm:w-auto gradient-primary text-white"})]})})]}),o.jsx(oCe,{language:h}),o.jsxs(Re,{className:"shadow-card",children:[o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ZW,{className:"w-5 h-5 text-[#067d1c]"}),o.jsx(He,{className:"text-[#067d1c]",children:q.language})]}),o.jsx(Tt,{children:q.languageDesc})]}),o.jsx(De,{children:o.jsxs(St,{value:h,onValueChange:Q=>me(Q),children:[o.jsx(wt,{className:"w-full md:w-[200px]",children:o.jsx(Nt,{})}),o.jsxs(_t,{children:[o.jsx(Ae,{value:"it",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:""}),o.jsx("span",{children:q.italian})]})}),o.jsx(Ae,{value:"en",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:""}),o.jsx("span",{children:q.english})]})})]})]})})]}),o.jsxs(Re,{className:"shadow-card",children:[o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[v?o.jsx(Ws,{className:"w-5 h-5 text-[#067d1c]"}):o.jsx(Qc,{className:"w-5 h-5 text-[#067d1c]"}),o.jsx(He,{className:"text-[#067d1c]",children:h==="it"?"Suoni":"Sounds"})]}),o.jsx(Tt,{children:h==="it"?"Abilita o disabilita i suoni dei pulsanti":"Enable or disable button sounds"})]}),o.jsx(De,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:h==="it"?"Suoni click":"Click sounds"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:h==="it"?"Riproduce un suono quando premi i pulsanti":"Plays a sound when you press buttons"})]}),o.jsx(z,{variant:"outline",size:"sm",onClick:$,className:v?"text-primary border-primary/30 hover:bg-primary/10":"text-muted-foreground",noSound:!0,children:v?o.jsxs(o.Fragment,{children:[o.jsx(Ws,{className:"w-4 h-4 mr-2"}),h==="it"?"Attivo":"On"]}):o.jsxs(o.Fragment,{children:[o.jsx(Qc,{className:"w-4 h-4 mr-2"}),h==="it"?"Disattivo":"Off"]})})]})})]}),o.jsxs(Re,{className:"shadow-card",children:[o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[y?o.jsx(g0,{className:"w-5 h-5 text-primary"}):o.jsx(pN,{className:"w-5 h-5 text-primary"}),o.jsx(He,{className:"text-primary",children:h==="it"?"Sicurezza Sessione":"Session Security"})]}),o.jsx(Tt,{children:h==="it"?"Controlla il comportamento della sessione all'uscita":"Control session behavior on exit"})]}),o.jsx(De,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:h==="it"?"Richiedi password all'uscita":"Require password on exit"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:h==="it"?"Se attivo, dovrai reinserire la password quando riapri l'app":"If enabled, you'll need to re-enter your password when reopening the app"})]}),o.jsx(z,{variant:"outline",size:"sm",onClick:F,className:y?"text-primary border-primary/30 hover:bg-primary/10":"text-muted-foreground",children:y?o.jsxs(o.Fragment,{children:[o.jsx(g0,{className:"w-4 h-4 mr-2"}),h==="it"?"Attivo":"On"]}):o.jsxs(o.Fragment,{children:[o.jsx(pN,{className:"w-4 h-4 mr-2"}),h==="it"?"Disattivo":"Off"]})})]})})]}),o.jsxs(Re,{className:"shadow-card",children:[o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ko,{className:"w-5 h-5 text-[#067d1c]"}),o.jsx(He,{className:"text-[#067d1c]",children:h==="it"?"Permessi Browser":"Browser Permissions"})]}),o.jsx(Tt,{children:h==="it"?"Stato dei permessi richiesti dall'applicazione":"Status of permissions requested by the application"})]}),o.jsx(De,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(qi,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"font-medium",children:h==="it"?"Notifiche":"Notifications"})]}),Y(V.notifications)]}),o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(p6,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"font-medium",children:h==="it"?"Posizione":"Location"})]}),Y(V.geolocation)]}),o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Lf,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"font-medium",children:h==="it"?"Fotocamera":"Camera"})]}),Y(V.camera)]}),o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(b6,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"font-medium",children:h==="it"?"Microfono":"Microphone"})]}),Y(V.microphone)]})]})})]}),o.jsx(ANe,{translations:q}),o.jsx(UNe,{}),o.jsxs(Re,{className:"shadow-card",children:[o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xN,{className:"w-5 h-5 text-[#067d1c]"}),o.jsx(He,{className:"text-[#067d1c]",children:h==="it"?"Diagnostica":"Diagnostics"})]}),o.jsx(Tt,{children:h==="it"?"Informazioni di debug e stato dell'applicazione":"Debug information and application status"})]}),o.jsx(De,{children:o.jsxs(z,{variant:"outline",className:"text-primary border-primary/30 hover:bg-primary/10",onClick:()=>r("/diagnostics"),children:[o.jsx(xN,{className:"w-4 h-4 mr-2"}),h==="it"?"Apri Diagnostica":"Open Diagnostics"]})})]}),o.jsxs(Re,{className:"shadow-card",children:[o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ko,{className:"w-5 h-5 text-[#067d1c]"}),o.jsx(He,{className:"text-[#067d1c]",children:h==="it"?"Informazioni App":"App Information"})]}),o.jsx(Tt,{children:h==="it"?"Dettagli sulla versione dell'applicazione":"Application version details"})]}),o.jsx(De,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[o.jsx("span",{className:"font-medium",children:h==="it"?"Versione":"Version"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"1.0.0"})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[o.jsx("span",{className:"font-medium",children:"Build"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"2024.12.27"})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[o.jsx("span",{className:"font-medium",children:h==="it"?"Ambiente":"Environment"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Production"})]})]})})]}),o.jsx(zNe,{language:h}),o.jsxs(Re,{className:"shadow-card",children:[o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Zc,{className:"w-5 h-5 text-[#067d1c]"}),o.jsx(He,{className:"text-[#067d1c]",children:q.dataManagement})]}),o.jsx(Tt,{children:q.dataManagementDesc})]}),o.jsxs(De,{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 p-4 rounded-lg bg-muted/50",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Gt,{className:"w-5 h-5 text-[#067d1c] mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:q.archiveData}),o.jsx("p",{className:"text-sm text-muted-foreground",children:q.archiveDataDesc})]})]}),o.jsxs(z,{variant:"outline",className:"text-primary border-primary/30 hover:bg-primary/10",onClick:()=>xe("archive"),children:[o.jsx(Zc,{className:"w-4 h-4 mr-2"}),q.archiveData]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 p-4 rounded-lg bg-muted/50",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(hD,{className:"w-5 h-5 text-orange-500 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:q.resetTransactions}),o.jsx("p",{className:"text-sm text-muted-foreground",children:q.resetTransactionsDesc})]})]}),o.jsxs(z,{variant:"outline",className:"text-orange-500 border-orange-500/50 hover:bg-orange-500/10",onClick:()=>xe("transactions"),children:[o.jsx(Lr,{className:"w-4 h-4 mr-2"}),q.resetTransactions]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 p-4 rounded-lg bg-muted/50",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(qi,{className:"w-5 h-5 text-orange-500 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:q.resetReminders}),o.jsx("p",{className:"text-sm text-muted-foreground",children:q.resetRemindersDesc})]})]}),o.jsxs(z,{variant:"outline",className:"text-orange-500 border-orange-500/50 hover:bg-orange-500/10",onClick:()=>xe("reminders"),children:[o.jsx(Lr,{className:"w-4 h-4 mr-2"}),q.resetReminders]})]})]})]}),o.jsxs(Re,{className:"shadow-card border-destructive/50",children:[o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ko,{className:"w-5 h-5 text-destructive"}),o.jsx(He,{className:"text-destructive",children:q.dangerZone})]}),o.jsx(Tt,{children:q.dangerZoneDesc})]}),o.jsx(De,{children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:q.resetApp}),o.jsx("p",{className:"text-sm text-muted-foreground",children:q.resetAppDesc})]}),o.jsxs(z,{variant:"destructive",onClick:()=>xe("full"),children:[o.jsx(Lr,{className:"w-4 h-4 mr-2"}),q.resetButton]})]})})]})]}),o.jsx(Fn,{open:b,onOpenChange:w,children:o.jsxs(gn,{children:[o.jsxs(yn,{children:[o.jsx(xn,{className:j==="full"?"text-destructive":"",children:q.resetDialogTitle}),o.jsx(bn,{children:te()})]}),o.jsxs("div",{className:"py-4",children:[o.jsx(Me,{className:"text-sm font-medium",children:q.resetConfirmLabel}),o.jsx(gt,{value:S,onChange:Q=>N(Q.target.value.toUpperCase()),placeholder:oe,className:"mt-2"})]}),o.jsxs(vn,{children:[o.jsx(_n,{onClick:()=>N(""),children:q.cancel}),o.jsx(wn,{onClick:Se,disabled:S!==oe||T,className:j==="full"?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"",children:T?o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"w-4 h-4 mr-2 animate-spin"}),q.resetting]}):q.confirm})]})]})}),o.jsx(Fn,{open:A,onOpenChange:P,children:o.jsxs(gn,{children:[o.jsxs(yn,{children:[o.jsxs(xn,{className:"flex items-center gap-2",children:[o.jsx(mN,{className:"w-5 h-5 text-primary"}),q.changePassword]}),o.jsx(bn,{children:q.changePasswordDesc})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"new-password",children:q.newPassword}),o.jsx(gt,{id:"new-password",type:"password",value:E,onChange:Q=>R(Q.target.value),placeholder:""})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{htmlFor:"confirm-password",children:q.confirmPassword}),o.jsx(gt,{id:"confirm-password",type:"password",value:O,onChange:Q=>M(Q.target.value),placeholder:""})]})]}),o.jsxs(vn,{children:[o.jsx(_n,{onClick:()=>{R(""),M("")},children:q.cancel}),o.jsx(wn,{onClick:re,disabled:!E||!O||D,className:"bg-primary hover:bg-primary/90",children:D?o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"w-4 h-4 mr-2 animate-spin"}),q.resetting]}):q.confirm})]})]})})]})})}function gCe(){const[e,t]=p.useState(null),[r,n]=p.useState(!1),[a,i]=p.useState(!1),[s,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,m]=p.useState(!1),[v,g]=p.useState(!1),[y,x]=p.useState(!1),[b,w]=p.useState(!1);p.useEffect(()=>{const T=navigator.userAgent.toLowerCase();i(/iphone|ipad|ipod/.test(T)),l(/android/.test(T)),u(/macintosh|mac os x/.test(T)&&!/iphone|ipad|ipod/.test(T)),f(/windows/.test(T)),m(/chrome/.test(T)&&!/edg/.test(T)),g(/edg/.test(T)),x(/firefox/.test(T)),w(/safari/.test(T)&&!/chrome/.test(T)),window.matchMedia("(display-mode: standalone)").matches&&n(!0);const C=A=>{A.preventDefault(),t(A)};return window.addEventListener("beforeinstallprompt",C),()=>{window.removeEventListener("beforeinstallprompt",C)}},[]);const j=async()=>{if(!e)return;await e.prompt();const{outcome:T}=await e.userChoice;T==="accepted"&&n(!0),t(null)},_=()=>{navigator.clipboard.writeText("chrome://apps").then(()=>{W.success("URL copiato! Incollalo nella barra degli indirizzi di Chrome",{duration:5e3})})},S=()=>{navigator.clipboard.writeText("edge://apps").then(()=>{W.success("URL copiato! Incollalo nella barra degli indirizzi di Edge",{duration:5e3})})},N=()=>v?"Edge":h?"Chrome":y?"Firefox":b?"Safari":"Browser";return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("header",{className:"p-4 flex items-center justify-between border-b border-border/50",children:[o.jsx(Mi,{to:"/landing",children:o.jsxs(z,{variant:"ghost",size:"sm",className:"gap-2",children:[o.jsx(Q_,{className:"w-4 h-4"}),"Indietro"]})}),o.jsx(Mi,{to:"/auth",children:o.jsxs(z,{size:"sm",className:"gradient-primary text-primary-foreground gap-2",children:[o.jsx(d6,{className:"w-4 h-4"}),"Accedi"]})})]}),o.jsxs("div",{className:"p-4 md:p-6 max-w-3xl mx-auto",children:[o.jsxs(nt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-center mb-8",children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-primary mb-2",children:"Installa Gestione Scadenze"}),o.jsx("p",{className:"text-muted-foreground",children:"Installa l'app sul tuo dispositivo per un accesso rapido"})]}),r?o.jsxs("div",{className:"space-y-4",children:[o.jsx(Re,{className:"shadow-card border-income/30 bg-income/5",children:o.jsxs(De,{className:"p-6 text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-income/20 flex items-center justify-center mx-auto mb-4",children:o.jsx($r,{className:"w-8 h-8 text-income"})}),o.jsx("h3",{className:"text-lg font-semibold text-income mb-2",children:"App Installata!"}),o.jsx("p",{className:"text-muted-foreground",children:"Gestione Scadenze  gi installata sul tuo dispositivo"})]})}),o.jsxs(Re,{className:"shadow-card border-destructive/30",children:[o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Lr,{className:"w-5 h-5 text-destructive"}),o.jsx(He,{className:"text-destructive",children:"Disinstalla App"})]}),o.jsx(Tt,{children:"Come rimuovere l'app dal tuo dispositivo"})]}),o.jsxs(De,{className:"space-y-4",children:[a&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"Su iPhone/iPad:"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Tieni premuta l'icona dell'app sulla Home  Rimuovi app  Elimina app"})]}),s&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"Su Android:"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Tieni premuta l'icona dell'app  Disinstalla, oppure vai in Impostazioni  App  Gestione Scadenze  Disinstalla"})]}),(c||d)&&o.jsxs(o.Fragment,{children:[h&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"Da Chrome:"}),o.jsxs(z,{variant:"outline",size:"sm",className:"gap-2",onClick:_,children:[o.jsx(Lc,{className:"w-4 h-4"}),"Apri chrome://apps"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Copia l'URL, incollalo nella barra degli indirizzi, clicca destro sull'app  Rimuovi da Chrome"})]}),v&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"Da Edge:"}),o.jsxs(z,{variant:"outline",size:"sm",className:"gap-2",onClick:S,children:[o.jsx(Lc,{className:"w-4 h-4"}),"Apri edge://apps"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Copia l'URL, incollalo nella barra degli indirizzi, clicca sui tre puntini dell'app  Disinstalla"})]}),c&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"Su Mac:"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:'Apri Finder  Applicazioni  Cerca "Gestione Scadenze"  Trascina nel Cestino'})]}),d&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"Su Windows:"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:'Impostazioni  App  App installate  Cerca "Gestione Scadenze"  Disinstalla'})]})]})]})]})]}):o.jsxs("div",{className:"space-y-4",children:[e&&o.jsxs(Re,{className:"shadow-card border-primary/30",children:[o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($r,{className:"w-5 h-5 text-primary"}),o.jsx(He,{children:"Installazione Rapida"})]}),o.jsxs(Tt,{children:["Clicca per installare direttamente l'app (funziona su ",N(),")"]})]}),o.jsx(De,{children:o.jsxs(z,{onClick:j,className:"w-full gradient-primary text-primary-foreground shadow-glow",size:"lg",children:[o.jsx($r,{className:"w-5 h-5 mr-2"}),"Installa App"]})})]}),a&&o.jsxs(Re,{className:"shadow-card",children:[o.jsx(We,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nD,{className:"w-5 h-5 text-primary"}),o.jsx(He,{className:"text-primary",children:"Installa su iPhone/iPad"})]})}),o.jsx(De,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold flex-shrink-0",children:"1"}),o.jsxs("p",{className:"text-sm",children:["Tocca il pulsante ",o.jsx("strong",{children:"Condividi"})," (icona quadrato con freccia in su) nella barra di Safari"]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold flex-shrink-0",children:"2"}),o.jsxs("p",{className:"text-sm",children:["Scorri verso il basso e tocca ",o.jsx("strong",{children:'"Aggiungi a Home"'})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold flex-shrink-0",children:"3"}),o.jsxs("p",{className:"text-sm",children:["Tocca ",o.jsx("strong",{children:'"Aggiungi"'})," in alto a destra"]})]})]})})]}),s&&!e&&o.jsxs(Re,{className:"shadow-card",children:[o.jsx(We,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sl,{className:"w-5 h-5 text-primary"}),o.jsx(He,{className:"text-primary",children:"Installa su Android"})]})}),o.jsx(De,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold flex-shrink-0",children:"1"}),o.jsx("p",{className:"text-sm",children:"Tocca il menu () in alto a destra nel browser"})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold flex-shrink-0",children:"2"}),o.jsxs("p",{className:"text-sm",children:["Seleziona ",o.jsx("strong",{children:'"Installa app"'})," o ",o.jsx("strong",{children:'"Aggiungi a schermata Home"'})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold flex-shrink-0",children:"3"}),o.jsx("p",{className:"text-sm",children:"Conferma l'installazione"})]})]})})]}),(c||d)&&!e&&o.jsxs(Re,{className:"shadow-card",children:[o.jsx(We,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_6,{className:"w-5 h-5 text-primary"}),o.jsxs(He,{className:"text-primary",children:["Installa su ",c?"Mac":"Windows"]})]})}),o.jsx(De,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold flex-shrink-0",children:"1"}),o.jsx("p",{className:"text-sm",children:"Usa Chrome o Edge per visitare questa pagina"})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold flex-shrink-0",children:"2"}),o.jsx("p",{className:"text-sm",children:"Clicca sull'icona di installazione nella barra degli indirizzi (a destra)"})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold flex-shrink-0",children:"3"}),o.jsxs("p",{className:"text-sm",children:["Clicca ",o.jsx("strong",{children:'"Installa"'})]})]})]})})]}),(h||v)&&(c||d)&&o.jsxs(Re,{className:"shadow-card border-muted",children:[o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Lc,{className:"w-5 h-5 text-muted-foreground"}),o.jsx(He,{className:"text-muted-foreground",children:"Gestisci App Installate"})]}),o.jsx(Tt,{children:"Visualizza e gestisci tutte le PWA installate nel tuo browser"})]}),o.jsxs(De,{className:"flex gap-2 flex-wrap",children:[h&&o.jsxs(z,{variant:"outline",size:"sm",className:"gap-2",onClick:_,children:[o.jsx(jW,{className:"w-4 h-4"}),"chrome://apps"]}),v&&o.jsxs(z,{variant:"outline",size:"sm",className:"gap-2",onClick:S,children:[o.jsx(p0,{className:"w-4 h-4"}),"edge://apps"]})]})]}),o.jsx(Re,{className:"shadow-card border-muted",children:o.jsxs(We,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sl,{className:"w-5 h-5 text-primary"}),o.jsx(He,{className:"text-primary",children:"App Native (Prossimamente)"})]}),o.jsx(Tt,{children:"Le app native per iOS (App Store) e Android (Play Store) saranno disponibili a breve"})]})})]})]})]})}const SM=[{name:"Affitto Negozio",type:"uscita",icon:"home",color:"#ef4444"},{name:"Imposte e Tasse",type:"uscita",icon:"file-text",color:"#f97316"},{name:"Mutuo Casa",type:"uscita",icon:"home",color:"#8b5cf6"},{name:"Pensione",type:"entrata",icon:"wallet",color:"#22c55e"},{name:"Prestiti",type:"entrata",icon:"banknote",color:"#3b82f6"},{name:"Prestiti e Findomestic",type:"uscita",icon:"credit-card",color:"#ec4899"},{name:"Spese Auto e Moto - Assicurazione",type:"uscita",icon:"car",color:"#6366f1"},{name:"Sumup SOS Chemio",type:"entrata",icon:"heart",color:"#14b8a6"}],NM=[{type:"uscita",amount:376.7,category:"Prestiti e Findomestic",description:"RATA FINDOMESTIC ADELE",date:"2026-01-05",recurring:"monthly"},{type:"uscita",amount:352.7,category:"Prestiti e Findomestic",description:"RATA FINDOMESTIC TONY",date:"2026-01-05",recurring:"monthly"},{type:"uscita",amount:350,category:"Affitto Negozio",description:"AFFITTO NEGOZIO",date:"2025-12-30",recurring:"monthly"},{type:"uscita",amount:256,category:"Mutuo Casa",description:"RATA MUTUO CASA DA BONIFICARE",date:"2025-12-30",recurring:"monthly"},{type:"uscita",amount:2e3,category:"Prestiti e Findomestic",description:"PRESTITO FRANCESCO CREDIDIO",date:"2025-12-30",recurring:"none"},{type:"uscita",amount:14.97,category:"Prestiti e Findomestic",description:"ADDEBITO PAYPAL",date:"2025-12-27",recurring:"none"},{type:"uscita",amount:256,category:"Mutuo Casa",description:"RATA MUTUO CASA DA BONIFICARE",date:"2025-12-20",recurring:"none"},{type:"entrata",amount:479.85,category:"Pensione",description:"Saldo CC.Poste Tony",date:"2025-12-19",recurring:"none"},{type:"entrata",amount:548.27,category:"Sumup SOS Chemio",description:"Saldo SUMUP",date:"2025-12-18",recurring:"none"},{type:"uscita",amount:350,category:"Affitto Negozio",description:"AFFITTO NEGOZIO",date:"2025-12-17",recurring:"none"},{type:"uscita",amount:376.7,category:"Prestiti e Findomestic",description:"RATA FINDOMESTIC ADELE",date:"2025-12-17",recurring:"none"},{type:"uscita",amount:352.7,category:"Prestiti e Findomestic",description:"RATA FINDOMESTIC TONY",date:"2025-12-17",recurring:"none"},{type:"uscita",amount:60.95,category:"Imposte e Tasse",description:"ISTANZA DI RATEIZZAZIONE N. AR034 - 305893 - Adele Barbato -Agenzia delle entrate-Riscossione",date:"2025-12-17",recurring:"none",paid_amount:60.95},{type:"uscita",amount:100.63,category:"Altro",description:"A SALDO LEONARDO LUCIA",date:"2025-12-16",recurring:"none"}],CM=[{title:"Mutuo Casa - RATA MUTUO CASA DA BONIFICARE",description:"RATA MUTUO CASA DA BONIFICARE",due_date:"2025-12-30",amount:256,category:"Mutuo Casa",notify_days_before:3},{title:"Affitto Negozio - AFFITTO NEGOZIO",description:"AFFITTO NEGOZIO",due_date:"2025-12-30",amount:352.7,category:"Affitto Negozio",notify_days_before:3},{title:"Prestiti e Findomestic - RATA FINDOMESTIC ADELE",description:"RATA FINDOMESTIC ADELE",due_date:"2026-01-05",amount:376.7,category:"Prestiti e Findomestic",notify_days_before:7},{title:"Prestiti e Findomestic - RATA FINDOMESTIC TONY",description:"RATA FINDOMESTIC TONY",due_date:"2026-01-05",amount:352.7,category:"Prestiti e Findomestic",notify_days_before:3},{title:"Prestiti e Findomestic - PRESTITO FRANCESCO CREDIDIO",description:"PRESTITO FRANCESCO CREDIDIO",due_date:"2026-01-15",amount:2e3,category:"Prestiti e Findomestic",notify_days_before:7},{title:"Altro - CONDOMINIO SALCLEA AL 19.11.2025",description:"CONDOMINIO SALCLEA AL 19.11.2025",due_date:"2026-01-15",amount:3582.41,category:"Altro",notify_days_before:14}];function yCe(){const{user:e}=vt(),{toast:t}=pd(),r=zn(),[n,a]=p.useState(!1),[i,s]=p.useState({categories:!1,transactions:!1,reminders:!1}),[l,c]=p.useState([]),u=async()=>{if(!e){t({title:"Errore",description:"Devi essere autenticato per importare i dati",variant:"destructive"});return}a(!0),c([]);const d=[];try{const f={};for(const m of SM){const{data:v,error:g}=await ie.from("categories").insert({name:m.name,type:m.type,icon:m.icon,color:m.color,user_id:e.id,is_default:!1}).select().single();g?g.code!=="23505"&&(console.error("Category import error:",g),d.push(`Categoria "${m.name}": Errore durante l'importazione`)):v&&(f[m.name]=v.id)}const{data:h}=await ie.from("categories").select("id, name");if(h)for(const m of h)f[m.name]||(f[m.name]=m.id);s(m=>({...m,categories:!0}));for(const m of NM){const v=f[m.category]||null,{error:g}=await ie.from("transactions").insert({type:m.type,amount:m.amount,paid_amount:m.paid_amount||0,category_id:v,description:m.description,date:m.date,recurring:m.recurring,is_partial:!!m.paid_amount&&m.paid_amount<m.amount,user_id:e.id});g&&(console.error("Transaction import error:",g),d.push(`Transazione "${m.description}": Errore durante l'importazione`))}s(m=>({...m,transactions:!0}));for(const m of CM){const v=f[m.category]||null,{error:g}=await ie.from("reminders").insert({title:m.title,description:m.description,due_date:m.due_date,amount:m.amount,category_id:v,notify_days_before:m.notify_days_before,completed:!1,user_id:e.id});g&&(console.error("Reminder import error:",g),d.push(`Promemoria "${m.title}": Errore durante l'importazione`))}s(m=>({...m,reminders:!0})),c(d),d.length===0?(t({title:"Importazione completata!",description:"Tutti i dati sono stati importati con successo"}),setTimeout(()=>r("/"),2e3)):t({title:"Importazione completata con alcuni errori",description:`${d.length} errori durante l'importazione`,variant:"destructive"})}catch(f){console.error("Import error:",f),t({title:"Errore durante l'importazione",description:"Si  verificato un errore imprevisto",variant:"destructive"})}finally{a(!1)}};return e?o.jsx(pn,{children:o.jsx("div",{className:"container mx-auto p-6 max-w-2xl",children:o.jsxs(Re,{children:[o.jsxs(We,{children:[o.jsxs(He,{className:"flex items-center gap-2 text-[#067d1c]",children:[o.jsx(qs,{className:"h-6 w-6 text-[#067d1c]"}),"Importa Dati dal Vecchio Software"]}),o.jsx(Tt,{children:'Importa categorie, transazioni e promemoria dal vecchio sistema "Gestione Entrate e Uscite"'})]}),o.jsxs(De,{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Categorie"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[SM.length," categorie da importare"]})]}),i.categories&&o.jsx($i,{className:"h-5 w-5 text-green-500"})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Transazioni"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[NM.length," transazioni da importare"]})]}),i.transactions&&o.jsx($i,{className:"h-5 w-5 text-green-500"})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Promemoria"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[CM.length," promemoria da importare"]})]}),i.reminders&&o.jsx($i,{className:"h-5 w-5 text-green-500"})]})]}),l.length>0&&o.jsxs("div",{className:"p-4 border border-destructive/50 rounded-lg bg-destructive/10",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(vd,{className:"h-5 w-5 text-destructive"}),o.jsx("p",{className:"font-medium text-destructive",children:"Errori durante l'importazione:"})]}),o.jsxs("ul",{className:"text-sm text-destructive space-y-1",children:[l.slice(0,5).map((d,f)=>o.jsxs("li",{children:[" ",d]},f)),l.length>5&&o.jsxs("li",{children:["...e altri ",l.length-5," errori"]})]})]}),o.jsx(z,{onClick:u,disabled:n||i.categories&&i.transactions&&i.reminders,className:"w-full",size:"lg",children:n?o.jsxs(o.Fragment,{children:[o.jsx(Vt,{className:"mr-2 h-4 w-4 animate-spin"}),"Importazione in corso..."]}):i.categories&&i.transactions&&i.reminders?o.jsxs(o.Fragment,{children:[o.jsx($i,{className:"mr-2 h-4 w-4"}),"Importazione completata"]}):o.jsxs(o.Fragment,{children:[o.jsx(qs,{className:"mr-2 h-4 w-4"}),"Avvia Importazione"]})}),i.categories&&i.transactions&&i.reminders&&o.jsx(z,{variant:"outline",className:"w-full text-primary border-primary/30 hover:bg-primary/10",onClick:()=>r("/"),children:"Vai alla Dashboard"})]})]})})}):o.jsx(pn,{children:o.jsx("div",{className:"container mx-auto p-6",children:o.jsxs(Re,{children:[o.jsxs(We,{children:[o.jsx(He,{children:"Accesso richiesto"}),o.jsx(Tt,{children:"Devi effettuare l'accesso per importare i dati dal vecchio software."})]}),o.jsx(De,{children:o.jsx(z,{onClick:()=>r("/auth"),children:"Vai al Login"})})]})})})}const vCe=()=>{const{toast:e}=pd(),[t,r]=p.useState(null),[n,a]=p.useState(!1),i=async()=>{const l=window.electronAPI;if(l?.getDiagnostics)try{const u=await l.getDiagnostics();r(u);return}catch(u){console.error("Failed to get diagnostics from main process:",u)}const c={isElectron:!!l?.isElectron,platform:l?.platform||navigator.platform,userAgent:navigator.userAgent,currentUrl:window.location.href,baseUrl:"./",nodeEnv:"production",electronVersion:"n/a (renderer only)",chromeVersion:navigator.userAgent.match(/Chrome\/(\d+\.\d+\.\d+\.\d+)/)?.[1]||"n/a",appPath:"n/a (renderer only)",distPath:"n/a (renderer only)",errors:[]};r(c)};p.useEffect(()=>{i()},[]);const s=()=>{if(!t)return;const l=JSON.stringify(t,null,2);navigator.clipboard.writeText(l),a(!0),e({title:"Copiato negli appunti"}),setTimeout(()=>a(!1),2e3)};return o.jsx(pn,{children:o.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-[#067d1c]",children:"Diagnostica"}),o.jsx("p",{className:"text-muted-foreground",children:"Informazioni di debug per l'applicazione"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(z,{variant:"outline",size:"sm",onClick:i,children:[o.jsx(Qf,{className:"w-4 h-4 mr-2"}),"Aggiorna"]}),o.jsxs(z,{variant:"outline",size:"sm",onClick:s,disabled:!t,children:[n?o.jsx(Vs,{className:"w-4 h-4 mr-2"}):o.jsx(uD,{className:"w-4 h-4 mr-2"}),n?"Copiato!":"Copia JSON"]})]})]}),t?o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(Re,{children:[o.jsxs(We,{children:[o.jsx(He,{className:"text-lg text-[#067d1c]",children:"Ambiente"}),o.jsx(Tt,{children:"Informazioni sull'ambiente di esecuzione"})]}),o.jsxs(De,{className:"space-y-3",children:[o.jsx(Za,{label:"Electron",value:t.isElectron?"S":"No (Browser)"}),o.jsx(Za,{label:"Piattaforma",value:t.platform}),o.jsx(Za,{label:"Modalit",value:t.nodeEnv}),o.jsx(Za,{label:"Versione Electron",value:t.electronVersion}),o.jsx(Za,{label:"Versione Chrome",value:t.chromeVersion})]})]}),o.jsxs(Re,{children:[o.jsxs(We,{children:[o.jsx(He,{className:"text-lg text-[#067d1c]",children:"Percorsi"}),o.jsx(Tt,{children:"URL e percorsi file"})]}),o.jsxs(De,{className:"space-y-3",children:[o.jsx(Za,{label:"URL corrente",value:t.currentUrl,mono:!0}),o.jsx(Za,{label:"Base URL",value:t.baseUrl,mono:!0}),o.jsx(Za,{label:"App Path",value:t.appPath,mono:!0}),o.jsx(Za,{label:"Dist Path",value:t.distPath,mono:!0})]})]}),o.jsxs(Re,{className:"md:col-span-2",children:[o.jsx(We,{children:o.jsx(He,{className:"text-lg text-[#067d1c]",children:"User Agent"})}),o.jsx(De,{children:o.jsx("code",{className:"text-xs bg-muted p-2 rounded block break-all",children:t.userAgent})})]}),t.errors.length>0&&o.jsxs(Re,{className:"md:col-span-2 border-destructive",children:[o.jsx(We,{children:o.jsx(He,{className:"text-lg text-destructive",children:"Errori di avvio"})}),o.jsx(De,{className:"space-y-2",children:t.errors.map((l,c)=>o.jsx("div",{className:"bg-destructive/10 text-destructive p-2 rounded text-sm font-mono",children:l},c))})]})]}):o.jsx(Re,{children:o.jsx(De,{className:"py-8 text-center text-muted-foreground",children:"Caricamento informazioni diagnostiche..."})})]})})},Za=({label:e,value:t,mono:r})=>o.jsxs("div",{className:"flex justify-between items-start gap-4",children:[o.jsx("span",{className:"text-muted-foreground text-sm shrink-0",children:e}),o.jsx("span",{className:`text-sm text-right break-all ${r?"font-mono":""}`,children:t})]}),ZS=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:J("w-full caption-bottom text-sm",e),...t})}));ZS.displayName="Table";const JS=p.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:J("[&_tr]:border-b",e),...t}));JS.displayName="TableHeader";const QS=p.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:J("[&_tr:last-child]:border-0",e),...t}));QS.displayName="TableBody";const xCe=p.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:J("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));xCe.displayName="TableFooter";const hd=p.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:J("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));hd.displayName="TableRow";const qr=p.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:J("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));qr.displayName="TableHead";const Wr=p.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:J("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Wr.displayName="TableCell";const bCe=p.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:J("mt-4 text-sm text-muted-foreground",e),...t}));bCe.displayName="TableCaption";function wCe(){const{isAdmin:e,loading:t}=so(),{user:r}=vt(),n=zn(),[a,i]=p.useState([]),[s,l]=p.useState(!0),[c,u]=p.useState(null),[d,f]=p.useState(null),[h,m]=p.useState({whatsapp_number:"",notification_enabled:!1,role:"user"});p.useEffect(()=>{!t&&!e&&(W.error("Accesso negato: richiesto ruolo admin"),n("/"))},[e,t,n]);const v=async()=>{try{l(!0);const{data:b,error:w}=await ie.rpc("get_all_users_for_admin");if(w){console.error("Error fetching users:",w),W.error("Errore nel caricamento utenti");return}i(b||[])}catch(b){console.error("Error:",b),W.error("Errore nel caricamento utenti")}finally{l(!1)}};p.useEffect(()=>{e&&v()},[e]);const g=b=>{f(b.id),m({whatsapp_number:b.whatsapp_number||"",notification_enabled:b.notification_enabled||!1,role:b.role||"user"})},y=()=>{f(null),m({whatsapp_number:"",notification_enabled:!1,role:"user"})},x=async b=>{try{u(b);const{error:w}=await ie.rpc("admin_update_profile",{_target_user_id:b,_whatsapp_number:h.whatsapp_number||null,_notification_enabled:h.notification_enabled});if(w){console.error("Error updating profile:",w),W.error("Errore aggiornamento profilo");return}const{error:j}=await ie.rpc("update_user_role",{_target_user_id:b,_new_role:h.role});if(j){console.error("Error updating role:",j),W.error("Errore aggiornamento ruolo");return}W.success("Utente aggiornato"),f(null),v()}catch(w){console.error("Error:",w),W.error("Errore salvataggio")}finally{u(null)}};return t||s?o.jsx(pn,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:o.jsx(Vt,{className:"w-8 h-8 animate-spin text-primary"})})}):e?o.jsx(pn,{children:o.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[o.jsxs(nt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-3",children:[o.jsx(x0,{className:"w-8 h-8 text-primary"}),o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-[#067d1c]",children:"Gestione Utenti"})]}),o.jsxs(z,{variant:"outline",size:"sm",onClick:v,className:"gap-2 text-primary border-primary/30 hover:bg-primary/10",children:[o.jsx(Qf,{className:"w-4 h-4"}),"Aggiorna"]})]}),o.jsxs(Re,{children:[o.jsx(We,{children:o.jsxs(He,{className:"flex items-center gap-2",children:[o.jsx(gD,{className:"w-5 h-5"}),"Utenti Registrati (",a.length,")"]})}),o.jsxs(De,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ZS,{children:[o.jsx(JS,{children:o.jsxs(hd,{children:[o.jsx(qr,{children:"Nome"}),o.jsx(qr,{children:"Ruolo"}),o.jsx(qr,{children:"Email Notifiche"}),o.jsx(qr,{children:"WhatsApp"}),o.jsx(qr,{children:"Notifiche"}),o.jsx(qr,{children:"Data Registrazione"}),o.jsx(qr,{className:"text-right",children:"Azioni"})]})}),o.jsx(QS,{children:a.map(b=>o.jsxs(hd,{children:[o.jsxs(Wr,{className:"font-medium",children:[b.full_name||"Senza nome",b.id===r?.id&&o.jsx(yt,{variant:"outline",className:"ml-2 text-xs",children:"Tu"})]}),o.jsx(Wr,{children:d===b.id?o.jsxs(St,{value:h.role,onValueChange:w=>m({...h,role:w}),children:[o.jsx(wt,{className:"w-24",children:o.jsx(Nt,{})}),o.jsxs(_t,{children:[o.jsx(Ae,{value:"user",children:"User"}),o.jsx(Ae,{value:"admin",children:"Admin"})]})]}):o.jsx(yt,{variant:b.role==="admin"?"default":"secondary",className:b.role==="admin"?"bg-primary":"",children:b.role==="admin"?o.jsxs(o.Fragment,{children:[o.jsx(Ko,{className:"w-3 h-3 mr-1"})," Admin"]}):"User"})}),o.jsx(Wr,{children:o.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[o.jsx(Jc,{className:"w-3 h-3"}),b.notification_enabled?"Attive":"Disattive"]})}),o.jsx(Wr,{children:d===b.id?o.jsx(gt,{value:h.whatsapp_number,onChange:w=>m({...h,whatsapp_number:w.target.value}),placeholder:"+39...",className:"w-32"}):o.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[o.jsx(C6,{className:"w-3 h-3 text-green-600"}),b.whatsapp_number||"-"]})}),o.jsx(Wr,{children:d===b.id?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(co,{checked:h.notification_enabled,onCheckedChange:w=>m({...h,notification_enabled:w})}),o.jsx(Me,{className:"text-xs",children:h.notification_enabled?"On":"Off"})]}):o.jsx(yt,{variant:b.notification_enabled?"default":"outline",children:b.notification_enabled?"On":"Off"})}),o.jsx(Wr,{className:"text-sm text-muted-foreground",children:b.created_at?ye(new Date(b.created_at),"dd MMM yyyy",{locale:$a}):"-"}),o.jsx(Wr,{className:"text-right",children:d===b.id?o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(z,{size:"sm",variant:"ghost",onClick:y,children:"Annulla"}),o.jsxs(z,{size:"sm",onClick:()=>x(b.id),disabled:c===b.id,className:"gap-1",children:[c===b.id?o.jsx(Vt,{className:"w-3 h-3 animate-spin"}):o.jsx(e1,{className:"w-3 h-3"}),"Salva"]})]}):o.jsx(z,{size:"sm",variant:"outline",onClick:()=>g(b),children:"Modifica"})})]},b.id))})]})}),a.length===0&&o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nessun utente trovato"})]})]})]})}):null}var fg="Collapsible",[_Ce]=Fr(fg),[jCe,eN]=_Ce(fg),FV=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:s,...l}=e,[c,u]=$n({prop:n,defaultProp:a??!1,onChange:s,caller:fg});return o.jsx(jCe,{scope:r,disabled:i,contentId:hn(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:o.jsx(Ce.div,{"data-state":rN(c),"data-disabled":i?"":void 0,...l,ref:t})})});FV.displayName=fg;var BV="CollapsibleTrigger",zV=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=eN(BV,r);return o.jsx(Ce.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":rN(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:ce(e.onClick,a.onOpenToggle)})});zV.displayName=BV;var tN="CollapsibleContent",UV=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=eN(tN,e.__scopeCollapsible);return o.jsx(Sr,{present:r||a.open,children:({present:i})=>o.jsx(SCe,{...n,ref:t,present:i})})});UV.displayName=tN;var SCe=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,s=eN(tN,r),[l,c]=p.useState(n),u=p.useRef(null),d=Fe(t,u),f=p.useRef(0),h=f.current,m=p.useRef(0),v=m.current,g=s.open||l,y=p.useRef(g),x=p.useRef(void 0);return p.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),ar(()=>{const b=u.current;if(b){x.current=x.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();f.current=w.height,m.current=w.width,y.current||(b.style.transitionDuration=x.current.transitionDuration,b.style.animationName=x.current.animationName),c(n)}},[s.open,n]),o.jsx(Ce.div,{"data-state":rN(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:g&&a})});function rN(e){return e?"open":"closed"}var NCe=FV;const CCe=NCe,TCe=zV,ECe=UV;function ACe(){const{user:e}=vt(),t=va(),{data:r=[],isLoading:n}=Gi({queryKey:["plans",e?.id],queryFn:async()=>{const{data:i,error:s}=await ie.from("plans").select("*").order("created_at",{ascending:!1});if(s)throw s;const{data:l,error:c}=await ie.from("transactions").select("id, plan_id, amount, date, installment_index, is_partial, paid_amount").not("plan_id","is",null);if(c)throw c;return(i||[]).map(d=>{const f=(l||[]).filter(y=>y.plan_id===d.id),h=f.filter(y=>y.is_partial===!0||Number(y.paid_amount)>=Number(y.amount)),m=f.reduce((y,x)=>x.is_partial===!0||Number(x.paid_amount)>=Number(x.amount)?y+Number(x.amount):y+(Number(x.paid_amount)||0),0),v=Number(d.total_amount)-m,g=Number(d.total_amount)>0?m/Number(d.total_amount)*100:0;return{...d,transactions:f,paidInstallments:h.length,paidAmount:m,remainingAmount:Math.max(0,v),progress:Math.min(100,g)}})},enabled:!!e}),a=Dr({mutationFn:async i=>{const{error:s}=await ie.from("transactions").delete().eq("plan_id",i);if(s)throw s;const{error:l}=await ie.from("plans").delete().eq("id",i);if(l)throw l},onSuccess:()=>{t.invalidateQueries({queryKey:["plans"]}),t.invalidateQueries({queryKey:["transactions"]})}});return{plans:r,isLoading:n,deletePlan:a}}function PCe({open:e,onOpenChange:t,plan:r}){const{user:n}=vt(),a=va(),[i,s]=p.useState(!1),[l,c]=p.useState(""),[u,d]=p.useState([]),[f,h]=p.useState([]),[m,v]=p.useState("");p.useEffect(()=>{r&&e&&(c(r.title),d(r.transactions.sort((N,T)=>(N.installment_index||0)-(T.installment_index||0)).map(N=>({id:N.id,amount:Number(N.amount),date:new Date(N.date),installment_index:N.installment_index,is_paid:N.is_partial===!0||Number(N.paid_amount)>=Number(N.amount)}))),h([]),v(""))},[r,e]);const g=(N,T)=>{const C=[...u];C[N].amount=parseFloat(T)||0,d(C)},y=(N,T)=>{if(!T)return;const C=[...u];C[N].date=T,d(C)},x=()=>{const N=u[u.length-1],T=N?new Date(N.date.getTime()+720*60*60*1e3):new Date,C=Math.max(...u.map(A=>A.installment_index||0),0);d([...u,{id:`new-${Date.now()}`,amount:N?.amount||100,date:T,installment_index:C+1,is_paid:!1,isNew:!0}])},b=N=>{if(v(N),!N)return;const T=parseInt(N);if(T<1||T>28)return;const C=u.map(A=>A.is_paid?A:{...A,date:_u(A.date,T)});d(C),W.success(`Giorno ${T} applicato a tutte le rate non pagate`)},w=N=>{const T=u[N];if(T.is_paid){W.error("Non puoi eliminare una rata gi pagata");return}T.isNew||h([...f,T.id]),d(u.filter((C,A)=>A!==N))},j=()=>u.reduce((N,T)=>N+T.amount,0),_=async()=>{if(!(!r||!n?.id)){s(!0);try{const N=j(),{error:T}=await ie.from("plans").update({total_amount:N,title:l,installments:u.length}).eq("id",r.id);if(T)throw T;if(f.length>0){const{error:C}=await ie.from("transactions").delete().in("id",f);if(C)throw C;for(const A of f){const P=r.transactions.find(E=>E.id===A);P&&await ie.from("reminders").delete().ilike("title",`%${r.title}%Rata ${P.installment_index}%`)}}for(let C=0;C<u.length;C++){const A=u[C],P=ye(A.date,"yyyy-MM-dd"),E=C+1;A.isNew?(await ie.from("transactions").insert({user_id:n.id,type:"uscita",amount:A.amount,date:P,description:`${l}  Rata ${E}/${u.length}`,category_id:null,plan_id:r.id,installment_index:E,installment_total:u.length,is_partial:!1,paid_amount:0}),await ie.from("reminders").insert({user_id:n.id,title:`${l}  Rata ${E}/${u.length}`,description:`Pagamento rata ${E} di ${u.length} del piano "${l}"`,amount:A.amount,due_date:P,notify_days_before:3,completed:!1,paid_amount:0})):await ie.from("transactions").update({amount:A.amount,date:P,description:`${l}  Rata ${E}/${u.length}`,installment_index:E,installment_total:u.length}).eq("id",A.id)}a.invalidateQueries({queryKey:["plans"]}),a.invalidateQueries({queryKey:["transactions"]}),a.invalidateQueries({queryKey:["reminders"]}),W.success("Piano rate aggiornato con successo"),t(!1)}catch(N){console.error("Error updating plan:",N),W.error("Errore durante l'aggiornamento")}finally{s(!1)}}},S=N=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(N);return r?o.jsx(ir,{open:e,onOpenChange:t,children:o.jsxs(tr,{className:"sm:max-w-lg max-h-[90vh] flex flex-col",children:[o.jsx(rr,{children:o.jsx(nr,{className:"flex items-center gap-2",children:"Modifica Piano Rate"})}),o.jsxs("div",{className:"space-y-4 flex-1 overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Titolo Piano"}),o.jsx(gt,{value:l,onChange:N=>c(N.target.value),placeholder:"Nome del piano"})]}),o.jsx(sa,{}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-secondary/30 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Totale Piano"}),o.jsx("p",{className:"text-xl font-bold text-primary",children:S(j())})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Rate"}),o.jsx("p",{className:"text-xl font-bold",children:u.length})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Me,{className:"flex items-center gap-2",children:[o.jsx(dW,{className:"w-4 h-4"}),"Applica giorno del mese a tutte le rate"]}),o.jsxs(St,{value:m,onValueChange:b,children:[o.jsx(wt,{children:o.jsx(Nt,{placeholder:"Seleziona giorno..."})}),o.jsx(_t,{children:Array.from({length:31},(N,T)=>T+1).map(N=>o.jsxs(Ae,{value:N.toString(),children:["Giorno ",N]},N))})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Cambia il giorno di scadenza per tutte le rate non ancora pagate"})]}),o.jsx(sa,{}),o.jsxs("div",{className:"flex-1 overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(Me,{children:"Rate"}),o.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:x,className:"h-8",children:[o.jsx(Bl,{className:"w-4 h-4 mr-1"}),"Aggiungi Rata"]})]}),o.jsx(ug,{className:"h-[220px] pr-4",children:o.jsx("div",{className:"space-y-3",children:u.map((N,T)=>o.jsxs("div",{className:J("p-3 rounded-lg border",N.is_paid?"bg-income/5 border-income/20":"bg-secondary/20 border-border",N.isNew&&"border-primary/30 border-dashed"),children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium",children:N.installment_index===0?"Acconto":`Rata ${T+1}`}),N.is_paid&&o.jsx(yt,{variant:"outline",className:"text-xs text-income border-income/30",children:"Pagata"}),N.isNew&&o.jsx(yt,{variant:"outline",className:"text-xs text-primary border-primary/30",children:"Nuova"})]}),!N.is_paid&&u.length>1&&o.jsx(z,{type:"button",variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:bg-destructive/10",onClick:()=>w(T),children:o.jsx(Lr,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Me,{className:"text-xs text-muted-foreground",children:"Importo ()"}),o.jsx(gt,{type:"number",step:"0.01",value:N.amount,onChange:C=>g(T,C.target.value),disabled:N.is_paid,className:"h-9"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Me,{className:"text-xs text-muted-foreground",children:"Scadenza"}),o.jsxs(fi,{children:[o.jsx(hi,{asChild:!0,children:o.jsxs(z,{variant:"outline",disabled:N.is_paid,className:J("w-full h-9 justify-start text-left font-normal",!N.date&&"text-muted-foreground"),children:[o.jsx(Gt,{className:"mr-2 h-4 w-4"}),ye(N.date,"dd/MM/yy")]})}),o.jsx(La,{className:"w-auto p-0",align:"start",children:o.jsx(ya,{mode:"single",selected:N.date,onSelect:C=>y(T,C),initialFocus:!0})})]})]})]})]},N.id))})})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx(z,{type:"button",variant:"outline",className:"flex-1",onClick:()=>t(!1),children:"Annulla"}),o.jsx(z,{type:"button",className:"flex-1 bg-primary hover:bg-primary/90",onClick:_,disabled:i||u.length===0,children:i?"Salvando...":o.jsxs(o.Fragment,{children:[o.jsx(e1,{className:"w-4 h-4 mr-2"}),"Salva Modifiche"]})})]})]})]})}):null}function OCe(){const{user:e}=vt(),{plans:t,isLoading:r,deletePlan:n}=ACe(),{updateTransaction:a}=qa(),[i,s]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState(new Set),[f,h]=p.useState(!1),[m,v]=p.useState(null),g=()=>e?.id?btoa(e.id).replace(/=/g,""):"",y=R=>{const O="https://tbqreletxtzaosvyyvnv.supabase.co/functions/v1/installments-calendar",M=new URLSearchParams({user_id:e?.id||"",token:g()});return`${O}?${M.toString()}`},x=R=>{const O=y();window.open(O,"_blank"),W.success("Download calendario avviato")},b=()=>{const R=y();window.open("https://calendar.google.com/calendar/r/settings/addbyurl","_blank");const M=R.replace("https://","webcal://");navigator.clipboard.writeText(M),W.success("URL copiato! Incollalo in Google Calendar")},w=()=>{const O=y().replace("https://","webcal://");window.location.href=O,W.success("Apertura Apple Calendar...")},j=R=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(R),_=async()=>{if(l)try{await n.mutateAsync(l),W.success("Piano rate eliminato con successo"),s(!1),c(null)}catch{W.error("Errore durante l'eliminazione")}},S=async(R,O,M)=>{try{await a.mutateAsync({id:R,is_partial:!O,paid_amount:O?0:M}),W.success(O?"Rata segnata come da pagare":"Rata segnata come pagata")}catch{W.error("Errore durante l'aggiornamento")}},N=R=>{d(O=>{const M=new Set(O);return M.has(R)?M.delete(R):M.add(R),M})},T=R=>{v(R),h(!0)},C=t.filter(R=>R.progress<100),A=t.filter(R=>R.progress>=100),P=C.reduce((R,O)=>R+O.remainingAmount,0),E=t.reduce((R,O)=>R+O.paidAmount,0);return r?o.jsx(pn,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):o.jsxs(pn,{children:[o.jsx(op,{}),o.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[o.jsx(fn,{className:"w-6 h-6 text-primary"}),"Piani Rate"]}),o.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Gestisci i tuoi pagamenti rateizzati"})]}),C.length>0&&o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsxs(z,{variant:"outline",className:"gap-2",children:[o.jsx(Gt,{className:"w-4 h-4"}),"Esporta Calendario"]})}),o.jsxs(On,{align:"end",className:"w-56",children:[o.jsxs(ut,{onClick:()=>x(),children:[o.jsx($r,{className:"w-4 h-4 mr-2"}),"Scarica file ICS"]}),o.jsx(Rh,{}),o.jsxs(ut,{onClick:b,children:[o.jsx(p0,{className:"w-4 h-4 mr-2"}),"Aggiungi a Google Calendar"]}),o.jsxs(ut,{onClick:w,children:[o.jsx(p0,{className:"w-4 h-4 mr-2"}),"Aggiungi a Apple Calendar"]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx(Re,{className:"bg-secondary/30",children:o.jsx(De,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(fn,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Piani Attivi"}),o.jsx("p",{className:"text-xl font-bold",children:C.length})]})]})})}),o.jsx(Re,{className:"bg-secondary/30",children:o.jsx(De,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-expense/10 flex items-center justify-center",children:o.jsx(bd,{className:"w-5 h-5 text-expense"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Da Pagare"}),o.jsx("p",{className:"text-xl font-bold text-expense",children:j(P)})]})]})})}),o.jsx(Re,{className:"bg-secondary/30",children:o.jsx(De,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-income/10 flex items-center justify-center",children:o.jsx(Vs,{className:"w-5 h-5 text-income"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Gi Pagato"}),o.jsx("p",{className:"text-xl font-bold text-income",children:j(E)})]})]})})})]}),C.length>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx($m,{className:"w-5 h-5 text-amber-500"}),"Piani Attivi (",C.length,")"]}),o.jsx("div",{className:"space-y-4",children:C.map((R,O)=>o.jsx(TM,{plan:R,index:O,isExpanded:u.has(R.id),onToggleExpand:()=>N(R.id),onEdit:()=>T(R),onDelete:()=>{c(R.id),s(!0)},onTogglePaid:S,formatCurrency:j},R.id))})]}),A.length>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(Vs,{className:"w-5 h-5 text-income"}),"Piani Completati (",A.length,")"]}),o.jsx("div",{className:"space-y-4",children:A.map((R,O)=>o.jsx(TM,{plan:R,index:O,isExpanded:u.has(R.id),onToggleExpand:()=>N(R.id),onEdit:()=>T(R),onDelete:()=>{c(R.id),s(!0)},onTogglePaid:S,formatCurrency:j,isCompleted:!0},R.id))})]}),t.length===0&&o.jsx(Re,{className:"bg-secondary/20",children:o.jsxs(De,{className:"p-8 text-center",children:[o.jsx(fn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nessun piano rate"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Crea una nuova transazione con pagamento rateizzato per iniziare."})]})})]}),o.jsx(Fn,{open:i,onOpenChange:s,children:o.jsxs(gn,{children:[o.jsxs(yn,{children:[o.jsx(xn,{children:"Eliminare questo piano?"}),o.jsx(bn,{children:"Questa azione eliminer il piano e tutte le rate associate. Non pu essere annullata."})]}),o.jsxs(vn,{children:[o.jsx(_n,{children:"Annulla"}),o.jsx(wn,{onClick:_,className:"bg-destructive hover:bg-destructive/90",children:"Elimina"})]})]})}),o.jsx(PCe,{open:f,onOpenChange:h,plan:m})]})}function TM({plan:e,index:t,isExpanded:r,onToggleExpand:n,onEdit:a,onDelete:i,onTogglePaid:s,formatCurrency:l,isCompleted:c}){const u=[...e.transactions].sort((d,f)=>(d.installment_index||0)-(f.installment_index||0));return o.jsx(nt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:t*.05},children:o.jsx(CCe,{open:r,onOpenChange:n,children:o.jsxs(Re,{className:J("overflow-hidden",c&&"opacity-75"),children:[o.jsx(We,{className:"p-4 pb-2",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx(He,{className:"text-base",children:e.title}),o.jsx(yt,{variant:"outline",className:"text-xs",children:e.frequency==="monthly"?"Mensile":"Annuale"}),c&&o.jsx(yt,{className:"bg-income/20 text-income border-0 text-xs",children:"Completato"})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Gt,{className:"w-3.5 h-3.5"}),ye(new Date(e.start_date),"dd MMM yyyy",{locale:$a})]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(IW,{className:"w-3.5 h-3.5"}),l(e.total_amount)]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-primary hover:bg-primary/10",onClick:d=>{d.stopPropagation(),a()},title:"Modifica piano",children:o.jsx(xd,{className:"w-4 h-4"})}),o.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:bg-destructive/10",onClick:d=>{d.stopPropagation(),i()},title:"Elimina piano",children:o.jsx(Lr,{className:"w-4 h-4"})}),o.jsx(TCe,{asChild:!0,children:o.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r?o.jsx(cD,{className:"w-4 h-4"}):o.jsx(il,{className:"w-4 h-4"})})})]})]})}),o.jsxs(De,{className:"p-4 pt-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsxs("span",{children:[e.paidInstallments," / ",e.transactions.length," rate pagate"]}),o.jsxs("span",{children:[Math.round(e.progress),"%"]})]}),o.jsx(YS,{value:e.progress,className:"h-2"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-income",children:["Pagato: ",l(e.paidAmount)]}),o.jsxs("span",{className:"text-expense",children:["Rimanente: ",l(e.remainingAmount)]})]})]}),o.jsx(ECe,{className:"mt-4",children:o.jsxs("div",{className:"border-t pt-4 space-y-2",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Dettaglio Rate"}),u.map(d=>{const f=d.is_partial===!0||Number(d.paid_amount)>=Number(d.amount),h=d.installment_index===0;return o.jsxs("div",{className:J("flex items-center justify-between p-3 rounded-lg",f?"bg-income/5":"bg-secondary/30"),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>s(d.id,f,Number(d.amount)),className:J("w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all",f?"bg-income border-income text-white":"border-muted-foreground/30 hover:border-income/50"),children:f&&o.jsx(Vs,{className:"w-3 h-3"})}),o.jsxs("div",{children:[o.jsx("span",{className:J("text-sm font-medium",f&&"text-muted-foreground line-through"),children:h?"Acconto":`Rata ${d.installment_index}`}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Scadenza: ",ye(new Date(d.date),"dd MMM yyyy",{locale:$a})]})]})]}),o.jsx("span",{className:J("font-semibold",f?"text-income":"text-foreground"),children:l(Number(d.amount))})]},d.id)})]})})]})]})})})}function kCe(){const{allAttachments:e,isLoadingAll:t,deleteAttachment:r}=y5(),{transactions:n}=qa(),{reminders:a}=as(),[i,s]=p.useState("all"),[l,c]=p.useState("all"),[u,d]=p.useState(""),[f,h]=p.useState(""),[m,v]=p.useState(!1),[g,y]=p.useState(null),[x,b]=p.useState(!1),[w,j]=p.useState(null),_=D=>{if(D.entity_type==="transaction"){const I=n.find(F=>F.id===D.entity_id);return{description:I?.description||"Transazione",date:I?.date,amount:I?.amount}}else{const I=a.find(F=>F.id===D.entity_id);return{description:I?.title||"Promemoria",date:I?.due_date,amount:I?.amount}}},S=p.useMemo(()=>e.filter(D=>{if(i!=="all"&&D.entity_type!==i||l==="pdf"&&D.file_type!=="application/pdf"||l==="image"&&!D.file_type.startsWith("image/"))return!1;const I=_(D);return!(I.date&&(u&&I.date<u||f&&I.date>f))}),[e,i,l,u,f,n,a]),N=D=>D.startsWith("image/"),T=D=>D==="application/pdf",C=D=>{y(D),v(!0)},A=D=>{const I=document.createElement("a");I.href=D.file_url,I.download=D.file_name,I.target="_blank",document.body.appendChild(I),I.click(),document.body.removeChild(I)},P=D=>{const I=window.open("","_blank");if(!I){W.error("Impossibile aprire finestra di stampa");return}const F=N(D.file_type);T(D.file_type)?I.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Stampa: ${D.file_name}</title>
            <style>
              * { margin: 0; padding: 0; }
              body { display: flex; justify-content: center; align-items: flex-start; min-height: 100vh; }
              iframe { width: 100%; height: 100vh; border: none; }
            </style>
          </head>
          <body>
            <iframe src="${D.file_url}" onload="setTimeout(() => { window.print(); }, 500);"></iframe>
          </body>
        </html>
      `):F&&I.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Stampa: ${D.file_name}</title>
            <style>
              * { margin: 0; padding: 0; box-sizing: border-box; }
              body { 
                display: flex; 
                justify-content: center; 
                align-items: center; 
                min-height: 100vh; 
                padding: 20px;
                background: #fff;
              }
              img { 
                max-width: 100%; 
                max-height: 90vh; 
                object-fit: contain;
              }
              @media print {
                body { padding: 0; }
                img { max-height: 100%; }
              }
            </style>
          </head>
          <body>
            <img src="${D.file_url}" alt="${D.file_name}" onload="setTimeout(() => { window.print(); }, 300);" />
          </body>
        </html>
      `),I.document.close(),W.success("Stampa avviata")},E=D=>{j(D),b(!0)},R=async()=>{w&&(await r.mutateAsync(w),b(!1),j(null))},O=D=>{if(!D)return"-";try{return ye(Pi(D),"dd/MM/yyyy",{locale:$a})}catch{return D}},M=D=>D==null?"-":new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(D);return o.jsxs(pn,{children:[o.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Zc,{className:"h-8 w-8 text-primary"}),o.jsx("h1",{className:"text-2xl font-bold",children:"Archivio"})]}),o.jsxs(Re,{children:[o.jsx(We,{className:"pb-3",children:o.jsxs(He,{className:"text-lg flex items-center gap-2",children:[o.jsx(dD,{className:"h-5 w-5"}),"Filtri"]})}),o.jsx(De,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Tipo"}),o.jsxs(St,{value:i,onValueChange:D=>s(D),children:[o.jsx(wt,{children:o.jsx(Nt,{})}),o.jsxs(_t,{children:[o.jsx(Ae,{value:"all",children:"Tutti"}),o.jsx(Ae,{value:"transaction",children:"Transazioni"}),o.jsx(Ae,{value:"reminder",children:"Promemoria"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Formato"}),o.jsxs(St,{value:l,onValueChange:D=>c(D),children:[o.jsx(wt,{children:o.jsx(Nt,{})}),o.jsxs(_t,{children:[o.jsx(Ae,{value:"all",children:"Tutti"}),o.jsx(Ae,{value:"pdf",children:"PDF"}),o.jsx(Ae,{value:"image",children:"Immagini"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Dal"}),o.jsxs("div",{className:"relative",children:[o.jsx(Gt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(gt,{type:"date",value:u,onChange:D=>d(D.target.value),className:"pl-10"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{children:"Al"}),o.jsxs("div",{className:"relative",children:[o.jsx(Gt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(gt,{type:"date",value:f,onChange:D=>h(D.target.value),className:"pl-10"})]})]})]})})]}),o.jsxs(Re,{children:[o.jsx(We,{className:"pb-3",children:o.jsxs(He,{className:"text-lg",children:["Allegati (",S.length,")"]})}),o.jsx(De,{children:t?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Vt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):S.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Zc,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Nessun allegato presente"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ZS,{children:[o.jsx(JS,{children:o.jsxs(hd,{children:[o.jsx(qr,{className:"w-12"}),o.jsx(qr,{children:"Nome file"}),o.jsx(qr,{children:"Tipo"}),o.jsx(qr,{children:"Riferimento"}),o.jsx(qr,{children:"Data"}),o.jsx(qr,{children:"Importo"}),o.jsx(qr,{className:"text-right",children:"Azioni"})]})}),o.jsx(QS,{children:S.map(D=>{const I=_(D);return o.jsxs(hd,{children:[o.jsx(Wr,{children:N(D.file_type)?o.jsx(Zf,{className:"h-5 w-5 text-blue-500"}):o.jsx(Eu,{className:"h-5 w-5 text-destructive"})}),o.jsx(Wr,{className:"font-medium max-w-[200px] truncate",children:D.file_name}),o.jsx(Wr,{children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${D.entity_type==="transaction"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-amber-100 text-amber-700 dark:bg-amber-900 dark:text-amber-300"}`,children:D.entity_type==="transaction"?"Transazione":"Promemoria"})}),o.jsx(Wr,{className:"max-w-[200px] truncate",children:I.description}),o.jsx(Wr,{children:O(I.date)}),o.jsx(Wr,{children:M(I.amount)}),o.jsx(Wr,{children:o.jsxs("div",{className:"flex items-center justify-end gap-1",children:[o.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>C(D),title:"Visualizza",children:o.jsx(ai,{className:"h-4 w-4"})}),o.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>A(D),title:"Scarica",children:o.jsx($r,{className:"h-4 w-4"})}),o.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>P(D),title:"Stampa allegato",children:o.jsx(Ph,{className:"h-5 w-5"})}),o.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>E(D),title:"Elimina",children:o.jsx(Lr,{className:"h-4 w-4"})})]})})]},D.id)})})]})})})]})]}),o.jsx(ir,{open:m,onOpenChange:v,children:o.jsxs(tr,{className:"max-w-4xl max-h-[90vh]",children:[o.jsx(rr,{children:o.jsxs(nr,{className:"flex items-center gap-2",children:[g&&T(g.file_type)&&o.jsx(Eu,{className:"h-5 w-5 text-destructive"}),g&&N(g.file_type)&&o.jsx(Zf,{className:"h-5 w-5 text-blue-500"}),g?.file_name]})}),o.jsxs("div",{className:"overflow-auto max-h-[60vh]",children:[g&&N(g.file_type)&&o.jsx("img",{src:g.file_url,alt:g.file_name,className:"w-full h-auto"}),g&&T(g.file_type)&&o.jsx("iframe",{src:g.file_url,className:"w-full h-[60vh]",title:g.file_name})]}),o.jsxs(Ls,{className:"flex-row justify-end gap-2",children:[o.jsxs(z,{variant:"outline",size:"sm",onClick:()=>g&&A(g),children:[o.jsx($r,{className:"h-4 w-4 mr-2"}),"Scarica"]}),o.jsxs(z,{variant:"default",size:"sm",onClick:()=>g&&P(g),children:[o.jsx(Ph,{className:"h-5 w-5 mr-2"}),"Stampa allegato"]})]})]})}),o.jsx(Fn,{open:x,onOpenChange:b,children:o.jsxs(gn,{children:[o.jsxs(yn,{children:[o.jsx(xn,{children:"Eliminare allegato?"}),o.jsxs(bn,{children:['Stai per eliminare "',w?.file_name,'". Questa azione non pu essere annullata.']})]}),o.jsxs(vn,{children:[o.jsx(_n,{children:"Annulla"}),o.jsx(wn,{onClick:R,className:"bg-destructive text-destructive-foreground",children:"Elimina"})]})]})})]})}const EM=[{name:"Transazioni illimitate",free:!0,pro:!0},{name:"Promemoria scadenze",free:!0,pro:!0},{name:"Categorie personalizzate",free:!0,pro:!0},{name:"Rate e piani di pagamento",free:!0,pro:!0},{name:"Allegati documenti",free:!1,pro:!0},{name:"Export PDF e Excel",free:!1,pro:!0},{name:"Report avanzati",free:!1,pro:!0},{name:"Sintesi vocale TTS",free:!1,pro:!0},{name:"Notifiche WhatsApp",free:!1,pro:!0},{name:"Backup automatici",free:!1,pro:!0},{name:"Supporto prioritario",free:!1,pro:!0}];function RCe(){const{user:e}=vt(),{upgradeToPro:t,loading:r,isInTrial:n,trialDaysRemaining:a}=Xl(),i=zn(),[s,l]=p.useState(null);return p.useEffect(()=>{(async()=>{if(!e){l(null);return}const{data:u}=await ie.from("profiles").select("subscription_status").eq("id",e.id).single();l(u?.subscription_status==="active")})()},[e]),o.jsx(pn,{children:o.jsxs("div",{className:"p-4 md:p-6 max-w-5xl mx-auto",children:[o.jsxs(nt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-8",children:[o.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>i(-1),className:"mb-4",children:[o.jsx(Q_,{className:"w-4 h-4 mr-2"}),"Indietro"]}),o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-primary mb-2",children:"Scegli il tuo piano"}),o.jsx("p",{className:"text-muted-foreground text-lg",children:"Sblocca tutto il potenziale di Gestione Scadenze"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-3xl mx-auto mb-12",children:[o.jsx(nt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:o.jsxs(Re,{className:"h-full border-2",children:[o.jsxs(We,{className:"text-center pb-2",children:[o.jsx(He,{className:"text-2xl",children:n?"Trial Pro":"Free"}),o.jsx(Tt,{children:n?`${a} giorni rimasti`:"Per iniziare"}),o.jsxs("div",{className:"pt-4",children:[o.jsx("span",{className:"text-4xl font-bold",children:"0"}),o.jsx("span",{className:"text-muted-foreground",children:"/mese"})]}),!e&&o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"7 giorni di prova gratuita con tutte le funzionalit Pro"})]}),o.jsxs(De,{className:"space-y-4",children:[o.jsx("ul",{className:"space-y-3",children:EM.map(c=>o.jsxs("li",{className:"flex items-center gap-3",children:[n||c.free?o.jsx(Ln,{className:"w-5 h-5 text-green-500 flex-shrink-0"}):o.jsx(ma,{className:"w-5 h-5 text-muted-foreground/40 flex-shrink-0"}),o.jsx("span",{className:!n&&!c.free?"text-muted-foreground/60":"",children:c.name})]},c.name))}),n&&o.jsxs(yt,{className:"w-full justify-center py-2 bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 border-0",children:["Trial attivo - ",a," giorni rimasti"]}),!s&&s!==null&&!n&&o.jsx(z,{variant:"outline",className:"w-full",disabled:!0,children:"Piano attuale"})]})]})}),o.jsx(nt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:o.jsxs(Re,{className:"h-full border-2 border-yellow-500 relative overflow-hidden shadow-xl shadow-yellow-500/20",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-yellow-400 via-orange-500 to-yellow-400"}),o.jsxs(yt,{className:"absolute top-4 right-4 bg-gradient-to-r from-yellow-500 to-orange-500 text-white border-0",children:[o.jsx(er,{className:"w-3 h-3 mr-1"}),"Consigliato"]}),o.jsxs(We,{className:"text-center pb-2 pt-12",children:[o.jsxs(He,{className:"text-2xl flex items-center justify-center gap-2",children:[o.jsx(er,{className:"w-6 h-6 text-yellow-500"}),"Pro Mensile"]}),o.jsx(Tt,{children:"Accesso completo"}),o.jsxs("div",{className:"pt-4",children:[o.jsx("span",{className:"text-4xl font-bold",children:"4,99"}),o.jsx("span",{className:"text-muted-foreground",children:"/mese"})]})]}),o.jsxs(De,{className:"space-y-4",children:[o.jsx("ul",{className:"space-y-3",children:EM.map(c=>o.jsxs("li",{className:"flex items-center gap-3",children:[o.jsx(Ln,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),o.jsx("span",{children:c.name})]},c.name))}),s?o.jsxs(z,{className:"w-full",disabled:!0,children:[o.jsx(er,{className:"w-4 h-4 mr-2"}),"Piano attuale"]}):e?o.jsxs(z,{onClick:()=>t(),disabled:r,className:"w-full bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white shadow-lg text-lg py-6",children:[o.jsx(er,{className:"w-5 h-5 mr-2"}),r?"Caricamento...":"Abbonati ora"]}):o.jsx(z,{onClick:()=>i("/auth"),className:"w-full bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white text-lg py-6",children:"Registrati per iniziare"})]})]})})]}),o.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Domande frequenti"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-left max-w-3xl mx-auto",children:[o.jsxs(Re,{children:[o.jsx(We,{className:"pb-2",children:o.jsx(He,{className:"text-base",children:"Come funziona il periodo di prova?"})}),o.jsx(De,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"Quando ti registri, hai 7 giorni di accesso completo a tutte le funzionalit Pro gratuitamente. Nessuna carta di credito richiesta."})})]}),o.jsxs(Re,{children:[o.jsx(We,{className:"pb-2",children:o.jsx(He,{className:"text-base",children:"Posso annullare in qualsiasi momento?"})}),o.jsx(De,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"S, puoi annullare la tua sottoscrizione in qualsiasi momento. L'accesso Pro rimarr attivo fino alla fine del periodo di fatturazione."})})]}),o.jsxs(Re,{children:[o.jsx(We,{className:"pb-2",children:o.jsx(He,{className:"text-base",children:"Come funziona il pagamento?"})}),o.jsx(De,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"Utilizziamo Stripe per gestire i pagamenti in modo sicuro. Accettiamo carte di credito e debito."})})]}),o.jsxs(Re,{children:[o.jsx(We,{className:"pb-2",children:o.jsx(He,{className:"text-base",children:"Cosa succede dopo il trial?"})}),o.jsx(De,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"Dopo 7 giorni, le funzionalit Pro verranno bloccate. Potrai comunque usare le funzionalit base o abbonarti per 4,99/mese."})})]})]})]})]})})}const MCe=()=>{const e=K_();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},DCe=new F7,ICe=()=>o.jsx(B7,{client:DCe,children:o.jsx(OY,{children:o.jsx(kY,{children:o.jsx(RY,{children:o.jsxs(p7,{children:[o.jsx(K8,{}),o.jsx(CH,{}),o.jsx(WV,{children:o.jsxs(HV,{children:[o.jsx(Zr,{path:"/landing",element:o.jsx(Nle,{})}),o.jsx(Zr,{path:"/auth",element:o.jsx(_le,{})}),o.jsx(Zr,{path:"/install",element:o.jsx(gCe,{})}),o.jsx(Zr,{path:"/",element:o.jsx(Ka,{children:o.jsx(ble,{})})}),o.jsx(Zr,{path:"/transactions",element:o.jsx(Ka,{children:o.jsx(wNe,{})})}),o.jsx(Zr,{path:"/reminders",element:o.jsx(Ka,{children:o.jsx(TNe,{})})}),o.jsx(Zr,{path:"/plans",element:o.jsx(Ka,{children:o.jsx(OCe,{})})}),o.jsx(Zr,{path:"/settings",element:o.jsx(Ka,{children:o.jsx(pCe,{})})}),o.jsx(Zr,{path:"/import",element:o.jsx(Ka,{children:o.jsx(yCe,{})})}),o.jsx(Zr,{path:"/diagnostics",element:o.jsx(Ka,{children:o.jsx(vCe,{})})}),o.jsx(Zr,{path:"/archive",element:o.jsx(Ka,{children:o.jsx(kCe,{})})}),o.jsx(Zr,{path:"/admin/users",element:o.jsx(Ka,{children:o.jsx(wCe,{})})}),o.jsx(Zr,{path:"/pricing",element:o.jsx(RCe,{})}),o.jsx(Zr,{path:"*",element:o.jsx(MCe,{})})]})})]})})})})}),$Ce="modulepreload",LCe=function(e,t){return new URL(e,t).href},AM={},FCe=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const s=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");a=u(r.map(d=>{if(d=LCe(d,n),d in AM)return;AM[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(n)for(let v=s.length-1;v>=0;v--){const g=s[v];if(g.href===d&&(!f||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":$Ce,f||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),f)return new Promise((v,g)=>{m.addEventListener("load",v),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function BCe(e={}){const{immediate:t=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:a,onRegisteredSW:i,onRegisterError:s}=e;let l,c;const u=async(f=!0)=>{await c};async function d(){if("serviceWorker"in navigator){if(l=await FCe(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:f}},[],import.meta.url).then(({Workbox:f})=>new f("./sw.js",{scope:"./",type:"classic"})).catch(f=>{s?.(f)}),!l)return;l.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),l.addEventListener("installed",f=>{f.isUpdate||n?.()}),l.register({immediate:t}).then(f=>{i?i("./sw.js",f):a?.(f)}).catch(f=>{s?.(f)})}}return c=d(),u}XV.createRoot(document.getElementById("root")).render(o.jsx(ICe,{}));BCe({immediate:!0});
