name: Sync Lovable to Production

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  notify-sync:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v4
      
    - name: Log sync event
      run: |
        echo "ğŸ”„ Sincronizzazione attivata"
        echo "ğŸ“… Data: $(date)"
        echo "ğŸ”— Commit: ${{ github.sha }}"
        echo "ğŸ‘¤ Autore: ${{ github.actor }}"
        echo ""
        echo "âœ… Lovable sincronizzerÃ  automaticamente gestionescadenze.app"
        echo "â³ Attendi 5-10 minuti per la propagazione"
        
    - name: Verify build would work
      run: |
        if [ -f "package.json" ]; then
          echo "âœ… package.json trovato"
        fi
        if [ -f "vite.config.ts" ]; then
          echo "âœ… vite.config.ts trovato"
        fi
